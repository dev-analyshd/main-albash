module.exports=[606406,a=>{"use strict";var b=a.i(234157);a.s(["CheckIcon",()=>b.default])},3688,a=>{"use strict";var b=a.i(572131),c=a.i(872752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},234157,a=>{"use strict";let b=(0,a.i(170106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["default",()=>b])},703130,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},404650,a=>{"use strict";let b=(0,a.i(170106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["default",()=>b])},596221,a=>{"use strict";var b=a.i(404650);a.s(["Loader2",()=>b.default])},626405,a=>{"use strict";let b=(0,a.i(170106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["default",()=>b])},816201,a=>{"use strict";var b=a.i(626405);a.s(["CheckCircle",()=>b.default])},973365,a=>{"use strict";let b=(0,a.i(170106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["default",()=>b])},400210,a=>{"use strict";var b=a.i(973365);a.s(["ArrowLeft",()=>b.default])},718072,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(340695),e=a.i(205522),f=a.i(917171),g=a.i(703130),h=a.i(887682),i=a.i(400210),j=a.i(809871),k=a.i(596221),l=a.i(816201),m=a.i(238246),n=a.i(269240),o=a.i(50944);function p(){let[a,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)({listing_id:"",starting_price:"",reserve_price:"",bid_increment:"1",duration:"7"}),y=(0,o.useRouter)(),z=(0,n.createClient)();(0,c.useEffect)(()=>{!async function(){let{data:{user:a}}=await z.auth.getUser();if(a){let{data:b}=await z.from("listings").select("id, title, images").eq("seller_id",a.id).eq("status","active");p(b||[])}r(!1)}()},[z]);let A=async a=>{a.preventDefault(),t(!0);let{data:{user:b}}=await z.auth.getUser();if(!b)return;let c=new Date,d=new Date(c.getTime()+24*Number.parseInt(w.duration)*36e5),{error:e}=await z.from("auctions").insert({listing_id:w.listing_id,seller_id:b.id,starting_price:Number.parseFloat(w.starting_price),reserve_price:w.reserve_price?Number.parseFloat(w.reserve_price):null,bid_increment:Number.parseFloat(w.bid_increment),start_time:c.toISOString(),end_time:d.toISOString(),status:"active"});e||(v(!0),setTimeout(()=>y.push("/marketplace/auctions"),2e3)),t(!1)};return u?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsx)(g.Card,{className:"max-w-md w-full text-center",children:(0,b.jsxs)(g.CardContent,{className:"pt-12 pb-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(l.CheckCircle,{className:"h-8 w-8 text-green-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Auction Created!"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Redirecting to auctions page..."})]})})}):(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)(m.default,{href:"/dashboard",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-1",children:[(0,b.jsx)(i.ArrowLeft,{className:"h-4 w-4"}),"Back to Dashboard"]})}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Gavel,{className:"h-5 w-5"}),"Create Auction"]}),(0,b.jsx)(g.CardDescription,{children:"Set up an auction for one of your listings"})]}),(0,b.jsx)(g.CardContent,{children:q?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading your listings..."})]}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(j.Gavel,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"No Listings Available"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"Create a listing first before starting an auction"}),(0,b.jsx)(m.default,{href:"/dashboard/listings/new",children:(0,b.jsx)(d.Button,{children:"Create Listing"})})]}):(0,b.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"listing",children:"Select Listing *"}),(0,b.jsxs)(h.Select,{value:w.listing_id,onValueChange:a=>x({...w,listing_id:a}),children:[(0,b.jsx)(h.SelectTrigger,{className:"mt-2",children:(0,b.jsx)(h.SelectValue,{placeholder:"Choose a listing"})}),(0,b.jsx)(h.SelectContent,{children:a.map(a=>(0,b.jsx)(h.SelectItem,{value:a.id,children:a.title},a.id))})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"starting_price",children:"Starting Price ($) *"}),(0,b.jsx)(e.Input,{id:"starting_price",type:"number",min:"0",step:"0.01",value:w.starting_price,onChange:a=>x({...w,starting_price:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"reserve_price",children:"Reserve Price ($)"}),(0,b.jsx)(e.Input,{id:"reserve_price",type:"number",min:"0",step:"0.01",value:w.reserve_price,onChange:a=>x({...w,reserve_price:a.target.value}),placeholder:"Optional"})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"bid_increment",children:"Bid Increment ($)"}),(0,b.jsxs)(h.Select,{value:w.bid_increment,onValueChange:a=>x({...w,bid_increment:a}),children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"1",children:"$1.00"}),(0,b.jsx)(h.SelectItem,{value:"5",children:"$5.00"}),(0,b.jsx)(h.SelectItem,{value:"10",children:"$10.00"}),(0,b.jsx)(h.SelectItem,{value:"25",children:"$25.00"}),(0,b.jsx)(h.SelectItem,{value:"50",children:"$50.00"}),(0,b.jsx)(h.SelectItem,{value:"100",children:"$100.00"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"duration",children:"Duration"}),(0,b.jsxs)(h.Select,{value:w.duration,onValueChange:a=>x({...w,duration:a}),children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"1",children:"1 Day"}),(0,b.jsx)(h.SelectItem,{value:"3",children:"3 Days"}),(0,b.jsx)(h.SelectItem,{value:"5",children:"5 Days"}),(0,b.jsx)(h.SelectItem,{value:"7",children:"7 Days"}),(0,b.jsx)(h.SelectItem,{value:"14",children:"14 Days"}),(0,b.jsx)(h.SelectItem,{value:"30",children:"30 Days"})]})]})]})]}),(0,b.jsxs)(d.Button,{type:"submit",className:"w-full",disabled:s||!w.listing_id,children:[s&&(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),s?"Creating...":"Create Auction"]})]})})]})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=_9c13b42f._.js.map