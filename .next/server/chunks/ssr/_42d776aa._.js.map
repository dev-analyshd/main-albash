{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../components/dashboard/status-poller.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Loader2 } from \"lucide-react\"\r\n\r\ninterface StatusPollerProps {\r\n  isPending: boolean\r\n}\r\n\r\n// Polls verification status to keep dashboard in sync without manual refresh\r\nexport function StatusPoller({ isPending }: StatusPollerProps) {\r\n  const router = useRouter()\r\n  const [polling, setPolling] = useState(isPending)\r\n\r\n  useEffect(() => {\r\n    if (!isPending) return\r\n    setPolling(true)\r\n\r\n    const interval = setInterval(async () => {\r\n      try {\r\n        const res = await fetch(\"/api/verification\", { cache: \"no-store\" })\r\n        if (!res.ok) return\r\n        const data = await res.json()\r\n        const latest = data?.data?.[0]\r\n        const status = latest?.status\r\n        if (status === \"approved\" || status === \"rejected\") {\r\n          setPolling(false)\r\n          router.refresh()\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Status poll error:\", err)\r\n      }\r\n    }, 8000) // 8s interval for light load\r\n\r\n    return () => clearInterval(interval)\r\n  }, [isPending, router])\r\n\r\n  if (!polling) return null\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2 text-xs text-muted-foreground mt-2\">\r\n      <Badge variant=\"outline\" className=\"flex items-center gap-2\">\r\n        <Loader2 className=\"h-3 w-3 animate-spin\" />\r\n        Live status updates\r\n      </Badge>\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"wCAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAe,CAAf,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAe,OAAA,EAAiB,cAAgB,CAAA,CAAA,AACpD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAA+B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAK,AAAL,QAAK,CAAU,CAAA,CAC7D,CAAA,CAAA,4ICbD,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAOO,SAAS,EAAa,WAAE,CAAS,CAAqB,EAC3D,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,SAyBvC,CAvBA,CAAA,EAAA,AAuBI,EAvBJ,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAW,OAChB,GAAW,GAEX,IAAM,EAAW,YAAY,UAC3B,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,oBAAqB,CAAE,MAAO,UAAW,GACjE,GAAI,CAAC,EAAI,EAAE,CAAE,OACb,IAAM,EAAO,MAAM,EAAI,IAAI,GACrB,EAAS,GAAM,MAAM,CAAC,EAAE,CACxB,EAAS,GAAQ,QACR,aAAX,GAAoC,aAAX,CAAW,GAAY,CAClD,GAAW,GACX,EAAO,OAAO,GAElB,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,qBAAsB,EACtC,CACF,EAAG,KAEH,CAFS,KAEF,IAAM,cAAc,EAC7B,EAAG,CAAC,CAHoC,CAGzB,EAAO,EAEjB,GAGH,CAAA,EAAA,EAAA,CAHY,EAGZ,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,oCACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,yBAAyB,2BAL7B,IAUvB"}