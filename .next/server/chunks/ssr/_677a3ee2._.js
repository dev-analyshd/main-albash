module.exports=[846867,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call StatusPoller() from the server but StatusPoller is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/status-poller.tsx <module evaluation>","StatusPoller");a.s(["StatusPoller",0,b])},995283,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call StatusPoller() from the server but StatusPoller is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/dashboard/status-poller.tsx","StatusPoller");a.s(["StatusPoller",0,b])},29185,a=>{"use strict";a.i(846867);var b=a.i(995283);a.n(b)},475403,a=>{"use strict";var b=a.i(907997),c=a.i(998310),d=a.i(529171),e=a.i(640088),f=a.i(943917),g=a.i(395936),h=a.i(29185),i=a.i(101476),j=a.i(384674),k=a.i(491158),l=a.i(888588),m=a.i(336361),n=a.i(352739);let o=(0,a.i(701269).default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var p=a.i(492737),q=a.i(682604),r=a.i(356603),s=a.i(21679);async function t(){let a=await (0,c.createClient)(),{data:{user:t}}=await a.auth.getUser(),{data:u}=await a.from("profiles").select("*").eq("id",t?.id).single(),{data:v}=await a.from("verification_requests").select("*").eq("user_id",t?.id).eq("status","pending").maybeSingle(),w=u?.verification_status||"AUTHENTICATED_UNVERIFIED",x=u?.is_verified||"VERIFIED"===w,y="VERIFICATION_PENDING"===w||!!v,{data:z}=await a.from("listings").select("*").eq("seller_id",t?.id),{data:A}=await a.from("applications").select("*").eq("user_id",t?.id).order("created_at",{ascending:!1}).limit(5),{data:B}=await a.from("transactions").select("*").or(`buyer_id.eq.${t?.id},seller_id.eq.${t?.id}`).order("created_at",{ascending:!1}).limit(5),{data:C}=await a.from("reputation_logs").select("*").eq("user_id",t?.id).order("created_at",{ascending:!1}).limit(5),D=z?.filter(a=>"active"===a.status).length||0,E=z?.reduce((a,b)=>a+(b.views||0),0)||0,F=B?.filter(a=>a.seller_id===t?.id&&"completed"===a.status).length||0,G=[{title:"Active Listings",value:D,icon:i.Store,color:"text-blue-600",bgColor:"bg-blue-100",href:"/dashboard/listings"},{title:"Total Views",value:E,icon:n.Eye,color:"text-green-600",bgColor:"bg-green-100",href:"/dashboard/listings"},{title:"Sales",value:F,icon:o,color:"text-purple-600",bgColor:"bg-purple-100",href:"/dashboard/transactions"},{title:"Reputation",value:u?.reputation_score||0,icon:l.Star,color:"text-yellow-600",bgColor:"bg-yellow-100",href:"/dashboard/reputation"}];return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold",children:["Welcome back, ",u?.full_name||"User"]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Here's an overview of your activity on AlbashSolutions"})]}),u&&(0,b.jsx)(d.Card,{className:x?"border-green-500/20 bg-green-500/5":y?"border-yellow-500/20 bg-yellow-500/5":"border-primary/20 bg-primary/5",children:(0,b.jsxs)(d.CardContent,{className:"flex items-center justify-between p-6",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:x?"Verified Account":y?"Verification Pending":"Verification Required"}),(0,b.jsx)(e.Badge,{variant:x?"default":y?"secondary":"outline",className:x?"bg-green-500 text-white":y?"bg-yellow-500 text-white":"",children:w.replace("_"," ")})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:x?"You have full access to all platform features including marketplace listings, community posting, and tokenization.":y?"Your verification request is being reviewed. You'll be notified once a decision is made.":"Get verified to unlock all platform features including marketplace listings, community posting, and tokenization."}),(0,b.jsx)(h.StatusPoller,{isPending:y})]}),!x&&!y&&(0,b.jsx)(g.default,{href:"/verification",children:(0,b.jsxs)(f.Button,{className:"ml-6",children:["Request Verification",(0,b.jsx)(p.ArrowRight,{className:"ml-2 h-4 w-4"})]})}),y&&(0,b.jsx)(g.default,{href:"/verification",children:(0,b.jsxs)(f.Button,{variant:"outline",className:"ml-6",children:["View Status",(0,b.jsx)(p.ArrowRight,{className:"ml-2 h-4 w-4"})]})})]})}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:G.map(a=>(0,b.jsx)(g.default,{href:a.href,children:(0,b.jsx)(d.Card,{className:"hover:shadow-md transition-shadow cursor-pointer",children:(0,b.jsxs)(d.CardContent,{className:"flex items-center gap-4 p-6",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg ${a.bgColor}`,children:(0,b.jsx)(a.icon,{className:`h-6 w-6 ${a.color}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.title}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:a.value})]})]})})},a.title))}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.FileText,{className:"h-5 w-5"}),"Recent Applications"]}),(0,b.jsx)(d.CardDescription,{children:"Your verification and listing applications"})]}),(0,b.jsx)(g.default,{href:"/dashboard/applications",children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",children:["View All",(0,b.jsx)(p.ArrowRight,{className:"ml-1 h-4 w-4"})]})})]}),(0,b.jsx)(d.CardContent,{children:A&&A.length>0?(0,b.jsx)("div",{className:"space-y-4",children:A.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(a=>{switch(a){case"approved":return(0,b.jsx)(q.CheckCircle,{className:"h-4 w-4 text-green-600"});case"pending":case"under_review":return(0,b.jsx)(r.Clock,{className:"h-4 w-4 text-yellow-600"});case"rejected":return(0,b.jsx)(s.AlertCircle,{className:"h-4 w-4 text-red-600"});default:return(0,b.jsx)(r.Clock,{className:"h-4 w-4 text-muted-foreground"})}})(a.status),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium capitalize",children:[a.type," Application"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()})]})]}),(0,b.jsx)(e.Badge,{variant:"approved"===a.status?"default":"rejected"===a.status?"destructive":"secondary",className:"capitalize",children:a.status.replace("_"," ")})]},a.id))}):(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(j.FileText,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"No applications yet"}),!x&&!y&&(0,b.jsx)(g.default,{href:"/verification",children:(0,b.jsx)(f.Button,{variant:"link",className:"mt-2",children:"Request Verification"})})]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Wallet,{className:"h-5 w-5"}),"Recent Transactions"]}),(0,b.jsx)(d.CardDescription,{children:"Your latest purchases and sales"})]}),(0,b.jsx)(g.default,{href:"/dashboard/transactions",children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",children:["View All",(0,b.jsx)(p.ArrowRight,{className:"ml-1 h-4 w-4"})]})})]}),(0,b.jsx)(d.CardContent,{children:B&&B.length>0?(0,b.jsx)("div",{className:"space-y-4",children:B.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-full ${a.seller_id===t?.id?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:a.seller_id===t?.id?(0,b.jsx)(m.TrendingUp,{className:"h-4 w-4"}):(0,b.jsx)(o,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.seller_id===t?.id?"Sale":"Purchase"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()})]})]}),(0,b.jsxs)("p",{className:"font-semibold",children:[a.seller_id===t?.id?"+":"-","$",a.amount]})]},a.id))}):(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(k.Wallet,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"No transactions yet"}),(0,b.jsx)(g.default,{href:"/marketplace",children:(0,b.jsx)(f.Button,{variant:"link",className:"mt-2",children:"Browse marketplace"})})]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(l.Star,{className:"h-5 w-5"}),"Reputation Activity"]}),(0,b.jsx)(d.CardDescription,{children:"Recent changes to your reputation score"})]}),(0,b.jsx)(g.default,{href:"/dashboard/reputation",children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",children:["View All",(0,b.jsx)(p.ArrowRight,{className:"ml-1 h-4 w-4"})]})})]}),(0,b.jsx)(d.CardContent,{children:C&&C.length>0?(0,b.jsx)("div",{className:"space-y-4",children:C.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.reason}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()})]}),(0,b.jsxs)(e.Badge,{variant:a.change>0?"default":"destructive",className:"font-mono",children:[a.change>0?"+":"",a.change]})]},a.id))}):(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(l.Star,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"No reputation activity yet"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:"Complete transactions to build your reputation"})]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Quick Actions"}),(0,b.jsx)(d.CardDescription,{children:"Common tasks and shortcuts"})]}),(0,b.jsxs)(d.CardContent,{className:"grid gap-3 sm:grid-cols-2",children:[(0,b.jsx)(g.default,{href:x?"/dashboard/listings/new":"#",children:(0,b.jsxs)(f.Button,{variant:"outline",className:"w-full justify-start gap-2 h-auto py-4 bg-transparent",disabled:!x,title:x?"":"Verification required to create listings",children:[(0,b.jsx)(i.Store,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"font-medium",children:"Create Listing"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:x?"Add a new product or service":"Verification required"})]})]})}),(0,b.jsx)(g.default,{href:"/check-status",children:(0,b.jsxs)(f.Button,{variant:"outline",className:"w-full justify-start gap-2 h-auto py-4 bg-transparent",children:[(0,b.jsx)(j.FileText,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"font-medium",children:"Check Status"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Track your applications"})]})]})}),(0,b.jsx)(g.default,{href:"/studio",children:(0,b.jsxs)(f.Button,{variant:"outline",className:"w-full justify-start gap-2 h-auto py-4 bg-transparent",children:[(0,b.jsx)(m.TrendingUp,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"font-medium",children:"Open Studio"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Access your creative tools"})]})]})}),(0,b.jsx)(g.default,{href:"/dashboard/wallet",children:(0,b.jsxs)(f.Button,{variant:"outline",className:"w-full justify-start gap-2 h-auto py-4 bg-transparent",children:[(0,b.jsx)(k.Wallet,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"font-medium",children:"Manage Wallet"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"View balance and withdraw"})]})]})})]})]})]})]})}a.s(["default",()=>t],475403)}];

//# sourceMappingURL=_677a3ee2._.js.map