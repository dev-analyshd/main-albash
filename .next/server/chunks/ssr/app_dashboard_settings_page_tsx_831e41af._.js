module.exports=[257417,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(269240),e=a.i(703130),f=a.i(340695),g=a.i(205522),h=a.i(917171),i=a.i(546893),j=a.i(280281),k=a.i(807706),l=a.i(621958),m=a.i(254161),n=a.i(596221),o=a.i(546842),p=a.i(523312),q=a.i(603314),r=a.i(856738),s=a.i(816201),t=a.i(821374),u=a.i(317753),u=u,v=a.i(50944);function w(){let a=(0,v.useRouter)(),w=(0,d.createClient)(),x=(0,c.useRef)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)({full_name:"",bio:"",phone_number:""}),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)({email_marketing:!0,email_updates:!0,push_notifications:!0});(0,c.useEffect)(()=>{(async()=>{let{data:{user:a}}=await w.auth.getUser();if(a){let{data:b}=await w.from("profiles").select("*").eq("id",a.id).single();b&&(D(b),F({full_name:b.full_name||"",bio:b.bio||"",phone_number:b.phone_number||""}),H(b.wallet_address||null))}})()},[w]);let K=async b=>{let c=b.target.files?.[0];if(c){B(!0);try{let{data:{user:b}}=await w.auth.getUser();if(!b)throw Error("Not authenticated");let d=c.name.split(".").pop(),e=`${b.id}-${Date.now()}.${d}`,f=`avatars/${e}`,{error:g}=await w.storage.from("avatars").upload(f,c,{upsert:!0});if(g)throw g;let{data:{publicUrl:h}}=w.storage.from("avatars").getPublicUrl(f),{error:i}=await w.from("profiles").update({avatar_url:h}).eq("id",b.id);if(i)throw i;D({...C,avatar_url:h}),a.refresh()}catch(a){console.error("Error uploading photo:",a)}finally{B(!1)}}},L=async()=>{z(!0);try{let{data:{user:b}}=await w.auth.getUser();if(!b)throw Error("Not authenticated");let{error:c}=await w.from("profiles").update(E).eq("id",b.id);if(c)throw c;a.refresh()}catch(a){console.error("Error updating profile:",a)}finally{z(!1)}},M=async()=>{alert("Please install MetaMask or another Web3 wallet")},N=async()=>{H(null);let{data:{user:a}}=await w.auth.getUser();a&&await w.from("profiles").update({wallet_address:null}).eq("id",a.id)};return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage your account settings and preferences"})]}),(0,b.jsx)(e.Card,{className:"bg-gradient-to-r from-primary/10 to-primary/5",children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)(k.Avatar,{className:"h-20 w-20",children:[(0,b.jsx)(k.AvatarImage,{src:C?.avatar_url||"/placeholder.svg"}),(0,b.jsx)(k.AvatarFallback,{className:"text-2xl",children:C?.full_name?.charAt(0)||"U"})]}),(0,b.jsx)("button",{onClick:()=>x.current?.click(),className:"absolute bottom-0 right-0 p-1.5 bg-primary text-primary-foreground rounded-full hover:bg-primary/90 transition-colors",disabled:A,children:A?(0,b.jsx)(n.Loader2,{className:"h-3 w-3 animate-spin"}):(0,b.jsx)(u.default,{className:"h-3 w-3"})}),(0,b.jsx)("input",{ref:x,type:"file",accept:"image/*",className:"hidden",onChange:K})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h2",{className:"text-xl font-bold",children:C?.full_name||"User"}),C?.is_verified&&(0,b.jsxs)(m.Badge,{className:"bg-green-100 text-green-700 gap-1",children:[(0,b.jsx)(s.CheckCircle,{className:"h-3 w-3"}),"Verified"]})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:C?.email}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(t.Star,{className:"h-4 w-4 text-yellow-500"}),C?.reputation_score||0," reputation"]}),(0,b.jsxs)("span",{className:"capitalize text-muted-foreground",children:[C?.role," account"]})]})]})]})})}),(0,b.jsxs)(l.Tabs,{defaultValue:"profile",className:"w-full",children:[(0,b.jsxs)(l.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsxs)(l.TabsTrigger,{value:"profile",className:"gap-2",children:[(0,b.jsx)(o.User,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Profile"})]}),(0,b.jsxs)(l.TabsTrigger,{value:"wallet",className:"gap-2",children:[(0,b.jsx)(r.Wallet,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Wallet"})]}),(0,b.jsxs)(l.TabsTrigger,{value:"notifications",className:"gap-2",children:[(0,b.jsx)(p.Bell,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Notifications"})]}),(0,b.jsxs)(l.TabsTrigger,{value:"security",className:"gap-2",children:[(0,b.jsx)(q.Shield,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Security"})]})]}),(0,b.jsx)(l.TabsContent,{value:"profile",className:"space-y-6 mt-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Personal Information"}),(0,b.jsx)(e.CardDescription,{children:"Update your personal details"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"full_name",children:"Full Name"}),(0,b.jsx)(g.Input,{id:"full_name",value:E.full_name,onChange:a=>F({...E,full_name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"phone",children:"Phone Number"}),(0,b.jsx)(g.Input,{id:"phone",type:"tel",placeholder:"+234 XXX XXX XXXX",value:E.phone_number,onChange:a=>F({...E,phone_number:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"bio",children:"Bio"}),(0,b.jsx)(i.Textarea,{id:"bio",placeholder:"Tell us about yourself...",rows:4,value:E.bio,onChange:a=>F({...E,bio:a.target.value})})]}),(0,b.jsxs)(f.Button,{onClick:L,disabled:y,children:[y&&(0,b.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})}),(0,b.jsxs)(l.TabsContent,{value:"wallet",className:"space-y-6 mt-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Wallet Connection"}),(0,b.jsx)(e.CardDescription,{children:"Connect your crypto wallet for blockchain transactions"})]}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:G?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-green-50 border-green-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 rounded-full",children:(0,b.jsx)(r.Wallet,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-green-800",children:"Wallet Connected"}),(0,b.jsxs)("p",{className:"text-sm font-mono text-green-600",children:[G.slice(0,6),"...",G.slice(-4)]})]})]}),(0,b.jsx)(m.Badge,{className:"bg-green-100 text-green-700",children:"Connected"})]}),(0,b.jsx)(f.Button,{variant:"outline",onClick:N,className:"w-full bg-transparent",children:"Disconnect Wallet"})]}):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(r.Wallet,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No wallet connected"}),(0,b.jsxs)(f.Button,{onClick:M,children:[(0,b.jsx)(r.Wallet,{className:"mr-2 h-4 w-4"}),"Connect Wallet"]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Supported Wallets"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:["MetaMask","WalletConnect","Coinbase","Trust Wallet"].map(a=>(0,b.jsxs)("div",{className:"p-4 border rounded-lg text-center",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-muted rounded-full mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:a})]},a))})})]})]}),(0,b.jsx)(l.TabsContent,{value:"notifications",className:"space-y-6 mt-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Email Notifications"}),(0,b.jsx)(e.CardDescription,{children:"Manage your email preferences"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Marketing emails"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive emails about new features and promotions"})]}),(0,b.jsx)(j.Switch,{checked:I.email_marketing,onCheckedChange:a=>J({...I,email_marketing:a})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Product updates"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get notified about platform updates"})]}),(0,b.jsx)(j.Switch,{checked:I.email_updates,onCheckedChange:a=>J({...I,email_updates:a})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Push notifications"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive notifications on your device"})]}),(0,b.jsx)(j.Switch,{checked:I.push_notifications,onCheckedChange:a=>J({...I,push_notifications:a})})]})]})]})}),(0,b.jsxs)(l.TabsContent,{value:"security",className:"space-y-6 mt-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Change Password"}),(0,b.jsx)(e.CardDescription,{children:"Update your password"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"current_password",children:"Current Password"}),(0,b.jsx)(g.Input,{id:"current_password",type:"password"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"new_password",children:"New Password"}),(0,b.jsx)(g.Input,{id:"new_password",type:"password"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"confirm_password",children:"Confirm New Password"}),(0,b.jsx)(g.Input,{id:"confirm_password",type:"password"})]}),(0,b.jsx)(f.Button,{children:"Update Password"})]})]}),(0,b.jsxs)(e.Card,{className:"border-destructive",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-destructive",children:"Danger Zone"}),(0,b.jsx)(e.CardDescription,{children:"Irreversible account actions"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)(f.Button,{variant:"destructive",children:"Delete Account"})})]})]})]})]})}a.s(["default",()=>w],257417)}];

//# sourceMappingURL=app_dashboard_settings_page_tsx_831e41af._.js.map