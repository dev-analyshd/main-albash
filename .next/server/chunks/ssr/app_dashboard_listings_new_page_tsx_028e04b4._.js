module.exports=[630095,a=>{"use strict";let b;var c=a.i(187924),d=a.i(572131),e=a.i(448754),f=a.i(50944),g=a.i(269240),h=a.i(703130),i=a.i(340695),j=a.i(205522),k=a.i(917171),l=a.i(546893),m=a.i(887682),n=a.i(280281),o=a.i(46143),p=a.i(400210),q=a.i(773320),r=a.i(633508),s=a.i(596221),t=a.i(603314),u=a.i(911156),v=a.i(856738),w=a.i(666322),x=a.i(919256),y=a.i(265602),z=a.i(238246),A=a.i(487610);a.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],210261);var B=Object.prototype.hasOwnProperty;let C=new WeakMap,D=()=>{},E=D(),F=Object,G=a=>a===E,H=(a,b)=>({...a,...b}),I={},J={},K="undefined",L=typeof document!=K,M=!1,N=(a,b)=>{let c=C.get(a);return[()=>!G(b)&&a.get(b)||I,d=>{if(!G(b)){let e=a.get(b);b in J||(J[b]=e),c[5](b,H(e,d),e||I)}},c[6],()=>!G(b)&&b in J?J[b]:!G(b)&&a.get(b)||I]},O=!0,[P,Q]=[D,D],R={initFocus:a=>(L&&document.addEventListener("visibilitychange",a),P("focus",a),()=>{L&&document.removeEventListener("visibilitychange",a),Q("focus",a)}),initReconnect:a=>{let b=()=>{O=!0,a()},c=()=>{O=!1};return P("online",b),P("offline",c),()=>{Q("online",b),Q("offline",c)}}},S=!d.default.useId,T=!0,U=d.useEffect,V="undefined"!=typeof navigator&&navigator.connection;!T&&V&&(["slow-2g","2g"].includes(V.effectiveType)||V.saveData);let W=new WeakMap,X=(a,b)=>a===`[object ${b}]`,Y=0,Z=a=>{let b,c,d=typeof a,e=F.prototype.toString.call(a),f=X(e,"Date"),g=X(e,"RegExp"),h=X(e,"Object");if(F(a)!==a||f||g)b=f?a.toJSON():"symbol"==d?a.toString():"string"==d?JSON.stringify(a):""+a;else{if(b=W.get(a))return b;if(b=++Y+"~",W.set(a,b),Array.isArray(a)){for(c=0,b="@";c<a.length;c++)b+=Z(a[c])+",";W.set(a,b)}if(h){b="#";let d=F.keys(a).sort();for(;!G(c=d.pop());)G(a[c])||(b+=c+":"+Z(a[c])+",");W.set(a,b)}}return b},$=a=>{if("function"==typeof a)try{a=a()}catch(b){a=""}let b=a;return[a="string"==typeof a?a:(Array.isArray(a)?a.length:a)?Z(a):"",b]},_=0,aa=()=>++_;async function ab(...a){let[b,c,d,e]=a,f=H({populateCache:!0,throwOnError:!0},"boolean"==typeof e?{revalidate:e}:e||{}),g=f.populateCache,h=f.rollbackOnError,i=f.optimisticData,j=f.throwOnError;if("function"==typeof c){let a=[];for(let d of b.keys())!/^\$(inf|sub)\$/.test(d)&&c(b.get(d)._k)&&a.push(d);return Promise.all(a.map(k))}return k(c);async function k(c){let e,[k]=$(c);if(!k)return;let[l,m]=N(b,k),[n,o,p,q]=C.get(b),r=()=>{let a=n[k];return("function"==typeof f.revalidate?f.revalidate(l().data,c):!1!==f.revalidate)&&(delete p[k],delete q[k],a&&a[0])?a[0](2).then(()=>l().data):l().data};if(a.length<3)return r();let s=d,t=!1,u=aa();o[k]=[u,0];let v=!G(i),w=l(),x=w.data,y=w._c,z=G(y)?x:y;if(v&&m({data:i="function"==typeof i?i(z,x):i,_c:z}),"function"==typeof s)try{s=s(z)}catch(a){e=a,t=!0}if(s&&"function"==typeof s.then){let a;if(s=await s.catch(a=>{e=a,t=!0}),u!==o[k][0]){if(t)throw e;return s}t&&v&&(a=e,"function"==typeof h?h(a):!1!==h)&&(g=!0,m({data:z,_c:E}))}if(g&&!t&&("function"==typeof g?m({data:g(s,z),error:E,_c:E}):m({data:s,error:E,_c:E})),o[k][1]=aa(),Promise.resolve(r()).then(()=>{m({_c:E})}),t){if(j)throw e;return}return s}}let ac=(a,b)=>{if(!C.has(a)){H(R,b);let c=Object.create(null),d=ab.bind(E,a),e=Object.create(null),f=(a,b)=>{let c=e[a]||[];return e[a]=c,c.push(b),()=>c.splice(c.indexOf(b),1)},g=(b,c,d)=>{a.set(b,c);let f=e[b];if(f)for(let a of f)a(c,d)},h=()=>{C.has(a)||C.set(a,[c,Object.create(null),Object.create(null),Object.create(null),d,g,f])};return h(),[a,d,h,D]}return[a,C.get(a)[4]]},[ad,ae]=ac(new Map),af=H({onLoadingSlow:D,onSuccess:D,onError:D,onErrorRetry:(a,b,c,d,e)=>{let f=c.errorRetryCount,g=e.retryCount,h=~~((Math.random()+.5)*(1<<(g<8?g:8)))*c.errorRetryInterval;(G(f)||!(g>f))&&setTimeout(d,h,e)},onDiscarded:D,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:3e3,compare:function a(b,c){var d,e;if(b===c)return!0;if(b&&c&&(d=b.constructor)===c.constructor){if(d===Date)return b.getTime()===c.getTime();if(d===RegExp)return b.toString()===c.toString();if(d===Array){if((e=b.length)===c.length)for(;e--&&a(b[e],c[e]););return -1===e}if(!d||"object"==typeof b){for(d in e=0,b)if(B.call(b,d)&&++e&&!B.call(c,d)||!(d in c)||!a(b[d],c[d]))return!1;return Object.keys(c).length===e}}return b!=b&&c!=c},isPaused:()=>!1,cache:ad,mutate:ae,fallback:{}},{isOnline:()=>O,isVisible:()=>{let a=L&&document.visibilityState;return G(a)||"hidden"!==a}}),ag=(a,b)=>{let c=H(a,b);if(b){let{use:d,fallback:e}=a,{use:f,fallback:g}=b;d&&f&&(c.use=d.concat(f)),e&&g&&(c.fallback=H(e,g))}return c},ah=(0,d.createContext)({});var ai=a.i(210261);let aj=!1,ak=(aj?window.__SWR_DEVTOOLS_USE__:[]).concat(a=>(b,c,d)=>{let e=c&&((...a)=>{let[d]=$(b),[,,,e]=C.get(ad);if(d.startsWith("$inf$"))return c(...a);let f=e[d];return G(f)?c(...a):(delete e[d],f)});return a(b,e,d)});aj&&(window.__SWR_DEVTOOLS_REACT__=d.default);let al=()=>{},am=al(),an=(new WeakMap,d.default.use||(a=>{switch(a.status){case"pending":throw a;case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a.status="pending",a.then(b=>{a.status="fulfilled",a.value=b},b=>{a.status="rejected",a.reason=b}),a}})),ao={dedupe:!0},ap=Promise.resolve(E);F.defineProperty(a=>{let{value:b}=a,c=(0,d.useContext)(ah),e="function"==typeof b,f=(0,d.useMemo)(()=>e?b(c):b,[e,c,b]),g=(0,d.useMemo)(()=>e?f:ag(c,f),[e,c,f]),h=f&&f.provider,i=(0,d.useRef)(E);h&&!i.current&&(i.current=ac(h(g.cache||ad),f));let j=i.current;return j&&(g.cache=j[0],g.mutate=j[1]),U(()=>{if(j)return j[2]&&j[2](),j[3]},[]),(0,d.createElement)(ah.Provider,H(a,{value:g}))},"defaultValue",{value:af});let aq=(b=(a,b,c)=>{let{cache:e,compare:f,suspense:g,fallbackData:h,revalidateOnMount:i,revalidateIfStale:j,refreshInterval:k,refreshWhenHidden:l,refreshWhenOffline:m,keepPreviousData:n,strictServerPrefetchWarning:o}=c,[p,q,r,s]=C.get(e),[t,u]=$(a),v=(0,d.useRef)(!1),w=(0,d.useRef)(!1),x=(0,d.useRef)(t),y=(0,d.useRef)(b),z=(0,d.useRef)(c),B=()=>z.current.isVisible()&&z.current.isOnline(),[F,I,J,K]=N(e,t),L=(0,d.useRef)({}).current,M=G(h)?G(c.fallback)?E:c.fallback[t]:h,O=(a,b)=>{for(let c in L)if("data"===c){if(!f(a[c],b[c])&&(!G(a[c])||!f(_,b[c])))return!1}else if(b[c]!==a[c])return!1;return!0},P=(0,d.useMemo)(()=>{let a=!!t&&!!b&&(G(i)?!z.current.isPaused()&&!g&&!1!==j:i),c=b=>{let c=H(b);return(delete c._k,a)?{isValidating:!0,isLoading:!0,...c}:c},d=F(),e=K(),f=c(d),h=d===e?f:c(e),k=f;return[()=>{let a=c(F());return O(a,k)?(k.data=a.data,k.isLoading=a.isLoading,k.isValidating=a.isValidating,k.error=a.error,k):(k=a,a)},()=>h]},[e,t]),Q=(0,A.useSyncExternalStore)((0,d.useCallback)(a=>J(t,(b,c)=>{O(c,b)||a()}),[e,t]),P[0],P[1]),R=!v.current,V=p[t]&&p[t].length>0,W=Q.data,X=G(W)?M&&"function"==typeof M.then?an(M):M:W,Y=Q.error,Z=(0,d.useRef)(X),_=n?G(W)?G(Z.current)?X:Z.current:W:X,ac=t&&G(X),ad=!T&&(0,A.useSyncExternalStore)(()=>D,()=>!1,()=>!0);o&&ad&&!g&&ac&&console.warn(`Missing pre-initiated data for serialized key "${t}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let ae=(!V||!!G(Y))&&(R&&!G(i)?i:!z.current.isPaused()&&(g?!G(X)&&j:G(X)||j)),af=!!(t&&b&&R&&ae),ag=G(Q.isValidating)?af:Q.isValidating,ah=G(Q.isLoading)?af:Q.isLoading,aj=(0,d.useCallback)(async a=>{let b,d,e=y.current;if(!t||!e||w.current||z.current.isPaused())return!1;let g=!0,h=a||{},i=!r[t]||!h.dedupe,j=()=>S?!w.current&&t===x.current&&v.current:t===x.current,k={isValidating:!1,isLoading:!1},l=()=>{I(k)},m=()=>{let a=r[t];a&&a[1]===d&&delete r[t]},n={isValidating:!0};G(F().data)&&(n.isLoading=!0);try{if(i&&(I(n),c.loadingTimeout&&G(F().data)&&setTimeout(()=>{g&&j()&&z.current.onLoadingSlow(t,c)},c.loadingTimeout),r[t]=[e(u),aa()]),[b,d]=r[t],b=await b,i&&setTimeout(m,c.dedupingInterval),!r[t]||r[t][1]!==d)return i&&j()&&z.current.onDiscarded(t),!1;k.error=E;let a=q[t];if(!G(a)&&(d<=a[0]||d<=a[1]||0===a[1]))return l(),i&&j()&&z.current.onDiscarded(t),!1;let h=F().data;k.data=f(h,b)?h:b,i&&j()&&z.current.onSuccess(b,t,c)}catch(c){m();let a=z.current,{shouldRetryOnError:b}=a;!a.isPaused()&&(k.error=c,i&&j())&&(a.onError(c,t,a),(!0===b||"function"==typeof b&&b(c))&&(!z.current.revalidateOnFocus||!z.current.revalidateOnReconnect||B())&&a.onErrorRetry(c,t,a,a=>{let b=p[t];b&&b[0]&&b[0](ai.ERROR_REVALIDATE_EVENT,a)},{retryCount:(h.retryCount||0)+1,dedupe:!0}))}return g=!1,l(),!0},[t,e]),ak=(0,d.useCallback)((...a)=>ab(e,x.current,...a),[]);if(U(()=>{y.current=b,z.current=c,G(W)||(Z.current=W)}),U(()=>{var a;let b;if(!t)return;let c=aj.bind(E,ao),d=0;z.current.revalidateOnFocus&&(d=Date.now()+z.current.focusThrottleInterval);let e=(a=(a,b={})=>{if(a==ai.FOCUS_EVENT){let a=Date.now();z.current.revalidateOnFocus&&a>d&&B()&&(d=a+z.current.focusThrottleInterval,c())}else if(a==ai.RECONNECT_EVENT)z.current.revalidateOnReconnect&&B()&&c();else if(a==ai.MUTATE_EVENT)return aj();else if(a==ai.ERROR_REVALIDATE_EVENT)return aj(b)},(b=p[t]||(p[t]=[])).push(a),()=>{let c=b.indexOf(a);c>=0&&(b[c]=b[b.length-1],b.pop())});if(w.current=!1,x.current=t,v.current=!0,I({_k:u}),ae&&!r[t])if(G(X)||T)c();else setTimeout(c,1);return()=>{w.current=!0,e()}},[t]),U(()=>{let a;function b(){let b="function"==typeof k?k(F().data):k;b&&-1!==a&&(a=setTimeout(c,b))}function c(){!F().error&&(l||z.current.isVisible())&&(m||z.current.isOnline())?aj(ao).then(b):b()}return b(),()=>{a&&(clearTimeout(a),a=-1)}},[k,l,m,t]),(0,d.useDebugValue)(_),g){if(!S&&T&&ac)throw Error("Fallback data is required when using Suspense in SSR.");ac&&(y.current=b,z.current=c,w.current=!1);let a=s[t];if(an(!G(a)&&ac?ak(a):ap),!G(Y)&&ac)throw Y;let d=ac?aj(ao):ap;!G(_)&&ac&&(d.status="fulfilled",d.value=!0),an(d)}return{mutate:ak,get data(){return L.data=!0,_},get error(){return L.error=!0,Y},get isValidating(){return L.isValidating=!0,ag},get isLoading(){return L.isLoading=!0,ah}}},function(...a){let c,e=(c=(0,d.useContext)(ah),(0,d.useMemo)(()=>H(af,c),[c])),[f,g,h]="function"==typeof a[1]?[a[0],a[1],a[2]||{}]:[a[0],null,(null===a[1]?a[2]:a[1])||{}],i=ag(e,h),j=b,{use:k}=i,l=(k||[]).concat(ak);for(let a=l.length;a--;)j=l[a](j);return j(f,g||i.fetcher||null,i)}),ar=a=>fetch(a).then(a=>a.json()),as=[{value:"physical",label:"Physical Product",description:"Tangible goods like crafts, food, clothing"},{value:"digital",label:"Digital Product",description:"Software, designs, documents, courses"},{value:"service",label:"Service",description:"Professional services, consulting, freelance work"},{value:"idea",label:"Idea / Innovation",description:"Business ideas, patents, concepts"},{value:"talent",label:"Talent / Skill",description:"Offer your skills and expertise"},{value:"tokenized",label:"Tokenized Asset",description:"NFT or blockchain-verified asset"}],at=[{id:"card",label:"Card Payment",icon:u.CreditCard,description:"Visa, Mastercard (via Paystack/Stripe)"},{id:"bank",label:"Bank Transfer",icon:w.Banknote,description:"Direct bank transfer (NGN/USD)"},{id:"crypto",label:"Cryptocurrency",icon:v.Wallet,description:"ETH, USDT, and other tokens"}];function au(){let a=(0,f.useRouter)(),b=(0,g.createClient)(),{account:u,connectWallet:v,mintNFT:w,isConnected:A}=(0,e.useWeb3)(),[B,C]=(0,d.useState)(!1),[D,E]=(0,d.useState)([]),[F,G]=(0,d.useState)([]),[H,I]=(0,d.useState)(["card","bank"]),[J,K]=(0,d.useState)({title:"",description:"",price:"",currency:"NGN",category_id:"",listing_type:"physical",is_tokenized:!1,swap_enabled:!1,accepted_swap_types:[],valuation_method:"fixed",minimum_reputation:0,swap_verification_required:!0}),{data:L}=aq("/api/categories",ar),M=async a=>{let b=a.target.files;if(!b)return;let c=Array.from(b).slice(0,5),d=c.map(a=>URL.createObjectURL(a));E(a=>[...a,...d].slice(0,5)),G(a=>[...a,...c].slice(0,5))},N=async a=>{let c=[];for(let d of F)try{let e=d.name.split(".").pop(),f=`${a}/listings/${Date.now()}-${Math.random().toString(36).substring(7)}.${e}`,{data:g,error:h}=await b.storage.from("listings").upload(f,d,{upsert:!0});if(h){console.warn("Image upload error:",h);continue}let{data:{publicUrl:i}}=b.storage.from("listings").getPublicUrl(f);c.push(i)}catch(a){console.warn("Image upload failed:",a);continue}return c},O=async c=>{c.preventDefault(),C(!0);try{let{data:{user:c}}=await b.auth.getUser();if(!c)throw Error("Not authenticated");let d=[];F.length>0&&(d=await N(c.id));let e={title:J.title,description:J.description,price:J.price?Number.parseFloat(J.price):null,category_id:J.category_id||null,listing_type:J.listing_type,is_tokenized:J.is_tokenized,images:d.length>0?d:[],payment_methods:H,currency:J.currency,swap_enabled:J.swap_enabled,accepted_swap_types:J.accepted_swap_types.length>0?J.accepted_swap_types:null,valuation_method:J.swap_enabled?J.valuation_method:null,minimum_reputation:J.minimum_reputation||0,swap_verification_required:J.swap_verification_required},f=await fetch("/api/listings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!f.ok){let a=await f.json();throw Error(a.error||"Failed to create listing")}let{data:g}=await f.json();if(J.is_tokenized&&F.length>0)try{A||await v();let a=F[0],c=new FormData;c.append("name",J.title||g.title||"Listing NFT"),c.append("description",J.description||g.description||""),c.append("attributes",JSON.stringify([{trait_type:"Creator",value:u||g.user_id},{trait_type:"Price",value:String(g.price||J.price||"0")}])),c.append("listingId",g.id),c.append("image",a);let d=await new Promise((a,b)=>{let d=new XMLHttpRequest;d.open("POST","/api/nft/mint"),d.onload=()=>{if(d.status>=200&&d.status<300)try{a(JSON.parse(d.responseText))}catch(b){a({success:!0})}else b(Error(`Upload failed: ${d.statusText}`))},d.onerror=()=>b(Error("Network error during upload")),d.send(c)});if(d&&d.tokenURI){let a=J.price||String(g.price||"0"),c=await w(d.tokenURI,a),e=await c.wait();try{await fetch("/api/nft/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mintRecordId:d.mintRecordId,transactionHash:e.transactionHash||c.hash,contractAddress:e.to||d.contractAddress||null,tokenId:e.events?.[0]?.args?.tokenId?.toString?.()||null,status:"minted"})})}catch(a){console.warn("Failed to confirm mint record:",a)}try{await b.from("listings").update({token_uri:d.tokenURI,token_id:e.events?.[0]?.args?.tokenId?.toString?.()||null,token_contract_address:e.to||d.contractAddress||null}).eq("id",g.id)}catch(a){console.warn("Failed to update listing with token info:",a)}}}catch(a){console.error("Automatic tokenization failed:",a)}a.push("/dashboard/listings?created=true"),a.refresh()}catch(c){let a="An error occurred while creating your listing";if(c instanceof Error)a=c.message||a;else if(c?.message)a=c.message;else if(c?.error_description)a=c.error_description;else if(c?.details)a="string"==typeof c.details?c.details:JSON.stringify(c.details);else if(c?.hint)a=c.hint;else if("string"==typeof c)a=c;else if(c&&"object"==typeof c)try{let b=JSON.stringify(c);b&&"{}"!==b&&(a=`Error: ${b}`)}catch{}let b={message:a};c?.code&&(b.code=c.code),c?.details&&"string"==typeof c.details&&(b.details=c.details),c?.hint&&(b.hint=c.hint),c?.name&&(b.name=c.name),console.error("Error creating listing:",b),alert(a)}finally{C(!1)}};return(0,c.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)(z.default,{href:"/dashboard/listings",children:(0,c.jsx)(i.Button,{variant:"ghost",size:"icon",children:(0,c.jsx)(p.ArrowLeft,{className:"h-5 w-5"})})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-3xl font-bold",children:"Create New Listing"}),(0,c.jsx)("p",{className:"text-muted-foreground mt-1",children:"Add a product, service, or asset to the marketplace"})]})]}),(0,c.jsxs)(y.Alert,{children:[(0,c.jsx)(t.Shield,{className:"h-4 w-4"}),(0,c.jsx)(y.AlertTitle,{children:"Verification Required"}),(0,c.jsx)(y.AlertDescription,{children:"All listings go through our verification process before becoming public. This ensures quality and trust for all users."})]}),(0,c.jsx)("form",{onSubmit:O,children:(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)(h.Card,{children:[(0,c.jsxs)(h.CardHeader,{children:[(0,c.jsx)(h.CardTitle,{children:"Images"}),(0,c.jsx)(h.CardDescription,{children:"Add up to 5 images for your listing (first image is the cover)"})]}),(0,c.jsx)(h.CardContent,{children:(0,c.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[D.map((a,b)=>(0,c.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-muted",children:[(0,c.jsx)("img",{src:a||"/placeholder.svg",alt:"",className:"object-cover w-full h-full"}),(0,c.jsx)("button",{type:"button",onClick:()=>{E(a=>a.filter((a,c)=>c!==b)),G(a=>a.filter((a,c)=>c!==b))},className:"absolute top-1 right-1 p-1 rounded-full bg-background/80 hover:bg-background",children:(0,c.jsx)(r.X,{className:"h-3 w-3"})}),0===b&&(0,c.jsx)("span",{className:"absolute bottom-1 left-1 text-xs bg-primary text-primary-foreground px-1.5 py-0.5 rounded",children:"Cover"})]},b)),D.length<5&&(0,c.jsxs)("label",{className:"aspect-square rounded-lg border-2 border-dashed flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors",children:[(0,c.jsx)(q.Upload,{className:"h-6 w-6 text-muted-foreground"}),(0,c.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:"Upload"}),(0,c.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:M})]})]})})]}),(0,c.jsxs)(h.Card,{children:[(0,c.jsxs)(h.CardHeader,{children:[(0,c.jsx)(h.CardTitle,{children:"Listing Type"}),(0,c.jsx)(h.CardDescription,{children:"What are you listing?"})]}),(0,c.jsx)(h.CardContent,{children:(0,c.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:as.map(a=>(0,c.jsxs)("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${J.listing_type===a.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>K({...J,listing_type:a.value}),children:[(0,c.jsx)("p",{className:"font-medium",children:a.label}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]},a.value))})})]}),(0,c.jsxs)(h.Card,{children:[(0,c.jsx)(h.CardHeader,{children:(0,c.jsx)(h.CardTitle,{children:"Basic Information"})}),(0,c.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(k.Label,{htmlFor:"title",children:"Title"}),(0,c.jsx)(j.Input,{id:"title",placeholder:"Enter a clear, descriptive title",value:J.title,onChange:a=>K({...J,title:a.target.value}),required:!0})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(k.Label,{htmlFor:"description",children:"Description"}),(0,c.jsx)(l.Textarea,{id:"description",placeholder:"Describe your listing in detail. Include features, specifications, and any relevant information...",rows:6,value:J.description,onChange:a=>K({...J,description:a.target.value}),required:!0})]}),(0,c.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(k.Label,{htmlFor:"price",children:"Price"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsxs)(m.Select,{value:J.currency,onValueChange:a=>K({...J,currency:a}),children:[(0,c.jsx)(m.SelectTrigger,{className:"w-24",children:(0,c.jsx)(m.SelectValue,{})}),(0,c.jsxs)(m.SelectContent,{children:[(0,c.jsx)(m.SelectItem,{value:"NGN",children:"NGN"}),(0,c.jsx)(m.SelectItem,{value:"USD",children:"USD"})]})]}),(0,c.jsx)(j.Input,{id:"price",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:J.price,onChange:a=>K({...J,price:a.target.value}),className:"flex-1"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(k.Label,{htmlFor:"category",children:"Category"}),(0,c.jsxs)(m.Select,{value:J.category_id,onValueChange:a=>K({...J,category_id:a}),children:[(0,c.jsx)(m.SelectTrigger,{children:(0,c.jsx)(m.SelectValue,{placeholder:"Select category"})}),(0,c.jsx)(m.SelectContent,{children:L?.map(a=>(0,c.jsx)(m.SelectItem,{value:a.id,children:a.name},a.id))})]})]})]})]})]}),(0,c.jsxs)(h.Card,{children:[(0,c.jsxs)(h.CardHeader,{children:[(0,c.jsx)(h.CardTitle,{children:"Payment Methods"}),(0,c.jsx)(h.CardDescription,{children:"Select which payment methods you accept"})]}),(0,c.jsx)(h.CardContent,{children:(0,c.jsx)("div",{className:"space-y-3",children:at.map(a=>(0,c.jsxs)("div",{className:`flex items-center gap-4 p-4 rounded-lg border cursor-pointer transition-colors ${H.includes(a.id)?"border-primary bg-primary/5":"border-border"}`,onClick:()=>{var b;return b=a.id,void I(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},children:[(0,c.jsx)(o.Checkbox,{checked:H.includes(a.id)}),(0,c.jsx)(a.icon,{className:"h-5 w-5 text-muted-foreground"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("p",{className:"font-medium",children:a.label}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]})]},a.id))})})]}),(0,c.jsxs)(h.Card,{children:[(0,c.jsxs)(h.CardHeader,{children:[(0,c.jsx)(h.CardTitle,{children:"Blockchain Options"}),(0,c.jsx)(h.CardDescription,{children:"Mint your listing as an NFT for additional security and ownership proof"})]}),(0,c.jsx)(h.CardContent,{children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium",children:"Enable NFT Tokenization"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your listing will be minted as an NFT on the blockchain"})]}),(0,c.jsx)(n.Switch,{checked:J.is_tokenized,onCheckedChange:a=>K({...J,is_tokenized:a})})]})})]}),(0,c.jsxs)(h.Card,{children:[(0,c.jsxs)(h.CardHeader,{children:[(0,c.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,c.jsx)(x.ArrowLeftRight,{className:"h-5 w-5"}),"Swap Options"]}),(0,c.jsx)(h.CardDescription,{children:"Allow users to swap value instead of just buying"})]}),(0,c.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium",children:"Enable Swaps"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow users to propose swaps for this listing"})]}),(0,c.jsx)(n.Switch,{checked:J.swap_enabled,onCheckedChange:a=>K({...J,swap_enabled:a})})]}),J.swap_enabled&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"space-y-2 pt-4 border-t",children:[(0,c.jsx)(k.Label,{children:"Accepted Swap Types"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Select what types of items you'll accept in swaps"}),(0,c.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["idea","talent","skill","product","service","asset","nft","equity"].map(a=>(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(o.Checkbox,{checked:J.accepted_swap_types.includes(a),onCheckedChange:b=>{b?K({...J,accepted_swap_types:[...J.accepted_swap_types,a]}):K({...J,accepted_swap_types:J.accepted_swap_types.filter(b=>b!==a)})}}),(0,c.jsx)(k.Label,{className:"text-sm font-normal capitalize",children:a})]},a))})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(k.Label,{children:"Valuation Method"}),(0,c.jsxs)(m.Select,{value:J.valuation_method,onValueChange:a=>K({...J,valuation_method:a}),children:[(0,c.jsx)(m.SelectTrigger,{children:(0,c.jsx)(m.SelectValue,{})}),(0,c.jsxs)(m.SelectContent,{children:[(0,c.jsx)(m.SelectItem,{value:"fixed",children:"Fixed Price"}),(0,c.jsx)(m.SelectItem,{value:"contract",children:"Contract Based"}),(0,c.jsx)(m.SelectItem,{value:"hybrid",children:"Hybrid"})]})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(k.Label,{children:"Minimum Reputation (Optional)"}),(0,c.jsx)(j.Input,{type:"number",min:"0",value:J.minimum_reputation,onChange:a=>K({...J,minimum_reputation:parseInt(a.target.value)||0}),placeholder:"0"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minimum reputation score required to propose swaps (leave 0 for no requirement)"})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium",children:"Require Verification"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"Only verified users can propose swaps"})]}),(0,c.jsx)(n.Switch,{checked:J.swap_verification_required,onCheckedChange:a=>K({...J,swap_verification_required:a})})]})]})]})]}),(0,c.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,c.jsx)(z.default,{href:"/dashboard/listings",children:(0,c.jsx)(i.Button,{type:"button",variant:"outline",children:"Cancel"})}),(0,c.jsxs)(i.Button,{type:"submit",disabled:B,children:[B&&(0,c.jsx)(s.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submit for Verification"]})]})]})})]})}a.s(["default",()=>au],630095)}];

//# sourceMappingURL=app_dashboard_listings_new_page_tsx_028e04b4._.js.map