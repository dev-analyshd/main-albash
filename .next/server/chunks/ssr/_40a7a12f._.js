module.exports=[703130,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},404650,a=>{"use strict";let b=(0,a.i(170106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["default",()=>b])},596221,a=>{"use strict";var b=a.i(404650);a.s(["Loader2",()=>b.default])},546893,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},516868,a=>{"use strict";let b=(0,a.i(170106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["default",()=>b])},915618,a=>{"use strict";var b=a.i(516868);a.s(["Plus",()=>b.default])},588237,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},169404,a=>{"use strict";let b=(0,a.i(170106).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["default",()=>b])},724669,a=>{"use strict";var b=a.i(169404);a.s(["TrendingUp",()=>b.default])},509247,a=>{"use strict";let b=(0,a.i(170106).default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);a.s(["default",()=>b])},43258,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(587532),e=a.i(93518),f=a.i(915618),g=a.i(724669),h=a.i(509247),h=h,i=a.i(596221),j=a.i(703130),k=a.i(340695),l=a.i(205522),m=a.i(917171),n=a.i(546893),o=a.i(965733),p=a.i(588237),q=a.i(254161),r=a.i(807706),s=a.i(277687),t=a.i(50944);function u({users:a,reputationLogs:u}){let v=(0,t.useRouter)(),{toast:w}=(0,s.useToast)(),[x]=(0,c.useState)(a),[y]=(0,c.useState)(u),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)({user_id:"",points:"",reason:"",event_type:"admin_adjustment"}),H=x.filter(a=>a.full_name?.toLowerCase().includes(z.toLowerCase())||a.email?.toLowerCase().includes(z.toLowerCase())),I=async()=>{E(!0);try{let a=await fetch("/api/admin/reputation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:F.user_id,points:parseInt(F.points)||0,reason:F.reason||"Admin adjustment",event_type:F.event_type})}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to adjust reputation");w({title:"Success",description:`Reputation adjusted. New score: ${b.newScore}`}),C(!1),v.refresh()}catch(a){w({title:"Error",description:a.message,variant:"destructive"})}finally{E(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Reputation Management"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage user reputation scores"})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{children:[(0,b.jsx)(j.CardTitle,{children:"Top Users by Reputation"}),(0,b.jsx)(j.CardDescription,{children:"Users with the highest reputation scores"})]}),(0,b.jsxs)(j.CardContent,{children:[(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(d.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(l.Input,{placeholder:"Search users...",className:"pl-10",value:z,onChange:a=>A(a.target.value)})]}),(0,b.jsxs)(p.Table,{children:[(0,b.jsx)(p.TableHeader,{children:(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableHead,{children:"User"}),(0,b.jsx)(p.TableHead,{children:"Reputation Score"}),(0,b.jsx)(p.TableHead,{children:"Actions"})]})}),(0,b.jsx)(p.TableBody,{children:H.map(a=>(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(r.Avatar,{className:"h-8 w-8",children:(0,b.jsx)(r.AvatarFallback,{children:(a.full_name||a.email||"U")[0]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.full_name||"Unknown"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.email})]})]})}),(0,b.jsx)(p.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Award,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{className:"font-semibold",children:a.reputation_score||0})]})}),(0,b.jsx)(p.TableCell,{children:(0,b.jsxs)(k.Button,{variant:"outline",size:"sm",onClick:()=>{G({user_id:a.id,points:"",reason:"",event_type:"admin_adjustment"}),C(!0)},children:[(0,b.jsx)(f.Plus,{className:"h-4 w-4 mr-2"}),"Adjust"]})})]},a.id))})]})]})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{children:[(0,b.jsx)(j.CardTitle,{children:"Recent Reputation Changes"}),(0,b.jsx)(j.CardDescription,{children:"Latest reputation adjustments and events"})]}),(0,b.jsx)(j.CardContent,{children:(0,b.jsxs)(p.Table,{children:[(0,b.jsx)(p.TableHeader,{children:(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableHead,{children:"User"}),(0,b.jsx)(p.TableHead,{children:"Points"}),(0,b.jsx)(p.TableHead,{children:"Reason"}),(0,b.jsx)(p.TableHead,{children:"Event Type"}),(0,b.jsx)(p.TableHead,{children:"Date"})]})}),(0,b.jsx)(p.TableBody,{children:y.map(a=>(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.profiles?.full_name||"Unknown"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.profiles?.email})]})}),(0,b.jsx)(p.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[a.points>0?(0,b.jsx)(g.TrendingUp,{className:"h-4 w-4 text-green-600"}):(0,b.jsx)(h.default,{className:"h-4 w-4 text-red-600"}),(0,b.jsxs)("span",{className:`font-semibold ${a.points>0?"text-green-600":"text-red-600"}`,children:[a.points>0?"+":"",a.points]})]})}),(0,b.jsx)(p.TableCell,{children:a.reason}),(0,b.jsx)(p.TableCell,{children:(0,b.jsx)(q.Badge,{variant:"outline",children:a.event_type})}),(0,b.jsx)(p.TableCell,{className:"text-sm text-muted-foreground",children:new Date(a.created_at).toLocaleString()})]},a.id))})]})})]}),(0,b.jsx)(o.Dialog,{open:B,onOpenChange:C,children:(0,b.jsxs)(o.DialogContent,{children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsx)(o.DialogTitle,{children:"Adjust Reputation"}),(0,b.jsx)(o.DialogDescription,{children:"Add or remove reputation points for this user"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Points *"}),(0,b.jsx)(l.Input,{type:"number",value:F.points,onChange:a=>G({...F,points:a.target.value}),placeholder:"Enter points (positive or negative)"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Use positive numbers to add, negative to subtract"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Reason *"}),(0,b.jsx)(n.Textarea,{value:F.reason,onChange:a=>G({...F,reason:a.target.value}),placeholder:"Reason for reputation adjustment",rows:3})]})]}),(0,b.jsxs)(o.DialogFooter,{children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,b.jsxs)(k.Button,{onClick:I,disabled:D||!F.points||!F.reason,children:[D&&(0,b.jsx)(i.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Adjust Reputation"]})]})]})})]})}a.s(["ReputationManagement",()=>u],43258)}];

//# sourceMappingURL=_40a7a12f._.js.map