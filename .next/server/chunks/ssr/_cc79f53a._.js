module.exports=[130656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},606406,a=>{"use strict";var b=a.i(234157);a.s(["CheckIcon",()=>b.default])},3688,a=>{"use strict";var b=a.i(572131),c=a.i(872752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},234157,a=>{"use strict";let b=(0,a.i(170106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["default",()=>b])},703130,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},254161,a=>{"use strict";var b=a.i(187924),c=a.i(811011),d=a.i(400187),e=a.i(497895);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},626405,a=>{"use strict";let b=(0,a.i(170106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["default",()=>b])},816201,a=>{"use strict";var b=a.i(626405);a.s(["CheckCircle",()=>b.default])},973365,a=>{"use strict";let b=(0,a.i(170106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["default",()=>b])},400210,a=>{"use strict";var b=a.i(973365);a.s(["ArrowLeft",()=>b.default])},404650,a=>{"use strict";let b=(0,a.i(170106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["default",()=>b])},596221,a=>{"use strict";var b=a.i(404650);a.s(["Loader2",()=>b.default])},546893,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},280281,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(507554),e=a.i(470121),f=a.i(750104),g=a.i(225152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:l,defaultChecked:m,required:o,disabled:p,value:q="on",onCheckedChange:r,form:u,...v}=a,[w,x]=c.useState(null),y=(0,e.useComposedRefs)(f,a=>x(a)),z=c.useRef(!1),A=!w||u||!!w.closest("form"),[B,C]=(0,g.useControllableState)({prop:l,defaultProp:m??!1,onChange:r,caller:k});return(0,b.jsxs)(n,{scope:h,checked:B,disabled:p,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":o,"data-state":t(B),"data-disabled":p?"":void 0,disabled:p,value:q,...v,ref:y,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,b.jsx)(s,{control:w,bubbles:!z.current,name:i,value:q,checked:B,required:o,disabled:p,form:u,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=c.forwardRef(({__scopeSwitch:a,control:d,checked:f,bubbles:g=!0,...j},k)=>{let l=c.useRef(null),m=(0,e.useComposedRefs)(l,k),n=(0,h.usePrevious)(f),o=(0,i.useSize)(d);return c.useEffect(()=>{let a=l.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==f&&b){let c=new Event("click",{bubbles:g});b.call(a,f),a.dispatchEvent(c)}},[n,f,g]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:f,...j,tabIndex:-1,ref:m,style:{...j.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function t(a){return a?"checked":"unchecked"}s.displayName="SwitchBubbleInput";var u=a.i(497895);function v({className:a,...c}){return(0,b.jsx)(p,{"data-slot":"switch",className:(0,u.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(r,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}a.s(["Switch",()=>v],280281)},582652,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(340695),e=a.i(205522),f=a.i(917171),g=a.i(546893),h=a.i(703130),i=a.i(887682),j=a.i(280281),k=a.i(254161),l=a.i(400210),m=a.i(660246),n=a.i(596221),o=a.i(816201),p=a.i(633508),q=a.i(238246),r=a.i(269240),s=a.i(50944);function t(){let[a,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)({name:"",description:"",room_type:"project",is_public:!0,max_members:"10",tags:[]}),A=(0,s.useRouter)(),B=()=>{w.trim()&&!y.tags.includes(w.trim())&&(z({...y,tags:[...y.tags,w.trim()]}),x(""))},C=async a=>{a.preventDefault(),t(!0);let b=(0,r.createClient)(),{data:{user:c}}=await b.auth.getUser();if(!c)return void A.push("/auth/sign-in");let{data:d,error:e}=await b.from("collaboration_rooms").insert({name:y.name,description:y.description,owner_id:c.id,room_type:y.room_type,is_public:y.is_public,max_members:Number.parseInt(y.max_members),tags:y.tags}).select().single();!e&&d&&(await b.from("room_members").insert({room_id:d.id,user_id:c.id,role:"owner"}),v(!0),setTimeout(()=>A.push(`/community/collaboration/${d.id}`),2e3)),t(!1)};return u?(0,b.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,b.jsx)(h.Card,{className:"max-w-md w-full text-center",children:(0,b.jsxs)(h.CardContent,{className:"pt-12 pb-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(o.CheckCircle,{className:"h-8 w-8 text-green-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Room Created!"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Redirecting to your room..."})]})})}):(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)(q.default,{href:"/community/collaboration",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-1",children:[(0,b.jsx)(l.ArrowLeft,{className:"h-4 w-4"}),"Back to Collaboration"]})}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Users,{className:"h-5 w-5"}),"Create Collaboration Room"]}),(0,b.jsx)(h.CardDescription,{children:"Set up a space for your team or community to work together"})]}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"name",children:"Room Name *"}),(0,b.jsx)(e.Input,{id:"name",placeholder:"e.g., Web Dev Study Group",value:y.name,onChange:a=>z({...y,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(g.Textarea,{id:"description",placeholder:"What is this room about?",rows:3,value:y.description,onChange:a=>z({...y,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{children:"Room Type"}),(0,b.jsxs)(i.Select,{value:y.room_type,onValueChange:a=>z({...y,room_type:a}),children:[(0,b.jsx)(i.SelectTrigger,{className:"mt-2",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"project",children:"Project Collaboration"}),(0,b.jsx)(i.SelectItem,{value:"study",children:"Study Group"}),(0,b.jsx)(i.SelectItem,{value:"brainstorm",children:"Brainstorming"}),(0,b.jsx)(i.SelectItem,{value:"support",children:"Peer Support"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{children:"Max Members"}),(0,b.jsxs)(i.Select,{value:y.max_members,onValueChange:a=>z({...y,max_members:a}),children:[(0,b.jsx)(i.SelectTrigger,{className:"mt-2",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"5",children:"5 members"}),(0,b.jsx)(i.SelectItem,{value:"10",children:"10 members"}),(0,b.jsx)(i.SelectItem,{value:"25",children:"25 members"}),(0,b.jsx)(i.SelectItem,{value:"50",children:"50 members"}),(0,b.jsx)(i.SelectItem,{value:"100",children:"100 members"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{children:"Public Room"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Anyone can find and join this room"})]}),(0,b.jsx)(j.Switch,{checked:y.is_public,onCheckedChange:a=>z({...y,is_public:a})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{children:"Tags"}),(0,b.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,b.jsx)(e.Input,{placeholder:"Add a tag",value:w,onChange:a=>x(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),B())}),(0,b.jsx)(d.Button,{type:"button",onClick:B,variant:"secondary",children:"Add"})]}),y.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:y.tags.map(a=>(0,b.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>{z({...y,tags:y.tags.filter(b=>b!==a)})},className:"hover:text-destructive",children:(0,b.jsx)(p.X,{className:"h-3 w-3"})})]},a))})]}),(0,b.jsxs)(d.Button,{type:"submit",className:"w-full",disabled:a||!y.name,children:[a&&(0,b.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Creating...":"Create Room"]})]})})]})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=_cc79f53a._.js.map