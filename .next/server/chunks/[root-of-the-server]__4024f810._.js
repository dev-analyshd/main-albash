module.exports=[138047,(e,t,r)=>{function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r)if(!this._cachedTimeouts)return!1;else this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=r&&(t=i,r=a)}return t}},318263,(e,t,r)=>{var n=e.r(138047);r.operation=function(e){return new n(r.timeouts(e),{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},r.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort(function(e,t){return e-t}),n},r.createTimeout=function(e,t){var r=Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},r.wrap=function(e,t,n){if(t instanceof Array&&(n=t,t=null),!n)for(var i in n=[],e)"function"==typeof e[i]&&n.push(i);for(var o=0;o<n.length;o++){var a=n[o],s=e[a];e[a]=(function(n){var i=r.operation(t),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push(function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),a.apply(this,arguments))}),i.attempt(function(){n.apply(e,o)})}).bind(e,s),e[a].options=t}}},774167,(e,t,r)=>{t.exports=e.r(318263)},736850,(e,t,r)=>{"use strict";let n=e.r(774167),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}let a=(e,t,r)=>{let n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},s=e=>i.includes(e),u=(e,t)=>new Promise((r,i)=>{t={onFailedAttempt:()=>{},retries:10,...t};let u=n.operation(t);u.attempt(async n=>{try{r(await e(n))}catch(e){if(!(e instanceof Error))return void i(TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof o)u.stop(),i(e.originalError);else if(e instanceof TypeError&&!s(e.message))u.stop(),i(e);else{a(e,n,t);try{await t.onFailedAttempt(e)}catch(e){i(e);return}u.retry(e)||i(u.mainError())}}})});t.exports=u,t.exports.default=u,t.exports.AbortError=o},522734,(e,t,r)=>{t.exports=e.x("fs",()=>require("fs"))},731560,(e,t,r)=>{t.exports=a;var n=128,i=-128,o=0x80000000;function a(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw a.bytes=0,RangeError("Could not encode varint");t=t||[];for(var s=r=r||0;e>=o;)t[r++]=255&e|n,e/=128;for(;e&i;)t[r++]=255&e|n,e>>>=7;return t[r]=0|e,a.bytes=r-s+1,t}},823645,(e,t,r)=>{t.exports=o;var n=128,i=127;function o(e,t){var r,a=0,t=t||0,s=0,u=t,l=e.length;do{if(u>=l||s>49)throw o.bytes=0,RangeError("Could not decode varint");r=e[u++],a+=s<28?(r&i)<<s:(r&i)*Math.pow(2,s),s+=7}while(r>=n)return o.bytes=u-t,a}},206434,(e,t,r)=>{var n=128,i=16384,o=2097152,a=0x10000000,s=0x800000000,u=0x40000000000,l=0x2000000000000,c=0x100000000000000,f=0x8000000000000000;t.exports=function(e){return e<n?1:e<i?2:e<o?3:e<a?4:e<s?5:e<u?6:e<l?7:e<c?8:e<f?9:10}},549445,(e,t,r)=>{t.exports={encode:e.r(731560),decode:e.r(823645),encodingLength:e.r(206434)}},688947,(e,t,r)=>{t.exports=e.x("stream",()=>require("stream"))},337023,(e,t,r)=>{"use strict";t.exports=async e=>{let t;for await(let r of e)t=r;return t}},638121,(e,t,r)=>{let n=(...e)=>{let t;for(;e.length;)t=e.shift()(t);return t},i=e=>e&&("function"==typeof e[Symbol.asyncIterator]||"function"==typeof e[Symbol.iterator]||"function"==typeof e.next),o=e=>e&&"function"==typeof e.sink&&i(e.source),a=e=>t=>(e.sink(t),e.source),s=(...e)=>{if(o(e[0])){let t=e[0];e[0]=()=>t.source}else if(i(e[0])){let t=e[0];e[0]=()=>t}if(e.length>1&&o(e[e.length-1])&&(e[e.length-1]=e[e.length-1].sink),e.length>2)for(let t=1;t<e.length-1;t++)o(e[t])&&(e[t]=a(e[t]));return n(...e)};t.exports=s,t.exports.pipe=s,t.exports.rawPipe=n,t.exports.isIterable=i,t.exports.isDuplex=o},533369,(e,t,r)=>{"use strict";t.exports=async function*(e,t=1){let r=[];for await(let n of(t<1&&(t=1),e))for(r.push(n);r.length>=t;)yield r.slice(0,t),r=r.slice(t);for(;r.length;)yield r.slice(0,t),r=r.slice(t)}},717688,(e,t,r)=>{"use strict";let n=e.r(533369);t.exports=async function*(e,t=1){for await(let r of n(e,t)){let e=r.map(e=>e().then(e=>({ok:!0,value:e}),e=>({ok:!1,err:e})));for(let t=0;t<e.length;t++){let r=await e[t];if(r.ok)yield r.value;else throw r.err}}}},120889,(e,t,r)=>{"use strict";t.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},935589,(e,t,r)=>{"use strict";let n=e.r(120889),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),s=e.e,u={concatArrays:!1,ignoreUndefined:!1},l=e=>{let t=[];for(let r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols)for(let r of Object.getOwnPropertySymbols(e))o.call(e,r)&&t.push(r);return t};function c(e){return Array.isArray(e)?f(e):n(e)?h(e):e}function f(e){let t=e.slice(0,0);return l(e).forEach(r=>{a(t,r,c(e[r]))}),t}function h(e){let t=null===Object.getPrototypeOf(e)?Object.create(null):{};return l(e).forEach(r=>{a(t,r,c(e[r]))}),t}let d=(e,t,r,n)=>(r.forEach(r=>{void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?a(e,r,y(e[r],t[r],n)):a(e,r,c(t[r])))}),e),p=(e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach(t=>{let s=[];for(let r=0;r<t.length;r++)i.call(t,r)&&(s.push(String(r)),t===e?a(n,o++,t[r]):a(n,o++,c(t[r])));n=d(n,t,l(t).filter(e=>!s.includes(e)),r)}),n};function y(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?p(e,t,r):n(t)&&n(e)?d(e,t,l(t),r):c(t)}t.exports=function(...e){let t=y(c(u),this!==s&&this||{},u),r={_:{}};for(let i of e)if(void 0!==i){if(!n(i))throw TypeError("`"+i+"` is not an Option Object");r=y(r,{_:i},t)}return r._}},279785,(e,t,r)=>{!function(n,i){"use strict";var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function a(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function u(e,t){return e<<t|e>>>32-t}function l(e){return e^=e>>>16,e=s(e,0x85ebca6b),e^=e>>>13,e=s(e,0xc2b2ae35),e^=e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function h(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function p(e,t){return[e[0]^t[0],e[1]^t[1]]}function y(e){return e=f(e=p(e,[0,e[0]>>>1]),[0xff51afd7,0xed558ccd]),e=f(e=p(e,[0,e[0]>>>1]),[0xc4ceb9fe,0x1a85ec53]),e=p(e,[0,e[0]>>>1])}if(o.x86.hash32=function(e,t){if(!o.inputValidation||a(e)){t=t||0;for(var r=e.length%4,n=e.length-r,i=t,c=0,f=0xcc9e2d51,h=0x1b873593,d=0;d<n;d+=4)c=u(c=s(c=e[d]|e[d+1]<<8|e[d+2]<<16|e[d+3]<<24,f),15),i^=c=s(c,h),i=s(i=u(i,13),5)+0xe6546b64;switch(c=0,r){case 3:c^=e[d+2]<<16;case 2:c^=e[d+1]<<8;case 1:c^=e[d],c=u(c=s(c,f),15),i^=c=s(c,h)}return i^=e.length,(i=l(i))>>>0}},o.x86.hash128=function(e,t){if(!o.inputValidation||a(e)){t=t||0;for(var r=e.length%16,n=e.length-r,i=t,c=t,f=t,h=t,d=0,p=0,y=0,m=0,b=0x239b961b,g=0xab0e9789,w=0x38b34ae5,D=0xa1e38b93,v=0;v<n;v+=16)d=e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24,p=e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,y=e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24,m=e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,d=u(d=s(d,b),15),i^=d=s(d,g),i=s(i=u(i,19)+c,5)+0x561ccd1b,p=u(p=s(p,g),16),c^=p=s(p,w),c=s(c=u(c,17)+f,5)+0xbcaa747,y=u(y=s(y,w),17),f^=y=s(y,D),f=s(f=u(f,15)+h,5)+0x96cd1c35,m=u(m=s(m,D),18),h^=m=s(m,b),h=s(h=u(h,13)+i,5)+0x32ac3b17;switch(d=0,p=0,y=0,m=0,r){case 15:m^=e[v+14]<<16;case 14:m^=e[v+13]<<8;case 13:m^=e[v+12],m=u(m=s(m,D),18),h^=m=s(m,b);case 12:y^=e[v+11]<<24;case 11:y^=e[v+10]<<16;case 10:y^=e[v+9]<<8;case 9:y^=e[v+8],y=u(y=s(y,w),17),f^=y=s(y,D);case 8:p^=e[v+7]<<24;case 7:p^=e[v+6]<<16;case 6:p^=e[v+5]<<8;case 5:p^=e[v+4],p=u(p=s(p,g),16),c^=p=s(p,w);case 4:d^=e[v+3]<<24;case 3:d^=e[v+2]<<16;case 2:d^=e[v+1]<<8;case 1:d^=e[v],d=u(d=s(d,b),15),i^=d=s(d,g)}return i^=e.length,c^=e.length,f^=e.length,h^=e.length,i+=c,i+=f,i+=h,c+=i,f+=i,h+=i,i=l(i),c=l(c),f=l(f),h=l(h),i+=c,i+=f,i+=h,c+=i,f+=i,h+=i,("00000000"+(i>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)}},o.x64.hash128=function(e,t){if(!o.inputValidation||a(e)){t=t||0;for(var r=e.length%16,n=e.length-r,i=[0,t],s=[0,t],u=[0,0],l=[0,0],m=[0x87c37b91,0x114253d5],b=[0x4cf5ad43,0x2745937f],g=0;g<n;g+=16)u=[e[g+4]|e[g+5]<<8|e[g+6]<<16|e[g+7]<<24,e[g]|e[g+1]<<8|e[g+2]<<16|e[g+3]<<24],l=[e[g+12]|e[g+13]<<8|e[g+14]<<16|e[g+15]<<24,e[g+8]|e[g+9]<<8|e[g+10]<<16|e[g+11]<<24],u=h(u=f(u,m),31),i=c(i=h(i=p(i,u=f(u,b)),27),s),i=c(f(i,[0,5]),[0,0x52dce729]),l=h(l=f(l,b),33),s=c(s=h(s=p(s,l=f(l,m)),31),i),s=c(f(s,[0,5]),[0,0x38495ab5]);switch(u=[0,0],l=[0,0],r){case 15:l=p(l,d([0,e[g+14]],48));case 14:l=p(l,d([0,e[g+13]],40));case 13:l=p(l,d([0,e[g+12]],32));case 12:l=p(l,d([0,e[g+11]],24));case 11:l=p(l,d([0,e[g+10]],16));case 10:l=p(l,d([0,e[g+9]],8));case 9:l=h(l=f(l=p(l,[0,e[g+8]]),b),33),s=p(s,l=f(l,m));case 8:u=p(u,d([0,e[g+7]],56));case 7:u=p(u,d([0,e[g+6]],48));case 6:u=p(u,d([0,e[g+5]],40));case 5:u=p(u,d([0,e[g+4]],32));case 4:u=p(u,d([0,e[g+3]],24));case 3:u=p(u,d([0,e[g+2]],16));case 2:u=p(u,d([0,e[g+1]],8));case 1:u=h(u=f(u=p(u,[0,e[g]]),m),31),i=p(i,u=f(u,b))}return i=p(i,[0,e.length]),i=c(i,s=p(s,[0,e.length])),s=c(s,i),i=y(i),i=c(i,s=y(s)),s=c(s,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)}},void 0!==r)t.exports&&(r=t.exports=o),r.murmurHash3=o;else if("function"==typeof define&&define.amd){let t;void 0!==(t=o)&&e.v(t)}else o._murmurHash3=n.murmurHash3,o.noConflict=function(){return n.murmurHash3=o._murmurHash3,o._murmurHash3=void 0,o.noConflict=void 0,o},n.murmurHash3=o}(e.e)},284327,(e,t,r)=>{t.exports=e.r(279785)},643988,(e,t,r)=>{"use strict";function n(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}t.exports=function(e,t,r){if(!e||"string"==typeof e)throw TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return n(e,r)}catch(i){r.message=e.message,r.stack=e.stack;let t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(e)),n(new t,r)}}},786590,(e,t,r)=>{"use strict";t.exports=function e(e,t){for(var r=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,a){r[n]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}})}},267789,(e,t,r)=>{"use strict";var n=r;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=Array(64),o=Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,o=null,a=[],s=0,u=0;t<r;){var l=e[t++];switch(u){case 0:a[s++]=i[l>>2],n=(3&l)<<4,u=1;break;case 1:a[s++]=i[n|l>>4],n=(15&l)<<2,u=2;break;case 2:a[s++]=i[n|l>>6],a[s++]=i[63&l],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return(u&&(a[s++]=i[n],a[s++]=61,1===u&&(a[s++]=61)),o)?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var s="invalid encoding";n.decode=function(e,t,r){for(var n,i=r,a=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&a>1)break;if(void 0===(l=o[l]))throw Error(s);switch(a){case 0:n=l,a=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,a=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,a=3;break;case 3:t[r++]=(3&n)<<6|l,a=0}}if(1===a)throw Error(s);return r-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},489767,(e,t,r)=>{"use strict";function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},523758,(e,t,r)=>{"use strict";function n(e){return"undefined"!=typeof Float32Array?!function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():!function(){function t(e,t,r,n){var i=+(t<0);if(i&&(t=-t),0===t)e(1/t>0?0:0x80000000,r,n);else if(isNaN(t))e(0x7fc00000,r,n);else if(t>34028234663852886e22)e((i<<31|0x7f800000)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),a=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|a)>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=(n>>31)*2+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:1/0*i:0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?!function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():!function(){function t(e,t,r,n,i,o){var a,s=+(n<0);if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:0x80000000,i,o+r);else if(isNaN(n))e(0,i,o+t),e(0x7ff80000,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|0x7ff00000)>>>0,i,o+r);else if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/0x100000000)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(0x10000000000000*(a=n*Math.pow(2,-u))>>>0,i,o+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}function r(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=(a>>31)*2+1,u=a>>>20&2047,l=0x100000000*(1048575&a)+o;return 2047===u?l?NaN:1/0*s:0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+0x10000000000000)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},256492,(__turbopack_context__,module,exports)=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},432518,(e,t,r)=>{"use strict";var n=r;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(a+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-o}},697554,(e,t,r)=>{"use strict";t.exports=function e(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=(7|a)+1),s}}},94659,(e,t,r)=>{"use strict";t.exports=i;var n=e.r(20841);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/0x100000000>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>0xffffffff&&(r=0,++n>0xffffffff&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e))if(!n.Long)return i.fromNumber(parseInt(e,10));else e=n.Long.fromString(e);return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+0x100000000*r)}return this.lo+0x100000000*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},20841,(e,t,r)=>{"use strict";var n=r;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=e.r(786590),n.base64=e.r(267789),n.EventEmitter=e.r(489767),n.float=e.r(523758),n.inquire=e.r(256492),n.utf8=e.r(432518),n.pool=e.r(697554),n.LongBits=e.r(94659),n.isNode=!!(e.g&&e.g.process&&e.g.process.versions&&e.g.process.versions.node),n.global=n.isNode&&e.g||"undefined"!=typeof self&&self||e.e,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},5307,(e,t,r)=>{"use strict";t.exports=f;var n,i=e.r(20841),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function d(e,t,r){t[r]=255&e}function p(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function y(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function b(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=h(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},y.prototype=Object.create(u.prototype),y.prototype.fn=p,f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new y((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,+!!e)},f.prototype.fixed32=function(e){return this._push(b,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=o.from(e);return this._push(b,4,t.lo)._push(b,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(g,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=h(),n._configure()}},466685,(e,t,r)=>{"use strict";t.exports=o;var n=e.r(5307);(o.prototype=Object.create(n.prototype)).constructor=o;var i=e.r(20841);function o(){n.call(this)}function a(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},269351,(e,t,r)=>{"use strict";t.exports=u;var n,i=e.r(20841),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function f(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}u.create=c(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var e=0xffffffff;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return(this.pos+=e,Array.isArray(this.buf))?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do if(this.pos>=this.len)throw s(this);while(128&this.buf[this.pos++])return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=c(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},681246,(e,t,r)=>{"use strict";t.exports=o;var n=e.r(269351);(o.prototype=Object.create(n.prototype)).constructor=o;var i=e.r(20841);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},331664,(e,t,r)=>{"use strict";t.exports=i;var n=e.r(20841);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(!s.rpcImpl)return void setTimeout(function(){a(Error("already ended"))},0);try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return s.emit("error",e,t),a(e);if(null===r)return void s.end(!0);if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)})}catch(e){s.emit("error",e,t),setTimeout(function(){a(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},788919,(e,t,r)=>{"use strict";r.Service=e.r(331664)},388443,(e,t,r)=>{"use strict";t.exports={}},690562,(e,t,r)=>{"use strict";var n=r;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=e.r(5307),n.BufferWriter=e.r(466685),n.Reader=e.r(269351),n.BufferReader=e.r(681246),n.util=e.r(20841),n.rpc=e.r(788919),n.roots=e.r(388443),n.configure=i,i()},429194,(e,t,r)=>{"use strict";t.exports=e.r(690562)},80051,(e,t,r)=>{"use strict";t.exports=async e=>{let t=[];for await(let r of e)t.push(r);return t}},500874,(e,t,r)=>{t.exports=e.x("buffer",()=>require("buffer"))},109047,(e,t,r)=>{"use strict";let{Buffer:n}=e.r(500874),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){let n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length||i<=0)return e||n.alloc(0);let o=!!e,a=this._offset(r),s=i-r,u=s,l=o&&t||0,c=a[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,l),l+=this._bufs[t].length;return e}if(u<=this._bufs[a[0]].length-c)return o?this._bufs[a[0]].copy(e,t,c,c+u):this._bufs[a[0]].slice(c,c+u);o||(e=n.allocUnsafe(s));for(let t=a[0];t<this._bufs.length;t++){let r=this._bufs[t].length-c;if(u>r)this._bufs[t].copy(e,l,c),l+=r;else{this._bufs[t].copy(e,l,c,c+u),l+=r;break}u-=r,c&&(c=0)}return e.length>l?e.slice(0,l):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(Number.isNaN(e=Math.trunc(e))||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this},o.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),isNaN(t=Number(t||0))&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let i=this._offset(t),o=i[0],a=i[1];for(;o<this._bufs.length;o++){let t=this._bufs[o];for(;a<t.length;)if(t.length-a>=e.length){let r=t.indexOf(e,a);if(-1!==r)return this._reverseOffset([o,r]);a=t.length-e.length+1}else{let t=this._reverseOffset([o,a]);if(this._match(t,e))return t;a++}a=0}return -1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)!function(t){null===e[t]?o.prototype[t]=function(e,r){return this.slice(e,e+r)[t](0,r)}:o.prototype[t]=function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},t.exports=o},145894,(e,t,r)=>{class n{constructor(e,t=12,r=8192,n=32768,i=64,o){this.bits=t,this.min=r,this.max=n,this.asModule=e,this.rabin=new e.Rabin(t,r,n,i,o),this.polynomial=o}fingerprint(e){let{__retain:t,__release:r,__allocArray:n,__getInt32Array:i,Int32Array_ID:o,Uint8Array_ID:a}=this.asModule,s=t(n(o,new Int32Array(Math.ceil(e.length/this.min)))),u=t(n(a,e)),l=i(this.rabin.fingerprint(u,s));r(u),r(s);let c=l.indexOf(0);return c>=0?l.subarray(0,c):l}}t.exports=n},319289,(e,t,r)=>{"use strict";let n=-8,i=-4,o=0,a=1,s=1,u=2,l=5,c=1024,f=2048,h=8192,d=0,p=4,y=8,m=12,b=12,g=16,w="undefined"!=typeof BigUint64Array,D=Symbol(),v=1024;function _(e,t){let r=new Uint32Array(e),n=new Uint16Array(e);var o=r[t+i>>>2]>>>1,a=t>>>1;if(o<=v)return String.fromCharCode.apply(String,n.subarray(a,a+o));let s=[];do{let e=n[a+v-1],t=e>=55296&&e<56320?v-1:v;s.push(String.fromCharCode.apply(String,n.subarray(a,a+=t))),o-=t}while(o>v)return s.join("")+String.fromCharCode.apply(String,n.subarray(a,a+o))}function E(e){let t={};function r(e,t){return e?_(e.buffer,t):"<yet unknown>"}let n=e.env=e.env||{};return n.abort=n.abort||function(e,i,o,a){let s=t.memory||n.memory;throw Error("abort: "+r(s,e)+" at "+r(s,i)+":"+o+":"+a)},n.trace=n.trace||function(e,i){console.log("trace: "+r(t.memory||n.memory,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function x(e,t){let r=t.exports,D=r.memory,v=r.table,E=r.__alloc,x=r.__retain,S=r.__rtti_base||-1;function C(e){let t=new Uint32Array(D.buffer);if((e>>>=0)>=t[S>>>2])throw Error("invalid id: "+e);return t[(S+4>>>2)+2*e]}function T(e){let t=new Uint32Array(D.buffer);if((e>>>=0)>=t[S>>>2])throw Error("invalid id: "+e);return t[(S+4>>>2)+2*e+1]}function k(e){return 31-Math.clz32(e>>>l&31)}function P(e,t,r){let n=D.buffer;if(r)switch(e){case 2:return new Float32Array(n);case 3:return new Float64Array(n)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(n);case 1:return new(t?Int16Array:Uint16Array)(n);case 2:return new(t?Int32Array:Uint32Array)(n);case 3:return new(t?BigInt64Array:BigUint64Array)(n)}throw Error("unsupported align: "+e)}function j(e){let t=new Uint32Array(D.buffer),r=t[e+n>>>2],o=C(r);if(!(o&s))throw Error("not an array: "+r);let a=k(o);var l=t[e+p>>>2];let h=o&u?t[e+b>>>2]:t[l+i>>>2]>>>a;return P(a,o&c,o&f).subarray(l>>>=a,l+h)}function R(e,t,r){return new e(B(e,t,r))}function B(e,t,r){let n=D.buffer,o=new Uint32Array(n),a=o[r+p>>>2];return new e(n,a,o[a+i>>>2]>>>t)}return e.__allocString=function(e){let t=e.length,r=E(t<<1,a),n=new Uint16Array(D.buffer);for(var i=0,o=r>>>1;i<t;++i)n[o+i]=e.charCodeAt(i);return r},e.__getString=function(e){let t=D.buffer;if(new Uint32Array(t)[e+n>>>2]!==a)throw Error("not a string: "+e);return _(t,e)},e.__allocArray=function(e,t){let r=C(e);if(!(r&(s|u)))throw Error("not an array: "+e+" @ "+r);let n=k(r),i=t.length,a=E(i<<n,o),l=E(r&u?g:m,e),w=new Uint32Array(D.buffer);w[l+d>>>2]=x(a),w[l+p>>>2]=a,w[l+y>>>2]=i<<n,r&u&&(w[l+b>>>2]=i);let v=P(n,r&c,r&f);if(r&h)for(let e=0;e<i;++e)v[(a>>>n)+e]=x(t[e]);else v.set(t,a>>>n);return l},e.__getArrayView=j,e.__getArray=function(e){let t=j(e),r=t.length,n=Array(r);for(let e=0;e<r;e++)n[e]=t[e];return n},e.__getArrayBuffer=function(e){let t=D.buffer,r=new Uint32Array(t)[e+i>>>2];return t.slice(e,e+r)},e.__getInt8Array=R.bind(null,Int8Array,0),e.__getInt8ArrayView=B.bind(null,Int8Array,0),e.__getUint8Array=R.bind(null,Uint8Array,0),e.__getUint8ArrayView=B.bind(null,Uint8Array,0),e.__getUint8ClampedArray=R.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=B.bind(null,Uint8ClampedArray,0),e.__getInt16Array=R.bind(null,Int16Array,1),e.__getInt16ArrayView=B.bind(null,Int16Array,1),e.__getUint16Array=R.bind(null,Uint16Array,1),e.__getUint16ArrayView=B.bind(null,Uint16Array,1),e.__getInt32Array=R.bind(null,Int32Array,2),e.__getInt32ArrayView=B.bind(null,Int32Array,2),e.__getUint32Array=R.bind(null,Uint32Array,2),e.__getUint32ArrayView=B.bind(null,Uint32Array,2),w&&(e.__getInt64Array=R.bind(null,BigInt64Array,3),e.__getInt64ArrayView=B.bind(null,BigInt64Array,3),e.__getUint64Array=R.bind(null,BigUint64Array,3),e.__getUint64ArrayView=B.bind(null,BigUint64Array,3)),e.__getFloat32Array=R.bind(null,Float32Array,2),e.__getFloat32ArrayView=B.bind(null,Float32Array,2),e.__getFloat64Array=R.bind(null,Float64Array,3),e.__getFloat64ArrayView=B.bind(null,Float64Array,3),e.__instanceof=function(e,t){let r=new Uint32Array(D.buffer);var i=r[e+n>>>2];if(i<=r[S>>>2])do if(i==t)return!0;while(i=T(i))return!1},e.memory=e.memory||D,e.table=e.table||v,A(r,e)}function S(e){return"undefined"!=typeof Response&&e instanceof Response}async function C(e,t){return S(e=await e)?T(e,t):x(E(t||(t={})),await WebAssembly.instantiate(e instanceof WebAssembly.Module?e:await WebAssembly.compile(e),t))}async function T(e,t){return WebAssembly.instantiateStreaming?x(E(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance):C(S(e=await e)?e.arrayBuffer():e,t)}function A(e,t){var r=t?Object.create(t):{},n=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){};for(let t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;let i=e[t],o=t.split("."),a=r;for(;o.length>1;){let e=o.shift();Object.prototype.hasOwnProperty.call(a,e)||(a[e]={}),a=a[e]}let s=o[0],u=s.indexOf("#");if(u>=0){let r=s.substring(0,u),o=a[r];if(void 0===o||!o.prototype){let e=function(...t){return e.wrap(e.prototype.constructor(0,...t))};e.prototype={valueOf:function(){return this[D]}},e.wrap=function(t){return Object.create(e.prototype,{[D]:{value:t,writable:!1}})},o&&Object.getOwnPropertyNames(o).forEach(t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))),a[r]=e}if(s=s.substring(u+1),a=a[r].prototype,/^(get|set):/.test(s)){if(!Object.prototype.hasOwnProperty.call(a,s=s.substring(4))){let r=e[t.replace("set:","get:")],n=e[t.replace("get:","set:")];Object.defineProperty(a,s,{get:function(){return r(this[D])},set:function(e){n(this[D],e)},enumerable:!0})}}else"constructor"===s?(a[s]=(...e)=>(n(e.length),i(...e))).original=i:(a[s]=function(...e){return n(e.length),i(this[D],...e)}).original=i}else/^(get|set):/.test(s)?Object.prototype.hasOwnProperty.call(a,s=s.substring(4))||Object.defineProperty(a,s,{get:e[t.replace("set:","get:")],set:e[t.replace("get:","set:")],enumerable:!0}):"function"==typeof i&&i!==n?(a[s]=(...e)=>(n(e.length),i(...e))).original=i:a[s]=i}return r}r.instantiate=C,r.instantiateSync=function(e,t){return x(E(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))},r.instantiateStreaming=T,r.demangle=A},79798,(e,t,r)=>{let{instantiateSync:n}=e.r(319289),i=e.r(522734);async function o(e={}){return o.supported?n(i.readFileSync("/ROOT/node_modules/rabin-wasm/dist/../dist/rabin.wasm"),e):null}o.supported="undefined"!=typeof WebAssembly,t.exports=o},91109,(e,t,r)=>{let n=e.r(145894),i=e.r(79798),o=async(e,t,r,o,a)=>new n(await i(),e,t,r,o,a);t.exports={Rabin:n,create:o}},131234,(e,t,r)=>{"use strict";let n=7;function i(e,t){return e+o(t)}function o(e){let t=e;return t-=t>>1&0x55555555,((t=(0x33333333&t)+(t>>2&0x33333333))+(t>>4)&0xf0f0f0f)*0x1010101>>24}function a(e,t){return e[0]-t[0]}function s(e){return e[1]}t.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,r=Array(this.length);for(;t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}reduce(e,t){let r=0,n=t;for(;r<this.length;)n=e(n,this.get(r),r),r++;return n}find(e){let t=0,r,n;for(;t<this.length&&!r;)r=e(n=this.get(t)),t++;return r?n:void 0}_internalPositionFor(e,t){let r=this._bytePosFor(e,t);if(r>=this._bitArrays.length)return -1;let a=this._bitArrays[r],s=e-r*n;return(a&1<<s)>0?this._bitArrays.slice(0,r).reduce(i,0)+o(a&~(0xffffffff<<s+1))-1:-1}_bytePosFor(e,t){let r=Math.floor(e/n),i=r+1;for(;!t&&this._bitArrays.length<i;)this._bitArrays.push(0);return r}_setBit(e){let t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-t*n}_unsetBit(e){let t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-t*n)}_setInternalPos(e,t,r,n){let i=this._data,o=[t,r];if(n)this._sortData(),i[e]=o;else{if(i.length)if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{let e=Math.round(i.length/2);this._data=i.slice(0,e).concat(o).concat(i.slice(e))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(a),this._changedData=!1}bitField(){let e,t=[],r=8,n=0,i=0,o=this._bitArrays.slice();for(;o.length||n;){0===n&&(e=o.shift(),n=7);let a=Math.min(n,r);i|=(e&~(255<<a))<<8-r,e>>>=a,n-=a,(r-=a)&&(n||o.length)||(t.push(i),i=0,r=8)}for(var a=t.length-1;a>0;a--)if(0===t[a])t.pop();else break;return t}compactArray(){return this._sortData(),this._data.map(s)}}},685229,(e,t,r)=>{"use strict";t.exports=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var f=0,h=o-1;(0!==c||f<i)&&-1!==h;h--,f++)c+=s*a[h]>>>0,a[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*c+1>>>0,l=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*l[d]>>>0,l[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var y=u.repeat(r);p<a;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:f,decode:h}}},486172,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=new Uint8Array(0),i=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),o=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map(e=>parseInt(e,16))):n},a=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},s=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),u=e=>new TextEncoder().encode(e),l=e=>new TextDecoder().decode(e);r.coerce=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},r.empty=n,r.equals=a,r.fromHex=o,r.fromString=u,r.isBinary=s,r.toHex=i,r.toString=l},341206,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(685229),i=e.r(486172);class o{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class a{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return u(this,e)}}class s{constructor(e){this.decoders=e}or(e){return u(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let u=(e,t)=>new s({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class l{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new o(e,t,r),this.decoder=new a(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let c=({name:e,prefix:t,encode:r,decode:n})=>new l(e,t,r,n),f=({prefix:e,name:t,alphabet:r})=>{let{encode:o,decode:a}=n(r,t);return c({prefix:e,name:t,encode:o,decode:e=>i.coerce(a(e))})},h=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},d=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},p=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>c({prefix:t,name:e,encode:e=>d(e,n,r),decode:t=>h(t,n,r,e)});r.Codec=l,r.baseX=f,r.from=c,r.or=u,r.rfc4648=p},43131,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(341206),i=e.r(486172);r.identity=n.from({prefix:"\0",name:"identity",encode:e=>i.toString(e),decode:e=>i.fromString(e)})},93103,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.base2=e.r(341206).rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})},452756,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.base8=e.r(341206).rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})},654063,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.base10=e.r(341206).baseX({prefix:"9",name:"base10",alphabet:"0123456789"})},500072,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(341206);let i=n.rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),o=n.rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});r.base16=i,r.base16upper=o},591328,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(341206);let i=n.rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=n.rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),a=n.rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s=n.rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u=n.rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),l=n.rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),c=n.rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),f=n.rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),h=n.rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});r.base32=i,r.base32hex=u,r.base32hexpad=c,r.base32hexpadupper=f,r.base32hexupper=l,r.base32pad=a,r.base32padupper=s,r.base32upper=o,r.base32z=h},786394,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(341206);let i=n.baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),o=n.baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});r.base36=i,r.base36upper=o},198518,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(341206);let i=n.baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=n.baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});r.base58btc=i,r.base58flickr=o},509506,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(341206);let i=n.rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=n.rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),a=n.rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),s=n.rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});r.base64=i,r.base64pad=o,r.base64url=a,r.base64urlpad=s},835119,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(341206);let i=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),o=i.reduce((e,t,r)=>(e[r]=t,e),[]),a=i.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function s(e){return e.reduce((e,t)=>e+=o[t],"")}function u(e){let t=[];for(let r of e){let e=a[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}r.base256emoji=n.from({prefix:"\uD83D\uDE80",name:"base256emoji",encode:s,decode:u})},23646,(e,t,r)=>{"use strict";var n=128,i=-128,o=0x80000000;function a(e,t,r){t=t||[];for(var s=r=r||0;e>=o;)t[r++]=255&e|n,e/=128;for(;e&i;)t[r++]=255&e|n,e>>>=7;return t[r]=0|e,a.bytes=r-s+1,t}var s=128,u=127;function l(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw l.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&u)<<i:(r&u)*Math.pow(2,i),i+=7}while(r>=s)return l.bytes=o-t,n}var c=128,f=16384,h=2097152,d=0x10000000,p=0x800000000,y=0x40000000000,m=0x2000000000000,b=0x100000000000000,g=0x8000000000000000;t.exports={encode:a,decode:l,encodingLength:function(e){return e<c?1:e<f?2:e<h?3:e<d?4:e<p?5:e<y?6:e<m?7:e<b?8:e<g?9:10}}},588915,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(23646);let i=(e,t,r=0)=>(n.encode(e,t,r),t),o=e=>n.encodingLength(e);r.decode=(e,t=0)=>[n.decode(e,t),n.decode.bytes],r.encodeTo=i,r.encodingLength=o},439623,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(486172),i=e.r(588915);let o=(e,t)=>{let r=t.byteLength,n=i.encodingLength(e),o=n+i.encodingLength(r),a=new Uint8Array(o+r);return i.encodeTo(e,a,0),i.encodeTo(r,a,n),a.set(t,o),new u(e,r,t,a)},a=e=>{let t=n.coerce(e),[r,o]=i.decode(t),[a,s]=i.decode(t.subarray(o)),l=t.subarray(o+s);if(l.byteLength!==a)throw Error("Incorrect length");return new u(r,a,l,t)},s=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&n.equals(e.bytes,t.bytes);class u{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}r.Digest=u,r.create=o,r.decode=a,r.equals=s},768632,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(439623);let i=({name:e,code:t,encode:r})=>new o(e,t,r);class o{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?n.create(this.code,t):t.then(e=>n.create(this.code,e))}throw Error("Unknown type, must be binary type")}}r.Hasher=o,r.from=i},607429,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(254799),i=e.r(768632),o=e.r(486172),a=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n);let s=i.from({name:"sha2-256",code:18,encode:e=>o.coerce(a.default.createHash("sha256").update(e).digest())}),u=i.from({name:"sha2-512",code:19,encode:e=>o.coerce(a.default.createHash("sha512").update(e).digest())});r.sha256=s,r.sha512=u},409422,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(486172),i=e.r(439623);let o=0,a="identity",s=n.coerce,u=e=>i.create(o,s(e));r.identity={code:o,name:a,encode:s,digest:u}},493329,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(486172);let i="raw",o=e=>n.coerce(e),a=e=>n.coerce(e);r.code=85,r.decode=a,r.encode=o,r.name=i},810715,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=new TextEncoder,i=new TextDecoder,o="json",a=e=>n.encode(JSON.stringify(e)),s=e=>JSON.parse(i.decode(e));r.code=512,r.decode=s,r.encode=a,r.name=o},41544,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(588915),i=e.r(439623),o=e.r(198518),a=e.r(591328),s=e.r(486172);class u{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:b,byteLength:b,code:m,version:m,multihash:m,bytes:m,_baseCache:b,asCID:b})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==h)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==d)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return u.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=i.create(e,t);return u.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&i.equals(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?c(t,n,e||o.base58btc.encoder):f(t,n,e||a.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return w(/^0\.0/,D),!!(e&&(e[y]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof u)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new u(t,r,n,i||p(t,r,n.bytes))}if(null==e||!0!==e[y])return null;{let{version:t,multihash:r,code:n}=e,o=i.decode(r);return u.create(t,n,o)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===h)return new u(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${h}) block encoding`);case 1:{let n=p(e,t,r.bytes);return new u(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return u.create(0,h,e)}static createV1(e,t){return u.create(1,e,t)}static decode(e){let[t,r]=u.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=u.inspectBytes(e),r=t.size-t.multihashSize,n=s.coerce(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),a=new i.Digest(t.multihashCode,t.digestSize,o,n);return[0===t.version?u.createV0(a):u.createV1(t.codec,a),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,i]=n.decode(e.subarray(t));return t+=i,r},i=r(),o=h;if(18===i?(i=0,t=0):1===i&&(o=r()),0!==i&&1!==i)throw RangeError(`Invalid CID version ${i}`);let a=t,s=r(),u=r(),l=t+u;return{version:i,codec:o,multihashCode:s,digestSize:u,multihashSize:l-a,size:l}}static parse(e,t){let[r,n]=l(e,t),i=u.decode(n);return i._baseCache.set(r,e),i}}let l=(e,t)=>{switch(e[0]){case"Q":{let r=t||o.base58btc;return[o.base58btc.prefix,r.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{let r=t||o.base58btc;return[o.base58btc.prefix,r.decode(e)]}case a.base32.prefix:{let r=t||a.base32;return[a.base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},c=(e,t,r)=>{let{prefix:n}=r;if(n!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},f=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},h=112,d=18,p=(e,t,r)=>{let i=n.encodingLength(e),o=i+n.encodingLength(t),a=new Uint8Array(o+r.byteLength);return n.encodeTo(e,a,0),n.encodeTo(t,a,i),a.set(r,o),a},y=Symbol.for("@ipld/js-cid/CID"),m={writable:!1,configurable:!1,enumerable:!0},b={writable:!1,enumerable:!1,configurable:!1},g="0.0.0-dev",w=(e,t)=>{if(e.test(g))console.warn(t);else throw Error(t)},D=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;r.CID=u},180129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(41544),i=e.r(588915),o=e.r(486172),a=e.r(768632),s=e.r(439623);r.CID=n.CID,r.varint=i,r.bytes=o,r.hasher=a,r.digest=s},593630,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(43131),i=e.r(93103),o=e.r(452756),a=e.r(654063),s=e.r(500072),u=e.r(591328),l=e.r(786394),c=e.r(198518),f=e.r(509506),h=e.r(835119),d=e.r(607429),p=e.r(409422),y=e.r(493329),m=e.r(810715);e.r(180129);var b=e.r(41544),g=e.r(768632),w=e.r(439623),D=e.r(588915),v=e.r(486172);let _={...n,...i,...o,...a,...s,...u,...l,...c,...f,...h},E={...d,...p},x={raw:y,json:m};r.CID=b.CID,r.hasher=g,r.digest=w,r.varint=D,r.bytes=v,r.bases=_,r.codecs=x,r.hashes=E},609629,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.asUint8Array=function(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}},153576,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(609629);function i(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?n.asUint8Array(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}r.alloc=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.alloc?n.asUint8Array(globalThis.Buffer.alloc(e)):new Uint8Array(e)},r.allocUnsafe=i},634750,(e,t,r)=>{"use strict";var n=e.r(593630),i=e.r(153576);function o(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let a=o("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),s=o("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=i.allocUnsafe(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t});t.exports={utf8:a,"utf-8":a,hex:n.bases.base16,latin1:s,ascii:s,binary:s,...n.bases}},147843,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(634750),i=e.r(609629);r.fromString=function(e,t="utf8"){let r=n[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?i.asUint8Array(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}},294456,(e,t,r)=>{"use strict";let n=e.r(131234),{fromString:i}=e.r(147843);class o{constructor(e,t,r=0){this._options=e,this._popCount=0,this._parent=t,this._posAtParent=r,this._children=new n,this.key=null}async put(e,t){let r=await this._findNewBucketAndPos(e);await r.bucket._putAt(r,e,t)}async get(e){let t=await this._findChild(e);if(t)return t.value}async del(e){let t=await this._findPlace(e),r=t.bucket._at(t.pos);r&&r.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce((e,t)=>t instanceof o?e+t.leafCount():e+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){for(let e of this._children.compactArray())e instanceof o?yield*e.eachLeafSeries():yield e;return[]}serialize(e,t){let r=[];return t(this._children.reduce((r,n,i)=>(n&&(n instanceof o?r.push(n.serialize(e,t)):r.push(e(n,i))),r),r))}asyncTransform(e,t){return l(this,e,t)}toJSON(){return this.serialize(s,u)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let t=await this._findPlace(e),r=t.bucket._at(t.pos);if(!(r instanceof o)&&r&&r.key===e)return r}async _findPlace(e){let t=this._options.hash("string"==typeof e?i(e):e),r=await t.take(this._options.bits),n=this._children.get(r);return n instanceof o?n._findPlace(t):{bucket:this,pos:r,hash:t,existingChild:n}}async _findNewBucketAndPos(e){let t=await this._findPlace(e);if(t.existingChild&&t.existingChild.key!==e){let e=new o(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);let r=await e._findPlace(t.existingChild.hash);return r.bucket._putAt(r,t.existingChild.key,t.existingChild.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}_putObjectAt(e,t){!this._children.get(e)&&this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){let e=this._children.find(a);if(e&&!(e instanceof o)){let t=e.hash;t.untake(this._options.bits);let r={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(r,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function a(e){return!!e}function s(e,t){return e.key}function u(e){return e}async function l(e,t,r){let n=[];for(let i of e._children.compactArray())if(i instanceof o)await l(i,t,r);else{let r=await t(i);n.push({bitField:e._children.bitField(),children:r})}return r(n)}t.exports=o},721641,(e,t,r)=>{"use strict";let n=[255,254,252,248,240,224,192,128],i=[1,3,7,15,31,63,127,255];function o(e,t,r){return(e&a(t,r))>>>t}function a(e,t){return n[e]&i[Math.min(t+e-1,7)]}t.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,r=0;for(;t&&this._haveBits();){let e=this._value[this._currentBytePos],n=this._currentBitPos+1,i=Math.min(n,t),a=o(e,n-i,i);r=(r<<i)+a,t-=i,this._currentBitPos-=i,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},891631,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(153576),i=e.r(609629);r.concat=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=n.allocUnsafe(t),o=0;for(let t of e)r.set(t,o),o+=t.length;return i.asUint8Array(r)}},93158,(e,t,r)=>{"use strict";let n=e.r(721641),{concat:i}=e.r(891631);function o(e){return function(t){return t instanceof a?t:new a(t,e)}}class a{constructor(e,t){if(!(e instanceof Uint8Array))throw Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let r=0;for(;t>0;){let e=this._buffers[this._currentBufferIndex],n=Math.min(e.availableBits(),t),i=e.take(n);r=(r<<n)+i,t-=n,this._availableBits-=n,0===e.availableBits()&&this._currentBufferIndex++}return r}untake(e){let t=e;for(;t>0;){let e=this._buffers[this._currentBufferIndex],r=Math.min(e.totalBits()-e.availableBits(),t);e.untake(r),t-=r,this._availableBits+=r,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth?i([this._value,Uint8Array.from([this._depth])]):this._value,t=new n(await this._hashFn(e));this._buffers.push(t),this._availableBits+=t.availableBits()}}t.exports=o,t.exports.InfiniteHash=a},477766,(e,t,r)=>{"use strict";let n=e.r(294456),i=e.r(93158);t.exports={createHAMT:function(e){if(!e||!e.hashFn)throw Error("please define an options.hashFn");return new n({bits:e.bits||8,hash:i(e.hashFn)})},Bucket:n}},816461,(e,t,r)=>{"use strict";t.exports=async function*(e,t={}){let r=e.getReader();try{for(;;){let e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&r.cancel(),r.releaseLock()}}},682744,(e,t,r)=>{"use strict";let n=e.r(816461);t.exports=function(e){return"function"==typeof e.stream?n(e.stream()):n(new Response(e).body)}},598242,(e,t,r)=>{"use strict";t.exports=function(e){let[t,r]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:e=>{n.push(e)},next:()=>n.length?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}},480652,(e,t,r)=>{"use strict";t.exports=async function*(e,t){for await(let r of e)yield t(r)}},874645,(e,t,r)=>{"use strict";t.exports=async e=>{for await(let t of e);}},103527,(e,t,r)=>{"use strict";t.exports=async function*(e,t){for await(let r of e)await t(r)&&(yield r)}},792541,(e,t,r)=>{"use strict";t.exports=async function*(e,t){let r=0;if(!(t<1)){for await(let n of e)if(yield n,++r===t)return}}},309305,(e,t,r)=>{"use strict";function n(e,t,r){void 0===r&&(r=!1),r&&(t/=e,e=1);var n,i=[],o=0,a=0,s=function(){var r=o+t,u=Date.now();if(u<r){void 0!==n&&clearTimeout(n),n=setTimeout(s,r-u);return}o=u,a=0;for(var l=0,c=i.splice(0,e);l<c.length;l++){var f=c[l];a++,f()}n=i.length?setTimeout(s,t):void 0};return function(r){return new Promise(function(u,l){var c=function(){return Promise.resolve().then(r).then(u).catch(l)},f=Date.now();void 0===n&&f-o>t&&(o=f,a=0),a++<e?c():(i.push(c),void 0===n&&(n=setTimeout(s,o+t-f)))})}}Object.defineProperty(r,"__esModule",{value:!0}),t.exports=n,r.default=n},921517,(e,t,r)=>{t.exports=e.x("http",()=>require("http"))},524836,(e,t,r)=>{t.exports=e.x("https",()=>require("https"))},406461,(e,t,r)=>{t.exports=e.x("zlib",()=>require("zlib"))},341902,(e,t,r)=>{"use strict";t.exports=function(e){if(!/^data:/i.test(e))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');let t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),n="",i=!1,o=r[0]||"text/plain",a=o;for(let e=1;e<r.length;e++)"base64"===r[e]?i=!0:(a+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(a+=";charset=US-ASCII",n="US-ASCII");let s=i?"base64":"ascii",u=unescape(e.substring(t+1)),l=Buffer.from(u,s);return l.type=o,l.typeFull=a,l.charset=n,l}},363890,(e,t,r)=>{t.exports=e.x("stream/web",()=>require("stream/web"))},163595,e=>{"use strict";var t,r,n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol(".concat(e,")")};function a(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function l(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{l(i[e](t))}catch(e){h(o[0][3],e)}}function l(e){e.value instanceof u?Promise.resolve(e.value.v).then(c,f):h(o[0][2],e)}function c(e){s("next",e)}function f(e){s("throw",e)}function h(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function c(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:u(e[n](t)),done:!1}:i?i(t):t}:i}}function f(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=s(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){i(n,o,(t=e[r](t)).done,t.value)})}}function i(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}}function h(){}function d(e){return"object"==typeof e&&null!==e||"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var p=h;function y(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}var m=Promise,b=Promise.prototype.then,g=Promise.reject.bind(m);function w(e){return new m(e)}function D(e){return w(function(t){return t(e)})}function v(e){return g(e)}function _(e,t,r){return b.call(e,t,r)}function E(e,t,r){_(_(e,t,r),void 0,p)}function x(e,t){E(e,t)}function S(e,t){E(e,void 0,t)}function C(e,t,r){return _(e,t,r)}function T(e){_(e,void 0,p)}var A=function(e){if("function"==typeof queueMicrotask)A=queueMicrotask;else{var t=D(void 0);A=function(e){return _(t,e)}}return A(e)};function k(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function P(e,t,r){try{return D(k(e,t,r))}catch(e){return v(e)}}var j=16384,R=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,r=t;t._elements.length===j-1&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size},e.prototype.shift=function(){var e=this._front,t=e,r=this._cursor,n=r+1,i=e._elements,o=i[r];return n===j&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,o},e.prototype.forEach=function(e){for(var t=this._cursor,r=this._front,n=r._elements;(t!==n.length||void 0!==r._next)&&(t!==n.length||(n=(r=r._next)._elements,t=0,0!==n.length));)e(n[t]),++t},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}(),B=o("[[AbortSteps]]"),O=o("[[ErrorSteps]]"),I=o("[[CancelSteps]]"),z=o("[[PullSteps]]"),L=o("[[ReleaseSteps]]");function U(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?M(e):"closed"===t._state?W(e):$(e,t._storedError)}function N(e,t){return nS(e._ownerReadableStream,t)}function F(e){var t=e._ownerReadableStream;"readable"===t._state?H(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):V(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[L](),t._reader=void 0,e._ownerReadableStream=void 0}function q(e){return TypeError("Cannot "+e+" a stream using a released reader")}function M(e){e._closedPromise=w(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r})}function $(e,t){M(e),H(e,t)}function W(e){M(e),G(e)}function H(e,t){void 0!==e._closedPromise_reject&&(T(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function V(e,t){$(e,t)}function G(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var J=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},K=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function X(e){return"object"==typeof e||"function"==typeof e}function Q(e,t){if(void 0!==e&&!X(e))throw TypeError("".concat(t," is not an object."))}function Y(e,t){if("function"!=typeof e)throw TypeError("".concat(t," is not a function."))}function Z(e){return"object"==typeof e&&null!==e||"function"==typeof e}function ee(e,t){if(!Z(e))throw TypeError("".concat(t," is not an object."))}function et(e,t,r){if(void 0===e)throw TypeError("Parameter ".concat(t," is required in '").concat(r,"'."))}function er(e,t,r){if(void 0===e)throw TypeError("".concat(t," is required in '").concat(r,"'."))}function en(e){return Number(e)}function ei(e){return 0===e?0:e}function eo(e){return ei(K(e))}function ea(e,t){var r=0,n=Number.MAX_SAFE_INTEGER,i=Number(e);if(!J(i=ei(i)))throw TypeError("".concat(t," is not a finite number"));if((i=eo(i))<r||i>n)throw TypeError("".concat(t," is outside the accepted range of ").concat(r," to ").concat(n,", inclusive"));return J(i)&&0!==i?i:0}function es(e,t){if(!nE(e))throw TypeError("".concat(t," is not a ReadableStream."))}function eu(e){return new ed(e)}function el(e,t){e._reader._readRequests.push(t)}function ec(e,t,r){var n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function ef(e){return e._reader._readRequests.length}function eh(e){var t=e._reader;return void 0!==t&&!!ep(t)}var ed=function(){function e(e){if(et(e,1,"ReadableStreamDefaultReader"),es(e,"First parameter"),nx(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");U(this,e),this._readRequests=new R}return Object.defineProperty(e.prototype,"closed",{get:function(){return ep(this)?this._closedPromise:v(eg("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return(void 0===e&&(e=void 0),ep(this))?void 0===this._ownerReadableStream?v(q("cancel")):N(this,e):v(eg("cancel"))},e.prototype.read=function(){if(!ep(this))return v(eg("read"));if(void 0===this._ownerReadableStream)return v(q("read from"));var e,t,r=w(function(r,n){e=r,t=n});return ey(this,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(){return e({value:void 0,done:!0})},_errorSteps:function(e){return t(e)}}),r},e.prototype.releaseLock=function(){if(!ep(this))throw eg("releaseLock");void 0!==this._ownerReadableStream&&em(this)},e}();function ep(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof ed}function ey(e,t){var r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[z](t)}function em(e){F(e),eb(e,TypeError("Reader was released"))}function eb(e,t){var r=e._readRequests;e._readRequests=new R,r.forEach(function(e){e._errorSteps(t)})}function eg(e){return TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}function ew(e){return e.slice()}function eD(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}Object.defineProperties(ed.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),y(ed.prototype.cancel,"cancel"),y(ed.prototype.read,"read"),y(ed.prototype.releaseLock,"releaseLock"),"symbol"==typeof o.toStringTag&&Object.defineProperty(ed.prototype,o.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var ev=function(e){return(ev="function"==typeof e.transfer?function(e){return e.transfer()}:"function"==typeof structuredClone?function(e){return structuredClone(e,{transfer:[e]})}:function(e){return e})(e)},e_=function(e){return(e_="boolean"==typeof e.detached?function(e){return e.detached}:function(e){return 0===e.byteLength})(e)};function eE(e,t,r){if(e.slice)return e.slice(t,r);var n=r-t,i=new ArrayBuffer(n);return eD(i,0,e,t,n),i}function ex(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw TypeError("".concat(String(t)," is not a function"));return r}}function eS(e){var t,r=((t={})[o.iterator]=function(){return e.iterator},t),n=function(){return l(this,arguments,function(){return a(this,function(e){switch(e.label){case 0:return[5,s(c(f(r)))];case 1:case 2:return[4,u.apply(void 0,[e.sent()])];case 3:return[2,e.sent()]}})})}(),i=n.next;return{iterator:n,nextMethod:i,done:!1}}var eC=null!=(n=null!=(t=o.asyncIterator)?t:null==(r=o.for)?void 0:r.call(o,"Symbol.asyncIterator"))?n:"@@asyncIterator";function eT(e,t,r){if(void 0===t&&(t="sync"),void 0===r)if("async"===t){if(void 0===(r=ex(e,eC))){var n=ex(e,o.iterator);return eS(eT(e,"sync",n))}}else r=ex(e,o.iterator);if(void 0===r)throw TypeError("The object is not iterable");var i=k(r,e,[]);if(!d(i))throw TypeError("The iterator method must return an object");var a=i.next;return{iterator:i,nextMethod:a,done:!1}}function eA(e){var t=k(e.nextMethod,e.iterator,[]);if(!d(t))throw TypeError("The iterator.next() method must return an object");return t}function ek(e){return!!e.done}function eP(e){return e.value}var ej=((i={})[eC]=function(){return this},i);Object.defineProperty(ej,eC,{enumerable:!1});var eR=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var e=this,t=function(){return e._nextSteps()};return this._ongoingPromise=this._ongoingPromise?C(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(e){var t=this,r=function(){return t._returnSteps(e)};return this._ongoingPromise?C(this._ongoingPromise,r,r):r()},e.prototype._nextSteps=function(){var e,t,r=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var n=this._reader,i=w(function(r,n){e=r,t=n}),o={_chunkSteps:function(t){r._ongoingPromise=void 0,A(function(){return e({value:t,done:!1})})},_closeSteps:function(){r._ongoingPromise=void 0,r._isFinished=!0,F(n),e({value:void 0,done:!0})},_errorSteps:function(e){r._ongoingPromise=void 0,r._isFinished=!0,F(n),t(e)}};return ey(n,o),i},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var t=this._reader;if(!this._preventCancel){var r=N(t,e);return F(t),C(r,function(){return{value:e,done:!0}})}return F(t),D({value:e,done:!0})},e}(),eB={next:function(){return eI(this)?this._asyncIteratorImpl.next():v(ez("next"))},return:function(e){return eI(this)?this._asyncIteratorImpl.return(e):v(ez("return"))}};function eO(e,t){var r=new eR(eu(e),t),n=Object.create(eB);return n._asyncIteratorImpl=r,n}function eI(e){if(!d(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof eR}catch(e){return!1}}function ez(e){return TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}Object.setPrototypeOf(eB,ej);var eL=Number.isNaN||function(e){return e!=e};function eU(e){return!("number"!=typeof e||eL(e))&&!(e<0)}function eN(e){return new Uint8Array(eE(e.buffer,e.byteOffset,e.byteOffset+e.byteLength))}function eF(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function eq(e,t,r){if(!eU(r)||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function eM(e){return e._queue.peek().value}function e$(e){e._queue=new R,e._queueTotalSize=0}function eW(e){return e===DataView}function eH(e){return eW(e.constructor)}function eV(e){return eW(e)?1:e.BYTES_PER_ELEMENT}var eG=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!eX(this))throw tg("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!eX(this))throw tg("respond");if(et(e,1,"respond"),e=ea(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(e_(this._view.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");td(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!eX(this))throw tg("respondWithNewView");if(et(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");if(e_(e.buffer))throw TypeError("The given view's buffer has been detached and so cannot be used as a response");tp(this._associatedReadableByteStreamController,e)},e}();Object.defineProperties(eG.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),y(eG.prototype.respond,"respond"),y(eG.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof o.toStringTag&&Object.defineProperty(eG.prototype,o.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var eJ=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!eK(this))throw tw("byobRequest");return tf(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!eK(this))throw tw("desiredSize");return th(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!eK(this))throw tw("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError("The stream (in ".concat(e," state) is not in the readable state and cannot be closed"));ts(this)},e.prototype.enqueue=function(e){if(!eK(this))throw tw("enqueue");if(et(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError("The stream (in ".concat(t," state) is not in the readable state and cannot be enqueued to"));tu(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!eK(this))throw tw("error");tl(this,e)},e.prototype[I]=function(e){eY(this),e$(this);var t=this._cancelAlgorithm(e);return ta(this),t},e.prototype[z]=function(e){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void tc(this,e);var r=this._autoAllocateChunkSize;if(void 0!==r){var n=void 0;try{n=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}var i={buffer:n,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}el(t,e),eQ(this)},e.prototype[L]=function(){if(this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new R,this._pendingPullIntos.push(e)}},e}();function eK(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof eJ}function eX(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof eG}function eQ(e){if(to(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;var t=e._pullAlgorithm();E(t,function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,eQ(e)),null},function(t){return tl(e,t),null})}}function eY(e){e5(e),e._pendingPullIntos=new R}function eZ(e,t){var r=!1;"closed"===e._state&&(r=!0);var n=e0(t);"default"===t.readerType?ec(e,n,r):tS(e,n,r)}function e0(e){var t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function e1(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function e8(e,t,r,n){var i;try{i=eE(t,r,r+n)}catch(t){throw tl(e,t),t}e1(e,i,0,n)}function e3(e,t){t.bytesFilled>0&&e8(e,t.buffer,t.byteOffset,t.bytesFilled),ti(e)}function e2(e,t){var r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),n=t.bytesFilled+r,i=r,o=!1,a=n%t.elementSize,s=n-a;s>=t.minimumFill&&(i=s-t.bytesFilled,o=!0);for(var u=e._queue;i>0;){var l=u.peek(),c=Math.min(i,l.byteLength),f=t.byteOffset+t.bytesFilled;eD(t.buffer,f,l.buffer,l.byteOffset,c),l.byteLength===c?u.shift():(l.byteOffset+=c,l.byteLength-=c),e._queueTotalSize-=c,e4(e,c,t),i-=c}return o}function e4(e,t,r){r.bytesFilled+=t}function e6(e){0===e._queueTotalSize&&e._closeRequested?(ta(e),nC(e._controlledReadableByteStream)):eQ(e)}function e5(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function e7(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();e2(e,t)&&(ti(e),eZ(e._controlledReadableByteStream,t))}}function e9(e){for(var t=e._controlledReadableByteStream._reader;t._readRequests.length>0;){if(0===e._queueTotalSize)return;tc(e,t._readRequests.shift())}}function te(e,t,r,n){var i,o=e._controlledReadableByteStream,a=t.constructor,s=eV(a),u=t.byteOffset,l=t.byteLength,c=r*s;try{i=ev(t.buffer)}catch(e){n._errorSteps(e);return}var f={buffer:i,bufferByteLength:i.byteLength,byteOffset:u,byteLength:l,bytesFilled:0,minimumFill:c,elementSize:s,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(f),tx(o,n);return}if("closed"===o._state){var h=new a(f.buffer,f.byteOffset,0);n._closeSteps(h);return}if(e._queueTotalSize>0){if(e2(e,f)){var d=e0(f);e6(e),n._chunkSteps(d);return}if(e._closeRequested){var p=TypeError("Insufficient bytes to fill elements in the given buffer");tl(e,p),n._errorSteps(p);return}}e._pendingPullIntos.push(f),tx(o,n),eQ(e)}function tt(e,t){"none"===t.readerType&&ti(e);var r=e._controlledReadableByteStream;if(tT(r))for(;tC(r)>0;)eZ(r,ti(e))}function tr(e,t,r){if(e4(e,t,r),"none"===r.readerType){e3(e,r),e7(e);return}if(!(r.bytesFilled<r.minimumFill)){ti(e);var n=r.bytesFilled%r.elementSize;if(n>0){var i=r.byteOffset+r.bytesFilled;e8(e,r.buffer,i-n,n)}r.bytesFilled-=n,eZ(e._controlledReadableByteStream,r),e7(e)}}function tn(e,t){var r=e._pendingPullIntos.peek();e5(e),"closed"===e._controlledReadableByteStream._state?tt(e,r):tr(e,t,r),eQ(e)}function ti(e){return e._pendingPullIntos.shift()}function to(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(eh(t)&&ef(t)>0||tT(t)&&tC(t)>0||th(e)>0)}function ta(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ts(e){var t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek();if(r.bytesFilled%r.elementSize!=0){var n=TypeError("Insufficient bytes to fill elements in the given buffer");throw tl(e,n),n}}ta(e),nC(t)}}function tu(e,t){var r=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===r._state){var n=t.buffer,i=t.byteOffset,o=t.byteLength;if(e_(n))throw TypeError("chunk's buffer is detached and so cannot be enqueued");var a=ev(n);if(e._pendingPullIntos.length>0){var s=e._pendingPullIntos.peek();if(e_(s.buffer))throw TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");e5(e),s.buffer=ev(s.buffer),"none"===s.readerType&&e3(e,s)}eh(r)?(e9(e),0===ef(r)?e1(e,a,i,o):(e._pendingPullIntos.length>0&&ti(e),ec(r,new Uint8Array(a,i,o),!1))):tT(r)?(e1(e,a,i,o),e7(e)):e1(e,a,i,o),eQ(e)}}function tl(e,t){var r=e._controlledReadableByteStream;"readable"===r._state&&(eY(e),e$(e),ta(e),nT(r,t))}function tc(e,t){var r=e._queue.shift();e._queueTotalSize-=r.byteLength,e6(e);var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function tf(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(eG.prototype);tb(n,e,r),e._byobRequest=n}return e._byobRequest}function th(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function td(e,t){var r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=ev(r.buffer),tn(e,t)}function tp(e,t){var r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");var n=t.byteLength;r.buffer=ev(t.buffer),tn(e,n)}function ty(e,t,r,n,i,o,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,e$(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=a,t._pendingPullIntos=new R,e._readableStreamController=t,E(D(r()),function(){return t._started=!0,eQ(t),null},function(e){return tl(t,e),null})}function tm(e,t,r){var n,i,o,a=Object.create(eJ.prototype);n=void 0!==t.start?function(){return t.start(a)}:function(){},i=void 0!==t.pull?function(){return t.pull(a)}:function(){return D(void 0)},o=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return D(void 0)};var s=t.autoAllocateChunkSize;if(0===s)throw TypeError("autoAllocateChunkSize must be greater than 0");ty(e,a,n,i,o,r,s)}function tb(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}function tg(e){return TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function tw(e){return TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}function tD(e,t){Q(e,t);var r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:tv(r,"".concat(t," has member 'mode' that"))}}function tv(e,t){if("byob"!==(e="".concat(e)))throw TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamReaderMode"));return e}function t_(e,t){var r;return Q(e,t),{min:ea(null!=(r=null==e?void 0:e.min)?r:1,"".concat(t," has member 'min' that"))}}function tE(e){return new tA(e)}function tx(e,t){e._reader._readIntoRequests.push(t)}function tS(e,t,r){var n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}function tC(e){return e._reader._readIntoRequests.length}function tT(e){var t=e._reader;return void 0!==t&&!!tk(t)}Object.defineProperties(eJ.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),y(eJ.prototype.close,"close"),y(eJ.prototype.enqueue,"enqueue"),y(eJ.prototype.error,"error"),"symbol"==typeof o.toStringTag&&Object.defineProperty(eJ.prototype,o.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var tA=function(){function e(e){if(et(e,1,"ReadableStreamBYOBReader"),es(e,"First parameter"),nx(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!eK(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");U(this,e),this._readIntoRequests=new R}return Object.defineProperty(e.prototype,"closed",{get:function(){return tk(this)?this._closedPromise:v(tB("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return(void 0===e&&(e=void 0),tk(this))?void 0===this._ownerReadableStream?v(q("cancel")):N(this,e):v(tB("cancel"))},e.prototype.read=function(e,t){if(void 0===t&&(t={}),!tk(this))return v(tB("read"));if(!ArrayBuffer.isView(e))return v(TypeError("view must be an array buffer view"));if(0===e.byteLength)return v(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return v(TypeError("view's buffer must have non-zero byteLength"));if(e_(e.buffer))return v(TypeError("view's buffer has been detached"));try{r=t_(t,"options")}catch(e){return v(e)}var r,n,i,o=r.min;if(0===o)return v(TypeError("options.min must be greater than 0"));if(eH(e)){if(o>e.byteLength)return v(RangeError("options.min must be less than or equal to view's byteLength"))}else if(o>e.length)return v(RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return v(q("read from"));var a=w(function(e,t){n=e,i=t});return tP(this,e,o,{_chunkSteps:function(e){return n({value:e,done:!1})},_closeSteps:function(e){return n({value:e,done:!0})},_errorSteps:function(e){return i(e)}}),a},e.prototype.releaseLock=function(){if(!tk(this))throw tB("releaseLock");void 0!==this._ownerReadableStream&&tj(this)},e}();function tk(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof tA}function tP(e,t,r,n){var i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?n._errorSteps(i._storedError):te(i._readableStreamController,t,r,n)}function tj(e){F(e),tR(e,TypeError("Reader was released"))}function tR(e,t){var r=e._readIntoRequests;e._readIntoRequests=new R,r.forEach(function(e){e._errorSteps(t)})}function tB(e){return TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function tO(e,t){var r=e.highWaterMark;if(void 0===r)return t;if(eL(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function tI(e){var t=e.size;return t||function(){return 1}}function tz(e,t){Q(e,t);var r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:en(r),size:void 0===n?void 0:tL(n,"".concat(t," has member 'size' that"))}}function tL(e,t){return Y(e,t),function(t){return en(e(t))}}function tU(e,t){Q(e,t);var r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,o=null==e?void 0:e.type,a=null==e?void 0:e.write;return{abort:void 0===r?void 0:tN(r,e,"".concat(t," has member 'abort' that")),close:void 0===n?void 0:tF(n,e,"".concat(t," has member 'close' that")),start:void 0===i?void 0:tq(i,e,"".concat(t," has member 'start' that")),write:void 0===a?void 0:tM(a,e,"".concat(t," has member 'write' that")),type:o}}function tN(e,t,r){return Y(e,r),function(r){return P(e,t,[r])}}function tF(e,t,r){return Y(e,r),function(){return P(e,t,[])}}function tq(e,t,r){return Y(e,r),function(r){return k(e,t,[r])}}function tM(e,t,r){return Y(e,r),function(r,n){return P(e,t,[r,n])}}function t$(e,t){if(!tQ(e))throw TypeError("".concat(t," is not a WritableStream."))}function tW(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}Object.defineProperties(tA.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),y(tA.prototype.cancel,"cancel"),y(tA.prototype.read,"read"),y(tA.prototype.releaseLock,"releaseLock"),"symbol"==typeof o.toStringTag&&Object.defineProperty(tA.prototype,o.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var tH="function"==typeof AbortController;function tV(){if(tH)return new AbortController}var tG=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:ee(e,"First parameter");var r=tz(t,"Second parameter"),n=tU(e,"First parameter");if(tX(this),void 0!==n.type)throw RangeError("Invalid type is specified");var i=tI(r);rw(this,n,tO(r,1),i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!tQ(this))throw rj("locked");return tY(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return(void 0===e&&(e=void 0),tQ(this))?tY(this)?v(TypeError("Cannot abort a stream that already has a writer")):tZ(this,e):v(rj("abort"))},e.prototype.close=function(){return tQ(this)?tY(this)?v(TypeError("Cannot close a stream that already has a writer")):t9(this)?v(TypeError("Cannot close an already-closing stream")):t0(this):v(rj("close"))},e.prototype.getWriter=function(){if(!tQ(this))throw rj("getWriter");return tJ(this)},e}();function tJ(e){return new ro(e)}function tK(e,t,r,n,i,o){void 0===i&&(i=1),void 0===o&&(o=function(){return 1});var a=Object.create(tG.prototype);return tX(a),rg(a,Object.create(rm.prototype),e,t,r,n,i,o),a}function tX(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new R,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function tQ(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof tG}function tY(e){return void 0!==e._writer}function tZ(e,t){if("closed"===e._state||"errored"===e._state)return D(void 0);e._writableStreamController._abortReason=t,null==(r=e._writableStreamController._abortController)||r.abort(t);var r,n=e._state;if("closed"===n||"errored"===n)return D(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var i=!1;"erroring"===n&&(i=!0,t=void 0);var o=w(function(r,n){e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=o,i||t3(e,t),o}function t0(e){var t=e._state;if("closed"===t||"errored"===t)return v(TypeError("The stream (in ".concat(t," state) is not in the writable state and cannot be closed")));var r=w(function(t,r){e._closeRequest={_resolve:t,_reject:r}}),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===t&&rG(n),rv(e._writableStreamController),r}function t1(e){return w(function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)})}function t8(e,t){"writable"===e._state?t3(e,t):t2(e)}function t3(e,t){var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&rf(n,t),!re(e)&&r._started&&t2(e)}function t2(e){e._state="errored",e._writableStreamController[O]();var t=e._storedError;if(e._writeRequests.forEach(function(e){e._reject(t)}),e._writeRequests=new R,void 0===e._pendingAbortRequest)return void rn(e);var r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),rn(e);return}E(e._writableStreamController[B](r._reason),function(){return r._resolve(),rn(e),null},function(t){return r._reject(t),rn(e),null})}function t4(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function t6(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,t8(e,t)}function t5(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&rF(t)}function t7(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),t8(e,t)}function t9(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function re(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function rt(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function rr(e){e._inFlightWriteRequest=e._writeRequests.shift()}function rn(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&rU(t,e._storedError)}function ri(e,t){var r=e._writer;void 0!==r&&t!==e._backpressure&&(t?rH(r):rG(r)),e._backpressure=t}Object.defineProperties(tG.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),y(tG.prototype.abort,"abort"),y(tG.prototype.close,"close"),y(tG.prototype.getWriter,"getWriter"),"symbol"==typeof o.toStringTag&&Object.defineProperty(tG.prototype,o.toStringTag,{value:"WritableStream",configurable:!0});var ro=function(){function e(e){if(et(e,1,"WritableStreamDefaultWriter"),t$(e,"First parameter"),tY(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!t9(e)&&e._backpressure?rq(this):r$(this),rI(this);else if("erroring"===t)rM(this,e._storedError),rI(this);else if("closed"===t)r$(this),rL(this);else{var r=e._storedError;rM(this,r),rz(this,r)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return ra(this)?this._closedPromise:v(rB("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!ra(this))throw rB("desiredSize");if(void 0===this._ownerWritableStream)throw rO("desiredSize");return rh(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return ra(this)?this._readyPromise:v(rB("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return(void 0===e&&(e=void 0),ra(this))?void 0===this._ownerWritableStream?v(rO("abort")):rs(this,e):v(rB("abort"))},e.prototype.close=function(){if(!ra(this))return v(rB("close"));var e=this._ownerWritableStream;return void 0===e?v(rO("close")):t9(e)?v(TypeError("Cannot close an already-closing stream")):ru(this)},e.prototype.releaseLock=function(){if(!ra(this))throw rB("releaseLock");void 0!==this._ownerWritableStream&&rd(this)},e.prototype.write=function(e){return(void 0===e&&(e=void 0),ra(this))?void 0===this._ownerWritableStream?v(rO("write to")):rp(this,e):v(rB("write"))},e}();function ra(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof ro}function rs(e,t){return tZ(e._ownerWritableStream,t)}function ru(e){return t0(e._ownerWritableStream)}function rl(e){var t=e._ownerWritableStream,r=t._state;return t9(t)||"closed"===r?D(void 0):"errored"===r?v(t._storedError):ru(e)}function rc(e,t){"pending"===e._closedPromiseState?rU(e,t):rN(e,t)}function rf(e,t){"pending"===e._readyPromiseState?rW(e,t):rV(e,t)}function rh(e){var t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:rE(t._writableStreamController)}function rd(e){var t=e._ownerWritableStream,r=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");rf(e,r),rc(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function rp(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,i=r_(n,t);if(r!==e._ownerWritableStream)return v(rO("write to"));var o=r._state;if("errored"===o)return v(r._storedError);if(t9(r)||"closed"===o)return v(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return v(r._storedError);var a=t1(r);return rx(n,t,i),a}Object.defineProperties(ro.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),y(ro.prototype.abort,"abort"),y(ro.prototype.close,"close"),y(ro.prototype.releaseLock,"releaseLock"),y(ro.prototype.write,"write"),"symbol"==typeof o.toStringTag&&Object.defineProperty(ro.prototype,o.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var ry={},rm=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!rb(this))throw rR("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!rb(this))throw rR("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(e){if(void 0===e&&(e=void 0),!rb(this))throw rR("error");"writable"===this._controlledWritableStream._state&&rP(this,e)},e.prototype[B]=function(e){var t=this._abortAlgorithm(e);return rD(this),t},e.prototype[O]=function(){e$(this)},e}();function rb(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof rm}function rg(e,t,r,n,i,o,a,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,e$(t),t._abortReason=void 0,t._abortController=tV(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=o,ri(e,rk(t)),E(D(r()),function(){return t._started=!0,rS(t),null},function(r){return t._started=!0,t8(e,r),null})}function rw(e,t,r,n){var i,o,a,s=Object.create(rm.prototype);i=void 0!==t.start?function(){return t.start(s)}:function(){},o=void 0!==t.write?function(e){return t.write(e,s)}:function(){return D(void 0)},rg(e,s,i,o,void 0!==t.close?function(){return t.close()}:function(){return D(void 0)},a=void 0!==t.abort?function(e){return t.abort(e)}:function(){return D(void 0)},r,n)}function rD(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function rv(e){eq(e,ry,0),rS(e)}function r_(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return rC(e,t),1}}function rE(e){return e._strategyHWM-e._queueTotalSize}function rx(e,t,r){try{eq(e,t,r)}catch(t){rC(e,t);return}var n=e._controlledWritableStream;t9(n)||"writable"!==n._state||ri(n,rk(e)),rS(e)}function rS(e){var t=e._controlledWritableStream;if(e._started&&void 0===t._inFlightWriteRequest){if("erroring"===t._state)return void t2(t);if(0!==e._queue.length){var r=eM(e);r===ry?rT(e):rA(e,r)}}}function rC(e,t){"writable"===e._controlledWritableStream._state&&rP(e,t)}function rT(e){var t=e._controlledWritableStream;rt(t),eF(e);var r=e._closeAlgorithm();rD(e),E(r,function(){return t5(t),null},function(e){return t7(t,e),null})}function rA(e,t){var r=e._controlledWritableStream;rr(r),E(e._writeAlgorithm(t),function(){t4(r);var t=r._state;return eF(e),t9(r)||"writable"!==t||ri(r,rk(e)),rS(e),null},function(t){return"writable"===r._state&&rD(e),t6(r,t),null})}function rk(e){return 0>=rE(e)}function rP(e,t){var r=e._controlledWritableStream;rD(e),t3(r,t)}function rj(e){return TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function rR(e){return TypeError("WritableStreamDefaultController.prototype.".concat(e," can only be used on a WritableStreamDefaultController"))}function rB(e){return TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function rO(e){return TypeError("Cannot "+e+" a stream using a released writer")}function rI(e){e._closedPromise=w(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function rz(e,t){rI(e),rU(e,t)}function rL(e){rI(e),rF(e)}function rU(e,t){void 0!==e._closedPromise_reject&&(T(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function rN(e,t){rz(e,t)}function rF(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function rq(e){e._readyPromise=w(function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function rM(e,t){rq(e),rW(e,t)}function r$(e){rq(e),rG(e)}function rW(e,t){void 0!==e._readyPromise_reject&&(T(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function rH(e){rq(e)}function rV(e,t){rM(e,t)}function rG(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(rm.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof o.toStringTag&&Object.defineProperty(rm.prototype,o.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var rJ=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:e.g}();function rK(e){if("function"!=typeof e&&"object"!=typeof e||"DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}function rX(){var e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return y(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var rQ=function(){var e=null==rJ?void 0:rJ.DOMException;return rK(e)?e:void 0}()||rX();function rY(e,t,r,n,i,o){var a=eu(e),s=tJ(t);e._disturbed=!0;var u=!1,l=D(void 0);return w(function(c,f){var d;if(void 0!==o){if(d=function(){var r=void 0!==o.reason?o.reason:new rQ("Aborted","AbortError"),a=[];n||a.push(function(){return"writable"===t._state?tZ(t,r):D(void 0)}),i||a.push(function(){return"readable"===e._state?nS(e,r):D(void 0)}),C(function(){return Promise.all(a.map(function(e){return e()}))},!0,r)},o.aborted)return void d();o.addEventListener("abort",d)}function p(){return w(function(e,t){function r(n){n?e():_(y(),r,t)}r(!1)})}function y(){return u?D(!0):_(s._readyPromise,function(){return w(function(e,t){ey(a,{_chunkSteps:function(t){l=_(rp(s,t),void 0,h),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})})})}if(g(e,a._closedPromise,function(e){return n?A(!0,e):C(function(){return tZ(t,e)},!0,e),null}),g(t,s._closedPromise,function(t){return i?A(!0,t):C(function(){return nS(e,t)},!0,t),null}),v(e,a._closedPromise,function(){return r?A():C(function(){return rl(s)}),null}),t9(t)||"closed"===t._state){var m=TypeError("the destination writable stream closed before all data could be piped to it");i?A(!0,m):C(function(){return nS(e,m)},!0,m)}function b(){var e=l;return _(l,function(){return e!==l?b():void 0})}function g(e,t,r){"errored"===e._state?r(e._storedError):S(t,r)}function v(e,t,r){"closed"===e._state?r():x(t,r)}function C(e,r,n){u||(u=!0,"writable"!==t._state||t9(t)?i():x(b(),i));function i(){return E(e(),function(){return k(r,n)},function(e){return k(!0,e)}),null}}function A(e,r){u||(u=!0,"writable"!==t._state||t9(t)?k(e,r):x(b(),function(){return k(e,r)}))}function k(e,t){return rd(s),F(a),void 0!==o&&o.removeEventListener("abort",d),e?f(t):c(void 0),null}T(p())})}var rZ=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!r0(this))throw nr("desiredSize");return r5(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!r0(this))throw nr("close");if(!r9(this))throw TypeError("The stream is not in a state that permits close");r2(this)},e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!r0(this))throw nr("enqueue");if(!r9(this))throw TypeError("The stream is not in a state that permits enqueue");return r4(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!r0(this))throw nr("error");r6(this,e)},e.prototype[I]=function(e){e$(this);var t=this._cancelAlgorithm(e);return r3(this),t},e.prototype[z]=function(e){var t=this._controlledReadableStream;if(this._queue.length>0){var r=eF(this);this._closeRequested&&0===this._queue.length?(r3(this),nC(t)):r1(this),e._chunkSteps(r)}else el(t,e),r1(this)},e.prototype[L]=function(){},e}();function r0(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof rZ}function r1(e){if(r8(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;var t=e._pullAlgorithm();E(t,function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,r1(e)),null},function(t){return r6(e,t),null})}}function r8(e){var t=e._controlledReadableStream;return!!r9(e)&&!!e._started&&!!(nx(t)&&ef(t)>0||r5(e)>0)}function r3(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function r2(e){if(r9(e)){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(r3(e),nC(t))}}function r4(e,t){if(r9(e)){var r=e._controlledReadableStream;if(nx(r)&&ef(r)>0)ec(r,t,!1);else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(t){throw r6(e,t),t}try{eq(e,t,n)}catch(t){throw r6(e,t),t}}r1(e)}}function r6(e,t){var r=e._controlledReadableStream;"readable"===r._state&&(e$(e),r3(e),nT(r,t))}function r5(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function r7(e){return!r8(e)}function r9(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function ne(e,t,r,n,i,o,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,e$(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,E(D(r()),function(){return t._started=!0,r1(t),null},function(e){return r6(t,e),null})}function nt(e,t,r,n){var i,o,a,s=Object.create(rZ.prototype);i=void 0!==t.start?function(){return t.start(s)}:function(){},o=void 0!==t.pull?function(){return t.pull(s)}:function(){return D(void 0)},ne(e,s,i,o,a=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return D(void 0)},r,n)}function nr(e){return TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function nn(e,t){return eK(e._readableStreamController)?no(e):ni(e)}function ni(e,t){var r,n,i,o,a,s=eu(e),u=!1,l=!1,c=!1,f=!1,h=w(function(e){a=e});function d(){return u?l=!0:(u=!0,ey(s,{_chunkSteps:function(e){A(function(){l=!1;var t=e,r=e;c||r4(i._readableStreamController,t),f||r4(o._readableStreamController,r),u=!1,l&&d()})},_closeSteps:function(){u=!1,c||r2(i._readableStreamController),f||r2(o._readableStreamController),c&&f||a(void 0)},_errorSteps:function(){u=!1}})),D(void 0)}function p(t){if(f=!0,n=t,c){var i=nS(e,ew([r,n]));a(i)}return h}function y(){}return i=nD(y,d,function(t){if(c=!0,r=t,f){var i=nS(e,ew([r,n]));a(i)}return h}),o=nD(y,d,p),S(s._closedPromise,function(e){return r6(i._readableStreamController,e),r6(o._readableStreamController,e),c&&f||a(void 0),null}),[i,o]}function no(e){var t,r,n,i,o,a=eu(e),s=!1,u=!1,l=!1,c=!1,f=!1,h=w(function(e){o=e});function d(e){S(e._closedPromise,function(t){return e!==a||(tl(n._readableStreamController,t),tl(i._readableStreamController,t),c&&f||o(void 0)),null})}function p(){tk(a)&&(F(a),d(a=eu(e))),ey(a,{_chunkSteps:function(t){A(function(){u=!1,l=!1;var r=t,a=t;if(!c&&!f)try{a=eN(t)}catch(t){tl(n._readableStreamController,t),tl(i._readableStreamController,t),o(nS(e,t));return}c||tu(n._readableStreamController,r),f||tu(i._readableStreamController,a),s=!1,u?m():l&&b()})},_closeSteps:function(){s=!1,c||ts(n._readableStreamController),f||ts(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&td(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&td(i._readableStreamController,0),c&&f||o(void 0)},_errorSteps:function(){s=!1}})}function y(t,r){ep(a)&&(F(a),d(a=tE(e)));var h=r?i:n,p=r?n:i,y={_chunkSteps:function(t){A(function(){u=!1,l=!1;var n=r?f:c;if(r?c:f)n||tp(h._readableStreamController,t);else{var i=void 0;try{i=eN(t)}catch(t){tl(h._readableStreamController,t),tl(p._readableStreamController,t),o(nS(e,t));return}n||tp(h._readableStreamController,t),tu(p._readableStreamController,i)}s=!1,u?m():l&&b()})},_closeSteps:function(e){s=!1;var t=r?f:c,n=r?c:f;t||ts(h._readableStreamController),n||ts(p._readableStreamController),void 0!==e&&(t||tp(h._readableStreamController,e),!n&&p._readableStreamController._pendingPullIntos.length>0&&td(p._readableStreamController,0)),t&&n||o(void 0)},_errorSteps:function(){s=!1}};tP(a,t,1,y)}function m(){if(s)return u=!0,D(void 0);s=!0;var e=tf(n._readableStreamController);return null===e?p():y(e._view,!1),D(void 0)}function b(){if(s)return l=!0,D(void 0);s=!0;var e=tf(i._readableStreamController);return null===e?p():y(e._view,!0),D(void 0)}function g(n){if(f=!0,r=n,c){var i=nS(e,ew([t,r]));o(i)}return h}function v(){}return n=nv(v,m,function(n){if(c=!0,t=n,f){var i=nS(e,ew([t,r]));o(i)}return h}),i=nv(v,b,g),d(a),[n,i]}function na(e){return d(e)&&void 0!==e.getReader}function ns(e){return na(e)?nl(e.getReader()):nu(e)}function nu(e){var t,r=eT(e,"async");return t=nD(h,function(){var e;try{e=eA(r)}catch(e){return v(e)}return C(D(e),function(e){if(!d(e))throw TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(ek(e))r2(t._readableStreamController);else{var r=eP(e);r4(t._readableStreamController,r)}})},function(e){var t,n,i=r.iterator;try{t=ex(i,"return")}catch(e){return v(e)}if(void 0===t)return D(void 0);try{n=k(t,i,[e])}catch(e){return v(e)}return C(D(n),function(e){if(!d(e))throw TypeError("The promise returned by the iterator.return() method must fulfill with an object")})},0)}function nl(e){var t;return t=nD(h,function(){var r;try{r=e.read()}catch(e){return v(e)}return C(r,function(e){if(!d(e))throw TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)r2(t._readableStreamController);else{var r=e.value;r4(t._readableStreamController,r)}})},function(t){try{return D(e.cancel(t))}catch(e){return v(e)}},0)}function nc(e,t){Q(e,t);var r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,o=null==r?void 0:r.pull,a=null==r?void 0:r.start,s=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:ea(n,"".concat(t," has member 'autoAllocateChunkSize' that")),cancel:void 0===i?void 0:nf(i,r,"".concat(t," has member 'cancel' that")),pull:void 0===o?void 0:nh(o,r,"".concat(t," has member 'pull' that")),start:void 0===a?void 0:nd(a,r,"".concat(t," has member 'start' that")),type:void 0===s?void 0:np(s,"".concat(t," has member 'type' that"))}}function nf(e,t,r){return Y(e,r),function(r){return P(e,t,[r])}}function nh(e,t,r){return Y(e,r),function(r){return P(e,t,[r])}}function nd(e,t,r){return Y(e,r),function(r){return k(e,t,[r])}}function np(e,t){if("bytes"!==(e="".concat(e)))throw TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamType"));return e}function ny(e,t){return Q(e,t),{preventCancel:!!(null==e?void 0:e.preventCancel)}}function nm(e,t){Q(e,t);var r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,o=null==e?void 0:e.signal;return void 0!==o&&nb(o,"".concat(t," has member 'signal' that")),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:o}}function nb(e,t){if(!tW(e))throw TypeError("".concat(t," is not an AbortSignal."))}function ng(e,t){Q(e,t);var r=null==e?void 0:e.readable;er(r,"readable","ReadableWritablePair"),es(r,"".concat(t," has member 'readable' that"));var n=null==e?void 0:e.writable;return er(n,"writable","ReadableWritablePair"),t$(n,"".concat(t," has member 'writable' that")),{readable:r,writable:n}}Object.defineProperties(rZ.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),y(rZ.prototype.close,"close"),y(rZ.prototype.enqueue,"enqueue"),y(rZ.prototype.error,"error"),"symbol"==typeof o.toStringTag&&Object.defineProperty(rZ.prototype,o.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var nw=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:ee(e,"First parameter");var r=tz(t,"Second parameter"),n=nc(e,"First parameter");if(n_(this),"bytes"===n.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");var i=tO(r,0);tm(this,n,i)}else{var o=tI(r),i=tO(r,1);nt(this,n,i,o)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!nE(this))throw nA("locked");return nx(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return(void 0===e&&(e=void 0),nE(this))?nx(this)?v(TypeError("Cannot cancel a stream that already has a reader")):nS(this,e):v(nA("cancel"))},e.prototype.getReader=function(e){if(void 0===e&&(e=void 0),!nE(this))throw nA("getReader");return void 0===tD(e,"First parameter").mode?eu(this):tE(this)},e.prototype.pipeThrough=function(e,t){if(void 0===t&&(t={}),!nE(this))throw nA("pipeThrough");et(e,1,"pipeThrough");var r=ng(e,"First parameter"),n=nm(t,"Second parameter");if(nx(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(tY(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return T(rY(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable},e.prototype.pipeTo=function(e,t){var r;if(void 0===t&&(t={}),!nE(this))return v(nA("pipeTo"));if(void 0===e)return v("Parameter 1 is required in 'pipeTo'.");if(!tQ(e))return v(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=nm(t,"Second parameter")}catch(e){return v(e)}return nx(this)?v(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):tY(e)?v(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):rY(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)},e.prototype.tee=function(){if(!nE(this))throw nA("tee");return ew(nn(this))},e.prototype.values=function(e){if(void 0===e&&(e=void 0),!nE(this))throw nA("values");return eO(this,ny(e,"First parameter").preventCancel)},e.prototype[eC]=function(e){return this.values(e)},e.from=function(e){return ns(e)},e}();function nD(e,t,r,n,i){void 0===n&&(n=1),void 0===i&&(i=function(){return 1});var o=Object.create(nw.prototype);return n_(o),ne(o,Object.create(rZ.prototype),e,t,r,n,i),o}function nv(e,t,r){var n=Object.create(nw.prototype);return n_(n),ty(n,Object.create(eJ.prototype),e,t,r,0,void 0),n}function n_(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function nE(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof nw}function nx(e){return void 0!==e._reader}function nS(e,t){if(e._disturbed=!0,"closed"===e._state)return D(void 0);if("errored"===e._state)return v(e._storedError);nC(e);var r=e._reader;if(void 0!==r&&tk(r)){var n=r._readIntoRequests;r._readIntoRequests=new R,n.forEach(function(e){e._closeSteps(void 0)})}return C(e._readableStreamController[I](t),h)}function nC(e){e._state="closed";var t=e._reader;if(void 0!==t&&(G(t),ep(t))){var r=t._readRequests;t._readRequests=new R,r.forEach(function(e){e._closeSteps()})}}function nT(e,t){e._state="errored",e._storedError=t;var r=e._reader;void 0!==r&&(H(r,t),ep(r)?eb(r,t):tR(r,t))}function nA(e){return TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function nk(e,t){Q(e,t);var r=null==e?void 0:e.highWaterMark;return er(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:en(r)}}Object.defineProperties(nw,{from:{enumerable:!0}}),Object.defineProperties(nw.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),y(nw.from,"from"),y(nw.prototype.cancel,"cancel"),y(nw.prototype.getReader,"getReader"),y(nw.prototype.pipeThrough,"pipeThrough"),y(nw.prototype.pipeTo,"pipeTo"),y(nw.prototype.tee,"tee"),y(nw.prototype.values,"values"),"symbol"==typeof o.toStringTag&&Object.defineProperty(nw.prototype,o.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(nw.prototype,eC,{value:nw.prototype.values,writable:!0,configurable:!0});var nP=function(e){return e.byteLength};y(nP,"size");var nj=function(){function e(e){et(e,1,"ByteLengthQueuingStrategy"),e=nk(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!nB(this))throw nR("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!nB(this))throw nR("size");return nP},enumerable:!1,configurable:!0}),e}();function nR(e){return TypeError("ByteLengthQueuingStrategy.prototype.".concat(e," can only be used on a ByteLengthQueuingStrategy"))}function nB(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof nj}Object.defineProperties(nj.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof o.toStringTag&&Object.defineProperty(nj.prototype,o.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var nO=function(){return 1};y(nO,"size");var nI=function(){function e(e){et(e,1,"CountQueuingStrategy"),e=nk(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!nL(this))throw nz("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!nL(this))throw nz("size");return nO},enumerable:!1,configurable:!0}),e}();function nz(e){return TypeError("CountQueuingStrategy.prototype.".concat(e," can only be used on a CountQueuingStrategy"))}function nL(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof nI}function nU(e,t){Q(e,t);var r=null==e?void 0:e.cancel,n=null==e?void 0:e.flush,i=null==e?void 0:e.readableType,o=null==e?void 0:e.start,a=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{cancel:void 0===r?void 0:nM(r,e,"".concat(t," has member 'cancel' that")),flush:void 0===n?void 0:nN(n,e,"".concat(t," has member 'flush' that")),readableType:i,start:void 0===o?void 0:nF(o,e,"".concat(t," has member 'start' that")),transform:void 0===a?void 0:nq(a,e,"".concat(t," has member 'transform' that")),writableType:s}}function nN(e,t,r){return Y(e,r),function(r){return P(e,t,[r])}}function nF(e,t,r){return Y(e,r),function(r){return k(e,t,[r])}}function nq(e,t,r){return Y(e,r),function(r,n){return P(e,t,[r,n])}}function nM(e,t,r){return Y(e,r),function(r){return P(e,t,[r])}}Object.defineProperties(nI.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof o.toStringTag&&Object.defineProperty(nI.prototype,o.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var n$=function(){function e(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r={}),void 0===e&&(e=null);var n,i=tz(t,"Second parameter"),o=tz(r,"Third parameter"),a=nU(e,"First parameter");if(void 0!==a.readableType)throw RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw RangeError("Invalid writableType specified");var s=tO(o,0),u=tI(o),l=tO(i,1),c=tI(i);nW(this,w(function(e){n=e}),l,c,s,u),nZ(this,a),void 0!==a.start?n(a.start(this._transformStreamController)):n(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!nH(this))throw ii("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!nH(this))throw ii("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function nW(e,t,r,n,i,o){function a(){return t}function s(t){return n4(e,t)}function u(t){return n6(e,t)}function l(){return n5(e)}function c(){return n7(e)}function f(t){return n9(e,t)}e._writable=tK(a,s,l,u,r,n),e._readable=nD(a,c,f,i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,nK(e,!0),e._transformStreamController=void 0}function nH(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof n$}function nV(e,t){r6(e._readable._readableStreamController,t),nG(e,t)}function nG(e,t){n0(e._transformStreamController),rC(e._writable._writableStreamController,t),nJ(e)}function nJ(e){e._backpressure&&nK(e,!1)}function nK(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=w(function(t){e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(n$.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof o.toStringTag&&Object.defineProperty(n$.prototype,o.toStringTag,{value:"TransformStream",configurable:!0});var nX=function(){function e(){throw TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!nQ(this))throw ie("desiredSize");return r5(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!nQ(this))throw ie("enqueue");n1(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!nQ(this))throw ie("error");n8(this,e)},e.prototype.terminate=function(){if(!nQ(this))throw ie("terminate");n2(this)},e}();function nQ(e){return!!d(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof nX}function nY(e,t,r,n,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n,t._cancelAlgorithm=i,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}function nZ(e,t){var r,n,i,o=Object.create(nX.prototype);r=void 0!==t.transform?function(e){return t.transform(e,o)}:function(e){try{return n1(o,e),D(void 0)}catch(e){return v(e)}},n=void 0!==t.flush?function(){return t.flush(o)}:function(){return D(void 0)},nY(e,o,r,n,i=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return D(void 0)})}function n0(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function n1(e,t){var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!r9(n))throw TypeError("Readable side is not in a state that permits enqueue");try{r4(n,t)}catch(e){throw nG(r,e),r._readable._storedError}r7(n)!==r._backpressure&&nK(r,!0)}function n8(e,t){nV(e._controlledTransformStream,t)}function n3(e,t){return C(e._transformAlgorithm(t),void 0,function(t){throw nV(e._controlledTransformStream,t),t})}function n2(e){var t=e._controlledTransformStream;r2(t._readable._readableStreamController),nG(t,TypeError("TransformStream terminated"))}function n4(e,t){var r=e._transformStreamController;return e._backpressure?C(e._backpressureChangePromise,function(){var n=e._writable;if("erroring"===n._state)throw n._storedError;return n3(r,t)}):n3(r,t)}function n6(e,t){var r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;var n=e._readable;r._finishPromise=w(function(e,t){r._finishPromise_resolve=e,r._finishPromise_reject=t});var i=r._cancelAlgorithm(t);return n0(r),E(i,function(){return"errored"===n._state?ir(r,n._storedError):(r6(n._readableStreamController,t),it(r)),null},function(e){return r6(n._readableStreamController,e),ir(r,e),null}),r._finishPromise}function n5(e){var t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;var r=e._readable;t._finishPromise=w(function(e,r){t._finishPromise_resolve=e,t._finishPromise_reject=r});var n=t._flushAlgorithm();return n0(t),E(n,function(){return"errored"===r._state?ir(t,r._storedError):(r2(r._readableStreamController),it(t)),null},function(e){return r6(r._readableStreamController,e),ir(t,e),null}),t._finishPromise}function n7(e){return nK(e,!1),e._backpressureChangePromise}function n9(e,t){var r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;var n=e._writable;r._finishPromise=w(function(e,t){r._finishPromise_resolve=e,r._finishPromise_reject=t});var i=r._cancelAlgorithm(t);return n0(r),E(i,function(){return"errored"===n._state?ir(r,n._storedError):(rC(n._writableStreamController,t),nJ(e),it(r)),null},function(t){return rC(n._writableStreamController,t),nJ(e),ir(r,t),null}),r._finishPromise}function ie(e){return TypeError("TransformStreamDefaultController.prototype.".concat(e," can only be used on a TransformStreamDefaultController"))}function it(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function ir(e,t){void 0!==e._finishPromise_reject&&(T(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function ii(e){return TypeError("TransformStream.prototype.".concat(e," can only be used on a TransformStream"))}Object.defineProperties(nX.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),y(nX.prototype.enqueue,"enqueue"),y(nX.prototype.error,"error"),y(nX.prototype.terminate,"terminate"),"symbol"==typeof o.toStringTag&&Object.defineProperty(nX.prototype,o.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.s(["ByteLengthQueuingStrategy",()=>nj,"CountQueuingStrategy",()=>nI,"ReadableByteStreamController",()=>eJ,"ReadableStream",()=>nw,"ReadableStreamBYOBReader",()=>tA,"ReadableStreamBYOBRequest",()=>eG,"ReadableStreamDefaultController",()=>rZ,"ReadableStreamDefaultReader",()=>ed,"TransformStream",()=>n$,"TransformStreamDefaultController",()=>nX,"WritableStream",()=>tG,"WritableStreamDefaultController",()=>rm,"WritableStreamDefaultWriter",()=>ro])},221023,(e,t,r)=>{try{t.exports=e.r(363890)}catch(r){t.exports=e.r(163595)}},792509,(e,t,r)=>{t.exports=e.x("url",()=>require("url"))},777538,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=new WeakMap,i=new WeakMap;function o(e){let t=n.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function a(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function s(e,t){n.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let e=0;e<r.length;++e){let t=r[e];t in this||Object.defineProperty(this,t,u(t))}}function u(e){return{get(){return o(this).event[e]},set(t){o(this).event[e]=t},configurable:!0,enumerable:!0}}function l(e){return{value(){let t=o(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function c(e,t){let r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let o=r[i];if(!(o in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,o).value;Object.defineProperty(n.prototype,o,e?l(o):u(o))}}return n}function f(e){if(null==e||e===Object.prototype)return s;let t=i.get(e);return null==t&&(t=c(f(Object.getPrototypeOf(e)),e),i.set(e,t)),t}function h(e,t){return new(f(Object.getPrototypeOf(t)))(e,t)}function d(e){return o(e).immediateStopped}function p(e,t){o(e).eventPhase=t}function y(e,t){o(e).currentTarget=t}function m(e,t){o(e).passiveListener=t}s.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath(){let e=o(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation(){let e=o(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=o(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!o(this).event.bubbles},get cancelable(){return!!o(this).event.cancelable},preventDefault(){a(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return!!o(this).event.composed},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(value){if(!value)return;let e=o(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!o(this).canceled},set returnValue(value){value||a(o(this))},initEvent(){}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0});let b=new WeakMap,g=1,w=2,D=3;function v(e){return null!==e&&"object"==typeof e}function _(e){let t=b.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function E(e){return{get(){let t=_(this).get(e);for(;null!=t;){if(t.listenerType===D)return t.listener;t=t.next}return null},set(t){"function"==typeof t||v(t)||(t=null);let r=_(this),n=null,i=r.get(e);for(;null!=i;)i.listenerType===D?null!==n?n.next=i.next:null!==i.next?r.set(e,i.next):r.delete(e):n=i,i=i.next;if(null!==t){let i={listener:t,listenerType:D,passive:!1,once:!1,next:null};null===n?r.set(e,i):n.next=i}},configurable:!0,enumerable:!0}}function x(e,t){Object.defineProperty(e,`on${t}`,E(t))}function S(e){function t(){C.call(this)}t.prototype=Object.create(C.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)x(t.prototype,e[r]);return t}function C(){if(this instanceof C)return void b.set(this,new Map);if(1==arguments.length&&Array.isArray(arguments[0]))return S(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return S(e)}throw TypeError("Cannot call a class as a function")}C.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!v(t))throw TypeError("'listener' should be a function or an object.");let n=_(this),i=v(r),o=(i?r.capture:r)?g:w,a={listener:t,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},s=n.get(e);if(void 0===s)return void n.set(e,a);let u=null;for(;null!=s;){if(s.listener===t&&s.listenerType===o)return;u=s,s=s.next}u.next=a},removeEventListener(e,t,r){if(null==t)return;let n=_(this),i=(v(r)?r.capture:r)?g:w,o=null,a=n.get(e);for(;null!=a;){if(a.listener===t&&a.listenerType===i)return void(null!==o?o.next=a.next:null!==a.next?n.set(e,a.next):n.delete(e));o=a,a=a.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=_(this),r=e.type,n=t.get(r);if(null==n)return!0;let i=h(this,e),o=null;for(;null!=n;){if(n.once?null!==o?o.next=n.next:null!==n.next?t.set(r,n.next):t.delete(r):o=n,m(i,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,i)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else n.listenerType!==D&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(i);if(d(i))break;n=n.next}return m(i,null),p(i,0),y(i,null),!i.defaultPrevented}},Object.defineProperty(C.prototype,"constructor",{value:C,configurable:!0,writable:!0}),r.defineEventAttribute=x,r.EventTarget=C,r.default=C,t.exports=C,t.exports.EventTarget=t.exports.default=C,t.exports.defineEventAttribute=x},337282,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(777538);class AbortSignal extends n.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=a.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}function i(){let e=Object.create(AbortSignal.prototype);return n.EventTarget.call(e),a.set(e,!1),e}function o(e){!1===a.get(e)&&(a.set(e,!0),e.dispatchEvent({type:"abort"}))}n.defineEventAttribute(AbortSignal.prototype,"abort");let a=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class s{constructor(){u.set(this,i())}get signal(){return l(this)}abort(){o(l(this))}}let u=new WeakMap;function l(e){let t=u.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(s.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(s.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),r.AbortController=s,r.AbortSignal=AbortSignal,r.default=s,t.exports=s,t.exports.AbortController=t.exports.default=s,t.exports.AbortSignal=AbortSignal},446786,(e,t,r)=>{t.exports=e.x("os",()=>require("os"))},237441,e=>{"use strict";var t=e.i(747909),r=e.i(174017),n=e.i(996250),i=e.i(759756),o=e.i(561916),a=e.i(114444),s=e.i(837092),u=e.i(869741),l=e.i(316795),c=e.i(487718),f=e.i(995169),h=e.i(47587),d=e.i(666012),p=e.i(570101),y=e.i(626937),m=e.i(10372),b=e.i(193695);e.i(52474);var g=e.i(257297),w=e.i(89660),D=e.i(89171);function v(e){if("function"==typeof e.next)return e;if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function _(){let e,t;return{promise:new Promise((r,n)=>{t=r,e=n}),reject:e,resolve:t}}function E(e,t,r){let n=v(r),i=[],o=[],a=!1,s=!1,u=0,l=null;function c(){for(;o.length>0&&i.length>0;){let{resolve:e}=o.shift();e({done:!1,value:i.shift()})}for(;o.length>0&&0===u&&a;){let{resolve:e,reject:t}=o.shift();l?(t(l),l=null):e({done:!0,value:void 0})}}async function f(){if(a)return void c();if(!s&&!(u+i.length>=e)){s=!0,u++;try{let{done:e,value:t}=await n.next();e?(a=!0,u--,c()):h(t)}catch(e){a=!0,u--,l=e,c()}s=!1,f()}}async function h(e){try{let r=await t(e);i.push(r)}catch(e){a=!0,l=e}u--,c(),f()}let d={next:async function(){if(0===i.length){let e=_();return o.push(e),f(),e.promise}let e=i.shift();return f(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>d};return d}function x(e,t,r){return void 0===t?(t,r)=>r?x(e,t,r):x(e,t):void 0===r?r=>x(e,t,r):E(e,t,r)}Symbol("TIMEOUT");var S=e.i(736850),C=e.i(522734),T=e.i(224361),A=e.i(549445),k=128,P=-128,j=0x80000000;function R(e,t,r){t=t||[];for(var n=r=r||0;e>=j;)t[r++]=255&e|k,e/=128;for(;e&P;)t[r++]=255&e|k,e>>>=7;return t[r]=0|e,R.bytes=r-n+1,t}var B=128,O=127;function I(e,t){var r,n=0,t=t||0,i=0,o=t,a=e.length;do{if(o>=a)throw I.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&O)<<i:(r&O)*Math.pow(2,i),i+=7}while(r>=B)return I.bytes=o-t,n}var z=128,L=16384,U=2097152,N=0x10000000,F=0x800000000,q=0x40000000000,M=0x2000000000000,$=0x100000000000000,W=0x8000000000000000;let H=R,V=I,G=function(e){return e<z?1:e<L?2:e<U?3:e<N?4:e<F?5:e<q?6:e<M?7:e<$?8:e<W?9:10},J=(e,t=0)=>[V(e,t),V.bytes],K=(e,t,r=0)=>(H(e,t,r),t),X=e=>G(e);e.s(["decode",0,J,"encodeTo",0,K,"encodingLength",0,X],677645);let Q=new Uint8Array(0),Y=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),Z=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map(e=>parseInt(e,16))):Q},ee=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},et=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},er=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),en=e=>new TextEncoder().encode(e),ei=e=>new TextDecoder().decode(e);e.s(["coerce",()=>et,"empty",()=>Q,"equals",()=>ee,"fromHex",()=>Z,"fromString",()=>en,"isBinary",()=>er,"toHex",()=>Y,"toString",()=>ei],595729);let eo=(e,t)=>{let r=t.byteLength,n=X(e),i=n+X(r),o=new Uint8Array(i+r);return K(e,o,0),K(r,o,n),o.set(t,i),new eu(e,r,t,o)},ea=e=>{let t=et(e),[r,n]=J(t),[i,o]=J(t.subarray(n)),a=t.subarray(n+o);if(a.byteLength!==i)throw Error("Incorrect length");return new eu(r,i,a,t)},es=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&ee(e.bytes,t.bytes);class eu{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}e.s(["Digest",()=>eu,"create",0,eo,"decode",0,ea,"equals",0,es],290697);let el=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*l+1>>>0,a=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var f=0,h=o-1;(0!==c||f<i)&&-1!==h;h--,f++)c+=s*a[h]>>>0,a[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=a[d++];return p}}}function h(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*c+1>>>0,l=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*l[d]>>>0,l[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var y=u.repeat(r);p<a;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:f,decode:h}};class ec{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ef{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ed(this,e)}}class eh{constructor(e){this.decoders=e}or(e){return ed(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let ed=(e,t)=>new eh({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ep{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new ec(e,t,r),this.decoder=new ef(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ey=({name:e,prefix:t,encode:r,decode:n})=>new ep(e,t,r,n),em=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=el(r,t);return ey({prefix:e,name:t,encode:n,decode:e=>et(i(e))})},eb=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(s+=r)>=8&&(s-=8,a[l++]=255&u>>s)}if(s>=r||255&u<<8-s)throw SyntaxError("Unexpected end of data");return a},eg=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,o+=t[i&s>>a];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},ew=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ey({prefix:t,name:e,encode:e=>eg(e,n,r),decode:t=>eb(t,n,r,e)}),eD=em({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ev=em({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});e.s(["base58btc",0,eD,"base58flickr",0,ev],98538);let e_=ew({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eE=ew({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ex=ew({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eS=ew({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eC=ew({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eT=ew({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eA=ew({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ek=ew({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eP=ew({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});e.s(["base32",0,e_,"base32hex",0,eC,"base32hexpad",0,eA,"base32hexpadupper",0,ek,"base32hexupper",0,eT,"base32pad",0,ex,"base32padupper",0,eS,"base32upper",0,eE,"base32z",0,eP],162001);class ej{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:eF,byteLength:eF,code:eN,version:eN,multihash:eN,bytes:eN,_baseCache:eF,asCID:eF})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eI)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ez)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ej.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=eo(e,t);return ej.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&es(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?eB(t,n,e||eD.encoder):eO(t,n,e||e_.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eM(/^0\.0/,e$),!!(e&&(e[eU]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ej)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new ej(t,r,n,i||eL(t,r,n.bytes))}if(null==e||!0!==e[eU])return null;{let{version:t,multihash:r,code:n}=e,i=ea(r);return ej.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eI)return new ej(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eI}) block encoding`);case 1:{let n=eL(e,t,r.bytes);return new ej(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return ej.create(0,eI,e)}static createV1(e,t){return ej.create(1,e,t)}static decode(e){let[t,r]=ej.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=ej.inspectBytes(e),r=t.size-t.multihashSize,n=et(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new eu(t.multihashCode,t.digestSize,i,n);return[0===t.version?ej.createV0(o):ej.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=J(e.subarray(t));return t+=n,r},n=r(),i=eI;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=eR(e,t),i=ej.decode(n);return i._baseCache.set(r,e),i}}let eR=(e,t)=>{switch(e[0]){case"Q":{let r=t||eD;return[eD.prefix,r.decode(`${eD.prefix}${e}`)]}case eD.prefix:{let r=t||eD;return[eD.prefix,r.decode(e)]}case e_.prefix:{let r=t||e_;return[e_.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eB=(e,t,r)=>{let{prefix:n}=r;if(n!==eD.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},eO=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},eI=112,ez=18,eL=(e,t,r)=>{let n=X(e),i=n+X(t),o=new Uint8Array(i+r.byteLength);return K(e,o,0),K(t,o,n),o.set(r,i),o},eU=Symbol.for("@ipld/js-cid/CID"),eN={writable:!1,configurable:!1,enumerable:!0},eF={writable:!1,enumerable:!1,configurable:!1},eq="0.0.0-dev",eM=(e,t)=>{if(e.test(eq))console.warn(t);else throw Error(t)},e$=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,eW=["string","number","bigint","symbol"],eH=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function eV(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";let t=typeof e;if(eW.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(eG(e))return"Buffer";let r=eJ(e);return r||"Object"}function eG(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function eJ(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(eH.includes(t))return t}class eK{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:+(this.major>e.major)}}eK.uint=new eK(0,"uint",!0),eK.negint=new eK(1,"negint",!0),eK.bytes=new eK(2,"bytes",!0),eK.string=new eK(3,"string",!0),eK.array=new eK(4,"array",!1),eK.map=new eK(5,"map",!1),eK.tag=new eK(6,"tag",!1),eK.float=new eK(7,"float",!0),eK.false=new eK(7,"false",!0),eK.true=new eK(7,"true",!0),eK.null=new eK(7,"null",!0),eK.undefined=new eK(7,"undefined",!0),eK.break=new eK(7,"break",!0);class eX{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}let eQ=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,eY=new TextDecoder,eZ=new TextEncoder;function e0(e){return eQ&&globalThis.Buffer.isBuffer(e)}function e1(e){return e instanceof Uint8Array?e0(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}let e8=eQ?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):te(e,t,r):(e,t,r)=>r-t>64?eY.decode(e.subarray(t,r)):te(e,t,r),e3=eQ?e=>e.length>64?globalThis.Buffer.from(e):e9(e):e=>e.length>64?eZ.encode(e):e9(e),e2=e=>Uint8Array.from(e),e4=eQ?(e,t,r)=>e0(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),e6=eQ?(e,t)=>(e=e.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),e1(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},e5=eQ?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function e7(e,t){if(e0(e)&&e0(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function e9(e,t=1/0){let r,n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function te(e,t,r){let n=[];for(;t<r;){let i=e[t],o=null,a=i>239?4:i>223?3:i>191?2:1;if(t+a<=r){let r,n,s,u;switch(a){case 1:i<128&&(o=i);break;case 2:(192&(r=e[t+1]))==128&&(u=(31&i)<<6|63&r)>127&&(o=u);break;case 3:r=e[t+1],n=e[t+2],(192&r)==128&&(192&n)==128&&(u=(15&i)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[t+1],n=e[t+2],s=e[t+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(u=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=a}return tr(n)}let tt=4096;function tr(e){let t=e.length;if(t<=tt)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=tt));return r}let tn=256;class ti{constructor(e=tn){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=e5(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=e4(r,0,this.cursor)}else t=e6(this.chunks,this.cursor);return e&&this.reset(),t}}let to="CBOR decode error:",ta="CBOR encode error:",ts=[];function tu(e,t,r){if(e.length-t<r)throw Error(`${to} not enough data for type`)}ts[23]=1,ts[24]=2,ts[25]=3,ts[26]=5,ts[27]=9;let tl=[24,256,65536,0x100000000,BigInt("18446744073709551616")];function tc(e,t,r){tu(e,t,1);let n=e[t];if(!0===r.strict&&n<tl[0])throw Error(`${to} integer encoded in more bytes than necessary (strict decode)`);return n}function tf(e,t,r){tu(e,t,2);let n=e[t]<<8|e[t+1];if(!0===r.strict&&n<tl[1])throw Error(`${to} integer encoded in more bytes than necessary (strict decode)`);return n}function th(e,t,r){tu(e,t,4);let n=0x1000000*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<tl[2])throw Error(`${to} integer encoded in more bytes than necessary (strict decode)`);return n}function td(e,t,r){tu(e,t,8);let n=0x1000000*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=0x1000000*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<tl[3])throw Error(`${to} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw Error(`${to} integers outside of the safe integer range are not supported`)}function tp(e,t,r,n){return new eX(eK.uint,tc(e,t+1,n),2)}function ty(e,t,r,n){return new eX(eK.uint,tf(e,t+1,n),3)}function tm(e,t,r,n){return new eX(eK.uint,th(e,t+1,n),5)}function tb(e,t,r,n){return new eX(eK.uint,td(e,t+1,n),9)}function tg(e,t){return tw(e,0,t.value)}function tw(e,t,r){if(r<tl[0]){let n=Number(r);e.push([t|n])}else if(r<tl[1]){let n=Number(r);e.push([24|t,n])}else if(r<tl[2]){let n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<tl[3]){let n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{let n=BigInt(r);if(n<tl[4]){let r=[27|t,0,0,0,0,0,0,0],i=Number(n&BigInt(0xffffffff)),o=Number(n>>BigInt(32)&BigInt(0xffffffff));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}else throw Error(`${to} encountered BigInt larger than allowable range`)}}function tD(e,t,r,n){return new eX(eK.negint,-1-tc(e,t+1,n),2)}function tv(e,t,r,n){return new eX(eK.negint,-1-tf(e,t+1,n),3)}function t_(e,t,r,n){return new eX(eK.negint,-1-th(e,t+1,n),5)}tg.encodedSize=function(e){return tw.encodedSize(e.value)},tw.encodedSize=function(e){return e<tl[0]?1:e<tl[1]?2:e<tl[2]?3:e<tl[3]?5:9},tg.compareTokens=function(e,t){return e.value<t.value?-1:+(e.value>t.value)};let tE=BigInt(-1),tx=BigInt(1);function tS(e,t,r,n){let i=td(e,t+1,n);if("bigint"!=typeof i){let e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new eX(eK.negint,e,9)}if(!0!==n.allowBigInt)throw Error(`${to} integers outside of the safe integer range are not supported`);return new eX(eK.negint,tE-BigInt(i),9)}function tC(e,t){let r=t.value,n="bigint"==typeof r?r*tE-tx:-1*r-1;tw(e,t.type.majorEncoded,n)}function tT(e,t,r,n){tu(e,t,r+n);let i=e4(e,t+r,t+r+n);return new eX(eK.bytes,i,r+n)}function tA(e,t,r,n){return tT(e,t,1,r)}function tk(e,t,r,n){return tT(e,t,2,tc(e,t+1,n))}function tP(e,t,r,n){return tT(e,t,3,tf(e,t+1,n))}function tj(e,t,r,n){return tT(e,t,5,th(e,t+1,n))}function tR(e,t,r,n){let i=td(e,t+1,n);if("bigint"==typeof i)throw Error(`${to} 64-bit integer bytes lengths not supported`);return tT(e,t,9,i)}function tB(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===eK.string?e3(e.value):e.value),e.encodedBytes}function tO(e,t){let r=tB(t);tw(e,t.type.majorEncoded,r.length),e.push(r)}function tI(e,t){return e.length<t.length?-1:e.length>t.length?1:e7(e,t)}function tz(e,t,r,n,i){let o=r+n;tu(e,t,o);let a=new eX(eK.string,e8(e,t+r,t+o),o);return!0===i.retainStringBytes&&(a.byteValue=e4(e,t+r,t+o)),a}function tL(e,t,r,n){return tz(e,t,1,r,n)}function tU(e,t,r,n){return tz(e,t,2,tc(e,t+1,n),n)}function tN(e,t,r,n){return tz(e,t,3,tf(e,t+1,n),n)}function tF(e,t,r,n){return tz(e,t,5,th(e,t+1,n),n)}function tq(e,t,r,n){let i=td(e,t+1,n);if("bigint"==typeof i)throw Error(`${to} 64-bit integer string lengths not supported`);return tz(e,t,9,i,n)}tC.encodedSize=function(e){let t=e.value,r="bigint"==typeof t?t*tE-tx:-1*t-1;return r<tl[0]?1:r<tl[1]?2:r<tl[2]?3:r<tl[3]?5:9},tC.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},tO.encodedSize=function(e){let t=tB(e);return tw.encodedSize(t.length)+t.length},tO.compareTokens=function(e,t){return tI(tB(e),tB(t))};let tM=tO;function t$(e,t,r,n){return new eX(eK.array,n,r)}function tW(e,t,r,n){return t$(e,t,1,r)}function tH(e,t,r,n){return t$(e,t,2,tc(e,t+1,n))}function tV(e,t,r,n){return t$(e,t,3,tf(e,t+1,n))}function tG(e,t,r,n){return t$(e,t,5,th(e,t+1,n))}function tJ(e,t,r,n){let i=td(e,t+1,n);if("bigint"==typeof i)throw Error(`${to} 64-bit integer array lengths not supported`);return t$(e,t,9,i)}function tK(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${to} indefinite length items not allowed`);return t$(e,t,1,1/0)}function tX(e,t){tw(e,eK.array.majorEncoded,t.value)}function tQ(e,t,r,n){return new eX(eK.map,n,r)}function tY(e,t,r,n){return tQ(e,t,1,r)}function tZ(e,t,r,n){return tQ(e,t,2,tc(e,t+1,n))}function t0(e,t,r,n){return tQ(e,t,3,tf(e,t+1,n))}function t1(e,t,r,n){return tQ(e,t,5,th(e,t+1,n))}function t8(e,t,r,n){let i=td(e,t+1,n);if("bigint"==typeof i)throw Error(`${to} 64-bit integer map lengths not supported`);return tQ(e,t,9,i)}function t3(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${to} indefinite length items not allowed`);return tQ(e,t,1,1/0)}function t2(e,t){tw(e,eK.map.majorEncoded,t.value)}function t4(e,t,r,n){return new eX(eK.tag,r,1)}function t6(e,t,r,n){return new eX(eK.tag,tc(e,t+1,n),2)}function t5(e,t,r,n){return new eX(eK.tag,tf(e,t+1,n),3)}function t7(e,t,r,n){return new eX(eK.tag,th(e,t+1,n),5)}function t9(e,t,r,n){return new eX(eK.tag,td(e,t+1,n),9)}function re(e,t){tw(e,eK.tag.majorEncoded,t.value)}tX.compareTokens=tg.compareTokens,tX.encodedSize=function(e){return tw.encodedSize(e.value)},t2.compareTokens=tg.compareTokens,t2.encodedSize=function(e){return tw.encodedSize(e.value)},re.compareTokens=tg.compareTokens,re.encodedSize=function(e){return tw.encodedSize(e.value)};let rt=20,rr=21,rn=22,ri=23;function ro(e,t,r,n){if(!1===n.allowUndefined)throw Error(`${to} undefined values are not supported`);return!0===n.coerceUndefinedToNull?new eX(eK.null,null,1):new eX(eK.undefined,void 0,1)}function ra(e,t,r,n){if(!1===n.allowIndefinite)throw Error(`${to} indefinite length items not allowed`);return new eX(eK.break,void 0,1)}function rs(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw Error(`${to} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw Error(`${to} Infinity values are not supported`)}return new eX(eK.float,e,t)}function ru(e,t,r,n){return rs(rm(e,t+1),3,n)}function rl(e,t,r,n){return rs(rg(e,t+1),5,n)}function rc(e,t,r,n){return rs(rD(e,t+1),9,n)}function rf(e,t,r){let n=t.value;if(!1===n)e.push([eK.float.majorEncoded|rt]);else if(!0===n)e.push([eK.float.majorEncoded|rr]);else if(null===n)e.push([eK.float.majorEncoded|rn]);else if(void 0===n)e.push([eK.float.majorEncoded|ri]);else{let t,i=!1;r&&!0===r.float64||(ry(n),n===(t=rm(rp,1))||Number.isNaN(n)?(rp[0]=249,e.push(rp.slice(0,3)),i=!0):(rb(n),n===(t=rg(rp,1))&&(rp[0]=250,e.push(rp.slice(0,5)),i=!0))),i||(rw(n),t=rD(rp,1),rp[0]=251,e.push(rp.slice(0,9)))}}rf.encodedSize=function(e,t){let r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){ry(r);let e=rm(rp,1);if(r===e||Number.isNaN(r))return 3;if(rb(r),r===(e=rg(rp,1)))return 5}return 9};let rh=new ArrayBuffer(9),rd=new DataView(rh,1),rp=new Uint8Array(rh,0);function ry(e){if(e===1/0)rd.setUint16(0,31744,!1);else if(e===-1/0)rd.setUint16(0,64512,!1);else if(Number.isNaN(e))rd.setUint16(0,32256,!1);else{rd.setFloat32(0,e);let t=rd.getUint32(0),r=(0x7f800000&t)>>23,n=8388607&t;if(255===r)rd.setUint16(0,31744,!1);else if(0===r)rd.setUint16(0,(0x80000000&e)>>16|n>>13,!1);else{let e=r-127;e<-24?rd.setUint16(0,0):e<-14?rd.setUint16(0,(0x80000000&t)>>16|1<<24+e,!1):rd.setUint16(0,(0x80000000&t)>>16|e+15<<10|n>>13,!1)}}}function rm(e,t){let r;if(e.length-t<2)throw Error(`${to} not enough data for float16`);let n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;let i=n>>10&31,o=1023&n;return r=0===i?5960464477539063e-23*o:31!==i?(o+1024)*2**(i-25):0===o?1/0:NaN,32768&n?-r:r}function rb(e){rd.setFloat32(0,e,!1)}function rg(e,t){if(e.length-t<4)throw Error(`${to} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function rw(e){rd.setFloat64(0,e,!1)}function rD(e,t){if(e.length-t<8)throw Error(`${to} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function rv(e,t,r){throw Error(`${to} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function r_(e){return()=>{throw Error(`${to} ${e}`)}}rf.compareTokens=tg.compareTokens;let rE=[];for(let e=0;e<=23;e++)rE[e]=rv;rE[24]=tp,rE[25]=ty,rE[26]=tm,rE[27]=tb,rE[28]=rv,rE[29]=rv,rE[30]=rv,rE[31]=rv;for(let e=32;e<=55;e++)rE[e]=rv;rE[56]=tD,rE[57]=tv,rE[58]=t_,rE[59]=tS,rE[60]=rv,rE[61]=rv,rE[62]=rv,rE[63]=rv;for(let e=64;e<=87;e++)rE[e]=tA;rE[88]=tk,rE[89]=tP,rE[90]=tj,rE[91]=tR,rE[92]=rv,rE[93]=rv,rE[94]=rv,rE[95]=r_("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)rE[e]=tL;rE[120]=tU,rE[121]=tN,rE[122]=tF,rE[123]=tq,rE[124]=rv,rE[125]=rv,rE[126]=rv,rE[127]=r_("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)rE[e]=tW;rE[152]=tH,rE[153]=tV,rE[154]=tG,rE[155]=tJ,rE[156]=rv,rE[157]=rv,rE[158]=rv,rE[159]=tK;for(let e=160;e<=183;e++)rE[e]=tY;rE[184]=tZ,rE[185]=t0,rE[186]=t1,rE[187]=t8,rE[188]=rv,rE[189]=rv,rE[190]=rv,rE[191]=t3;for(let e=192;e<=215;e++)rE[e]=t4;rE[216]=t6,rE[217]=t5,rE[218]=t7,rE[219]=t9,rE[220]=rv,rE[221]=rv,rE[222]=rv,rE[223]=rv;for(let e=224;e<=243;e++)rE[e]=r_("simple values are not supported");rE[244]=rv,rE[245]=rv,rE[246]=rv,rE[247]=ro,rE[248]=r_("simple values are not supported"),rE[249]=ru,rE[250]=rl,rE[251]=rc,rE[252]=rv,rE[253]=rv,rE[254]=rv,rE[255]=ra;let rx=[];for(let e=0;e<24;e++)rx[e]=new eX(eK.uint,e,1);for(let e=-1;e>=-24;e--)rx[31-e]=new eX(eK.negint,e,1);rx[64]=new eX(eK.bytes,new Uint8Array(0),1),rx[96]=new eX(eK.string,"",1),rx[128]=new eX(eK.array,0,1),rx[160]=new eX(eK.map,0,1),rx[244]=new eX(eK.false,!1,1),rx[245]=new eX(eK.true,!0,1),rx[246]=new eX(eK.null,null,1);let rS={float64:!1,mapSorter:rB,quickEncodeToken:function(e){switch(e.type){case eK.false:return e2([244]);case eK.true:return e2([245]);case eK.null:return e2([246]);case eK.bytes:if(!e.value.length)return e2([64]);return;case eK.string:if(""===e.value)return e2([96]);return;case eK.array:if(0===e.value)return e2([128]);return;case eK.map:if(0===e.value)return e2([160]);return;case eK.uint:if(e.value<24)return e2([Number(e.value)]);return;case eK.negint:if(e.value>=-24)return e2([31-Number(e.value)])}}},rC=function(){let e=[];return e[eK.uint.major]=tg,e[eK.negint.major]=tC,e[eK.bytes.major]=tO,e[eK.string.major]=tM,e[eK.array.major]=tX,e[eK.map.major]=t2,e[eK.tag.major]=re,e[eK.float.major]=rf,e}(),rT=new ti;class rA{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent)return!1}static createCheck(e,t){if(e&&e.includes(t))throw Error(`${ta} object contains circular references`);return new rA(t,e)}}let rk={null:new eX(eK.null,null),undefined:new eX(eK.undefined,void 0),true:new eX(eK.true,!0),false:new eX(eK.false,!1),emptyArray:new eX(eK.array,0),emptyMap:new eX(eK.map,0)},rP={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new eX(eK.uint,e):new eX(eK.negint,e):new eX(eK.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new eX(eK.uint,e):new eX(eK.negint,e),Uint8Array:(e,t,r,n)=>new eX(eK.bytes,e),string:(e,t,r,n)=>new eX(eK.string,e),boolean:(e,t,r,n)=>e?rk.true:rk.false,null:(e,t,r,n)=>rk.null,undefined:(e,t,r,n)=>rk.undefined,ArrayBuffer:(e,t,r,n)=>new eX(eK.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new eX(eK.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[rk.emptyArray,new eX(eK.break)]:rk.emptyArray;n=rA.createCheck(n,e);let i=[],o=0;for(let t of e)i[o++]=rj(t,r,n);return r.addBreakTokens?[new eX(eK.array,e.length),i,new eX(eK.break)]:[new eX(eK.array,e.length),i]},Object(e,t,r,n){let i="Object"!==t,o=i?e.keys():Object.keys(e),a=i?e.size:o.length;if(!a)return!0===r.addBreakTokens?[rk.emptyMap,new eX(eK.break)]:rk.emptyMap;n=rA.createCheck(n,e);let s=[],u=0;for(let t of o)s[u++]=[rj(t,r,n),rj(i?e.get(t):e[t],r,n)];return(rR(s,r),r.addBreakTokens)?[new eX(eK.map,a),s,new eX(eK.break)]:[new eX(eK.map,a),s]}};for(let e of(rP.Map=rP.Object,rP.Buffer=rP.Uint8Array,"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")))rP[`${e}Array`]=rP.DataView;function rj(e,t={},r){let n=eV(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||rP[n];if("function"==typeof i){let o=i(e,n,t,r);if(null!=o)return o}let o=rP[n];if(!o)throw Error(`${ta} unsupported type: ${n}`);return o(e,n,t,r)}function rR(e,t){t.mapSorter&&e.sort(t.mapSorter)}function rB(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let i=rC[r.type.major].compareTokens(r,n);return 0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function rO(e,t,r,n){if(Array.isArray(t))for(let i of t)rO(e,i,r,n);else r[t.type.major](e,t,n)}function rI(e,t,r){let n=rj(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let e=r.quickEncodeToken(n);if(e)return e;let i=t[n.type.major];if(i.encodedSize){let e=new ti(i.encodedSize(n,r));if(i(e,n,r),1!==e.chunks.length)throw Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return e1(e.chunks[0])}}return rT.reset(),rO(rT,n,t,r),rT.toBytes(!0)}function rz(e,t){return rI(e,rC,t=Object.assign({},rS,t))}let rL={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class rU{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=rx[e];if(void 0===t){let r=rE[e];if(!r)throw Error(`${to} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}let rN=Symbol.for("DONE"),rF=Symbol.for("BREAK");function rq(e,t,r){let n=[];for(let i=0;i<e.value;i++){let o=r$(t,r);if(o===rF){if(e.value===1/0)break;throw Error(`${to} got unexpected break to lengthed array`)}if(o===rN)throw Error(`${to} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}function rM(e,t,r){let n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=r$(t,r);if(s===rF){if(e.value===1/0)break;throw Error(`${to} got unexpected break to lengthed map`)}if(s===rN)throw Error(`${to} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof s)throw Error(`${to} non-string keys not supported (got ${typeof s})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(s)||!n&&s in i))throw Error(`${to} found repeat map key "${s}"`);let u=r$(t,r);if(u===rN)throw Error(`${to} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?o.set(s,u):i[s]=u}return n?o:i}function r$(e,t){if(e.done())return rN;let r=e.next();if(r.type===eK.break)return rF;if(r.type.terminal)return r.value;if(r.type===eK.array)return rq(r,e,t);if(r.type===eK.map)return rM(r,e,t);if(r.type===eK.tag){if(t.tags&&"function"==typeof t.tags[r.value]){let n=r$(e,t);return t.tags[r.value](n)}throw Error(`${to} tag not supported (${r.value})`)}throw Error("unsupported")}function rW(e,t){if(!(e instanceof Uint8Array))throw Error(`${to} data to decode must be a Uint8Array`);let r=(t=Object.assign({},rL,t)).tokenizer||new rU(e,t),n=r$(r,t);if(n===rN)throw Error(`${to} did not find any content to decode`);if(n===rF)throw Error(`${to} got unexpected break`);if(!r.done())throw Error(`${to} too many terminals, data makes no sense`);return n}let rH=42,rV={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;let t=ej.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new eX(eK.tag,rH),new eX(eK.bytes,r)]},undefined:function(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};function rG(e){if(0!==e[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ej.decode(e.subarray(1))}let rJ={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};rJ.tags[rH]=rG;let rK=e=>rz(e,rV),rX=e=>rW(e,rJ),rQ=18,rY=32,rZ=112;async function r0(e){let t=await e.upTo(8),r=A.default.decode(t);return e.seek(A.default.decode.bytes),r}async function r1(e){let t=await r0(e);if(0===t)throw Error("Invalid CAR header (zero length)");let r=await e.exactly(t);e.seek(t);let n=rX(r);if(null==n||Array.isArray(n)||"object"!=typeof n)throw Error("Invalid CAR header format");if(1!==n.version){if("string"==typeof n.version)throw Error(`Invalid CAR version: "${n.version}"`);throw Error(`Invalid CAR version: ${n.version}`)}if(!Array.isArray(n.roots)||Object.keys(n).filter(e=>"roots"!==e&&"version"!==e).length)throw Error("Invalid CAR header format");return n}async function r8(e){let t=await e.upTo(8);A.default.decode(t);let r=A.default.decode.bytes,n=A.default.decode(t.subarray(A.default.decode.bytes)),i=r+A.default.decode.bytes+n,o=await e.exactly(i);return e.seek(i),o}async function r3(e){let t=await e.exactly(2);if(t[0]===rQ&&t[1]===rY){let t=await e.exactly(34);e.seek(34);let r=ea(t);return ej.create(0,rZ,r)}let r=await r0(e);if(1!==r)throw Error(`Unexpected CID version (${r})`);let n=await r0(e),i=ea(await r8(e));return ej.create(r,n,i)}async function r2(e){let t=e.pos,r=await r0(e);if(0===r)throw Error("Invalid CAR section (zero length)");r+=e.pos-t;let n=await r3(e),i=r-(e.pos-t);return{cid:n,length:r,blockLength:i}}async function r4(e){let{cid:t,blockLength:r}=await r2(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function r6(e){let t=e.pos,{cid:r,length:n,blockLength:i}=await r2(e),o={cid:r,length:n,blockLength:i,offset:t,blockOffset:e.pos};return e.seek(o.blockLength),o}function r5(e){let t=r1(e);return{header:()=>t,async *blocks(){for(await t;(await e.upTo(8)).length>0;)yield await r4(e)},async *blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await r6(e)}}}function r7(e){let t=0;return{upTo:async r=>e.subarray(t,t+Math.min(r,e.length-t)),async exactly(r){if(r>e.length-t)throw Error("Unexpected end of data");return e.subarray(t,t+r)},seek(e){t+=e},get pos(){return t}}}function r9(e){let t=0,r=0,n=0,i=new Uint8Array(0),o=async t=>{r=i.length-n;let o=[i.subarray(n)];for(;r<t;){let t=await e();if(null==t)break;r<0?t.length>r&&o.push(t.subarray(-r)):o.push(t),r+=t.length}i=new Uint8Array(o.reduce((e,t)=>e+t.length,0));let a=0;for(let e of o)i.set(e,a),a+=e.length;n=0};return{upTo:async e=>(i.length-n<e&&await o(e),i.subarray(n,n+Math.min(i.length-n,e))),async exactly(e){if(i.length-n<e&&await o(e),i.length-n<e)throw Error("Unexpected end of data");return i.subarray(n,n+e)},seek(e){t+=e,n+=e},get pos(){return t}}}function ne(e){let t=e[Symbol.asyncIterator]();return r9(async function(){let e=await t.next();return e.done?null:e.value})}class nt{constructor(e,t,r){this._version=e,this._roots=t,this._blocks=r,this._keys=r.map(e=>e.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._keys.indexOf(e.toString())>-1}async get(e){let t=this._keys.indexOf(e.toString());return t>-1?this._blocks[t]:void 0}async *blocks(){for(let e of this._blocks)yield e}async *cids(){for(let e of this._blocks)yield e.cid}static async fromBytes(e){if(!(e instanceof Uint8Array))throw TypeError("fromBytes() requires a Uint8Array");return nr(r7(e))}static async fromIterable(e){if(!e||"function"!=typeof e[Symbol.asyncIterator])throw TypeError("fromIterable() requires an async iterable");return nr(ne(e))}}async function nr(e){let t=r5(e),{version:r,roots:n}=await t.header(),i=[];for await(let e of t.blocks())i.push(e);return new nt(r,n,i)}let nn=(0,T.promisify)(C.default.read);class ni extends nt{static async readRaw(e,t){let r,{cid:n,blockLength:i,blockOffset:o}=t,a=new Uint8Array(i);if("number"==typeof e)r=(await nn(e,a,0,i,o)).bytesRead;else if("object"==typeof e&&"function"==typeof e.read)r=(await e.read(a,0,i,o)).bytesRead;else throw TypeError("Bad fd");if(r!==i)throw Error(`Failed to read entire block (${r} instead of ${i})`);return{cid:n,bytes:a}}}class no{constructor(e,t,r){this._version=e,this._roots=t,this._iterable=r,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class na extends no{[Symbol.asyncIterator](){if(this._decoded)throw Error("Cannot decode more than once");if(!this._iterable)throw Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){let{version:t,roots:r,iterator:n}=await nu(e);return new na(t,r,n)}static async fromIterable(e){let{version:t,roots:r,iterator:n}=await nl(e);return new na(t,r,n)}}class ns extends no{[Symbol.asyncIterator](){if(this._decoded)throw Error("Cannot decode more than once");if(!this._iterable)throw Error("Block iterable not found");this._decoded=!0;let e=this._iterable[Symbol.asyncIterator]();return{async next(){let t=await e.next();return t.done?t:{done:!1,value:t.value.cid}}}}static async fromBytes(e){let{version:t,roots:r,iterator:n}=await nu(e);return new ns(t,r,n)}static async fromIterable(e){let{version:t,roots:r,iterator:n}=await nl(e);return new ns(t,r,n)}}async function nu(e){if(!(e instanceof Uint8Array))throw TypeError("fromBytes() requires a Uint8Array");return nc(r7(e))}async function nl(e){if(!e||"function"!=typeof e[Symbol.asyncIterator])throw TypeError("fromIterable() requires an async iterable");return nc(ne(e))}async function nc(e){let t=r5(e),{version:r,roots:n}=await t.header();return{version:r,roots:n,iterator:t.blocks()}}var nf=C,nh=T,nd=A;function np(e){let t=rK({version:1,roots:e}),r=nd.default.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function ny(e){return{async setRoots(t){let r=np(t);await e.write(r)},async writeBlock(t){let{cid:r,bytes:n}=t;await e.write(new Uint8Array(nd.default.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},close:async()=>e.end()}}function nm(){}function nb(){let e=[],t=null,r=nm,n=!1,i=null,o=nm,a=()=>(t||(t=new Promise(e=>{r=()=>{t=null,r=nm,e()}})),t),s={write(t){e.push(t);let r=a();return o(),r},async end(){n=!0;let e=a();return o(),e}},u={async next(){let t=e.shift();return t?(0===e.length&&r(),{done:!1,value:t}):n?(r(),{done:!0,value:void 0}):(i||(i=new Promise(e=>{o=()=>(i=null,o=nm,e(u.next()))})),i)}};return{writer:s,iterator:u}}class ng{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw TypeError("Can only write {cid, bytes} objects");if(this._ended)throw Error("Already closed");let t=ej.asCID(e.cid);if(!t)throw TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:t,bytes:e.bytes})),this._mutex}async close(){if(this._ended)throw Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=nv(e);let{encoder:t,iterator:r}=nD();return{writer:new ng(e,t),out:new nw(r)}}static createAppender(){let{encoder:e,iterator:t}=nD();return e.setRoots=()=>Promise.resolve(),{writer:new ng([],e),out:new nw(t)}}static async updateRootsInBytes(e,t){let r=r7(e);await r1(r);let n=np(t);if(r.pos!==n.length)throw Error(`updateRoots() can only overwrite a header of the same length (old header is ${r.pos} bytes, new header is ${n.length} bytes)`);return e.set(n,0),e}}class nw{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function nD(){let{writer:e,iterator:t}=nb();return{encoder:ny(e),iterator:t}}function nv(e){if(void 0===e)return[];if(!Array.isArray(e)){let t=ej.asCID(e);if(!t)throw TypeError("roots must be a single CID or an array of CIDs");return[t]}let t=[];for(let r of e){let e=ej.asCID(r);if(!e)throw TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}let n_=(0,nh.promisify)(nf.default.read),nE=(0,nh.promisify)(nf.default.write);class nx extends ng{static async updateRootsInFile(e,t){let r,n,i=256,o=0;if("number"==typeof e)n=async()=>(await n_(e,r,0,i,o)).bytesRead;else if("object"==typeof e&&"function"==typeof e.read)n=async()=>(await e.read(r,0,i,o)).bytesRead;else throw TypeError("Bad fd");let a=r9(async()=>{r=new Uint8Array(i);let e=await n();return o+=e,e<i?r.subarray(0,e):r});await r1(a);let s=np(t);if(a.pos!==s.length)throw Error(`updateRoots() can only overwrite a header of the same length (old header is ${a.pos} bytes, new header is ${s.length} bytes)`);"number"==typeof e?await nE(e,s,0,s.length,0):"object"==typeof e&&"function"==typeof e.read&&await e.write(s,0,s.length,0)}}var nS=e.i(688947);e.i(677645);var nC=e.i(595729);let nT=({name:e,code:t,encode:r})=>new nA(e,t,r);class nA{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?eo(this.code,t):t.then(e=>eo(this.code,e))}throw Error("Unknown type, must be binary type")}}e.s(["Hasher",()=>nA,"from",0,nT],888038),e.i(888038),e.i(290697);var nk=nC;let nP=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),nj=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(let[r,n]of Object.entries(e)){let e=[...t,r];if(null!=n&&"object"==typeof n)if(Array.isArray(n))for(let[t,r]of n.entries()){let n=[...e,t],i=ej.asCID(r);i?yield[n.join("/"),i]:"object"==typeof r&&(yield*nj(r,n))}else{let t=ej.asCID(n);t?yield[e.join("/"),t]:yield*nj(n,e)}}},nR=function*(e,t){if(null!=e)for(let[r,n]of Object.entries(e)){let e=[...t,r];if(yield e.join("/"),null!=n&&!(n instanceof Uint8Array)&&"object"==typeof n&&!ej.asCID(n))if(Array.isArray(n))for(let[t,r]of n.entries()){let n=[...e,t];yield n.join("/"),"object"!=typeof r||ej.asCID(r)||(yield*nR(r,n))}else yield*nR(n,e)}},nB=(e,t)=>{let r=e;for(let[e,n]of t.entries()){if(null==(r=r[n]))throw Error(`Object has no property at ${t.slice(0,e+1).map(e=>`[${JSON.stringify(e)}]`).join("")}`);let i=ej.asCID(r);if(i)return{value:i,remaining:t.slice(e+1).join("/")}}return{value:r}};class nO{constructor({cid:e,bytes:t,value:r}){if(!e||!t||void 0===r)throw Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:nP(),bytes:nP(),value:nP(),asBlock:nP()})}links(){return nj(this.value,[])}tree(){return nR(this.value,[])}get(e="/"){return nB(this.value,e.split("/").filter(Boolean))}}let nI=async({value:e,codec:t,hasher:r})=>{if(void 0===e)throw Error('Missing required argument "value"');if(!t||!r)throw Error("Missing required argument: codec or hasher");let n=t.encode(e),i=await r.digest(n);return new nO({value:e,bytes:n,cid:ej.create(1,t.code,i)})},nz="raw",nL=85,nU=e=>et(e),nN=e=>et(e);e.s(["code",0,nL,"decode",0,nN,"encode",0,nU,"name",0,nz],846093);var nF=e.i(846093);let nq=42,nM={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;let t=ej.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new eX(eK.tag,nq),new eX(eK.bytes,r)]},undefined:function(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};function n$(e){if(0!==e[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ej.decode(e.subarray(1))}let nW={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};nW.tags[nq]=n$;let nH="dag-cbor",nV=113,nG=e=>rz(e,nM),nJ=e=>rW(e,nW);e.s(["code",0,nV,"decode",0,nJ,"encode",0,nG,"name",0,nH],838109);var nK=e.i(838109);let nX=new TextDecoder;function nQ(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw Error("protobuf: varint overflow");if(t>=e.length)throw Error("protobuf: unexpected end of data");let i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function nY(e,t){let r;[r,t]=nQ(e,t);let n=t+r;if(r<0||n<0)throw Error("protobuf: invalid length");if(n>e.length)throw Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function nZ(e,t){let r;return[r,t]=nQ(e,t),[7&r,r>>3,t]}function n0(e){let t={},r=e.length,n=0;for(;n<r;){let r,i;if([r,i,n]=nZ(e,n),1===i){if(t.Hash)throw Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=nY(e,n)}else if(2===i){let i;if(void 0!==t.Name)throw Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Name");[i,n]=nY(e,n),t.Name=nX.decode(i)}else if(3===i){if(void 0!==t.Tsize)throw Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=nQ(e,n)}else throw Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw Error("protobuf: (PBLink) unexpected end of data");return t}function n1(e){let t,r,n=e.length,i=0,o=!1;for(;i<n;){let n,a;if([n,a,i]=nZ(e,i),2!==n)throw Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${n}`);if(1===a){if(r)throw Error("protobuf: (PBNode) duplicate Data section");[r,i]=nY(e,i),t&&(o=!0)}else if(2===a){let r;if(o)throw Error("protobuf: (PBNode) duplicate Links section");t||(t=[]),[r,i]=nY(e,i),t.push(n0(r))}else throw Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${a}`)}if(i>n)throw Error("protobuf: (PBNode) unexpected end of data");let a={};return r&&(a.Data=r),a.Links=t||[],a}let n8=new TextEncoder,n3=0x100000000,n2=0x80000000;function n4(e,t){let r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw Error("Tsize too large for encoding");r=n9(t,r,e.Tsize)-1,t[r]=24}if("string"==typeof e.Name){let n=n8.encode(e.Name);r-=n.length,t.set(n,r),r=n9(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=n9(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function n6(e){let t=n7(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=n9(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){let i=n4(e.Links[t],r.subarray(0,n));n-=i,n=n9(r,n,i)-1,r[n]=18}return r}function n5(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+ie(r)}if("string"==typeof e.Name){let r=n8.encode(e.Name).length;t+=1+r+ie(r)}return"number"==typeof e.Tsize&&(t+=1+ie(e.Tsize)),t}function n7(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+ie(r)}if(e.Links)for(let r of e.Links){let e=n5(r);t+=1+e+ie(e)}return t}function n9(e,t,r){let n=t-=ie(r);for(;r>=n2;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function ie(e){return e%2==0&&e++,Math.floor((it(e)+6)/7)}function it(e){let t=0;return e>=n3&&(e=Math.floor(e/n3),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+ir[e]}let ir=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],ii=["Data","Links"],io=["Hash","Name","Tsize"],ia=new TextEncoder;function is(e,t){if(e===t)return 0;let r=e.Name?ia.encode(e.Name):[],n=t.Name?ia.encode(t.Name):[],i=r.length,o=n.length;for(let e=0,t=Math.min(i,o);e<t;++e)if(r[e]!==n[e]){i=r[e],o=n[e];break}return i<o?-1:+(o<i)}function iu(e,t){return!Object.keys(e).some(e=>!t.includes(e))}function il(e){if("object"==typeof e.asCID){let t=ej.asCID(e);if(!t)throw TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(e.Hash){let r=ej.asCID(e.Hash);try{!r&&("string"==typeof e.Hash?r=ej.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=ej.decode(e.Hash)))}catch(e){throw TypeError(`Invalid DAG-PB form: ${e.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function ic(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");let t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=ia.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw TypeError("Invalid DAG-PB form");if(void 0!==e.Links)if(Array.isArray(e.Links))t.Links=e.Links.map(il),t.Links.sort(is);else throw TypeError("Invalid DAG-PB form");else t.Links=[];return t}function ih(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError("Invalid DAG-PB form");if(!iu(e,ii))throw TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r))throw TypeError("Invalid DAG-PB form (bad link object)");if(!iu(r,io))throw TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize&&("number"!=typeof r.Tsize||r.Tsize%1!=0))throw TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===is(r,e.Links[t-1]))throw TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function id(e,t=[]){return ic({Data:e,Links:t})}function ip(e,t,r){return il({Hash:r,Name:e,Tsize:t})}let iy="dag-pb",im=112;function ib(e){ih(e);let t={};return e.Links&&(t.Links=e.Links.map(e=>{let t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),e.Data&&(t.Data=e.Data),n6(t)}function ig(e){let t=n1(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(e=>{let t={};try{t.Hash=ej.decode(e.Hash)}catch(e){}if(!t.Hash)throw Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),r}e.s(["code",0,im,"decode",()=>ig,"encode",()=>ib,"name",0,iy],472838),e.i(472838),e.s(["code",0,im,"createLink",()=>ip,"createNode",()=>id,"decode",()=>ig,"encode",()=>ib,"name",0,iy,"prepare",()=>ic,"validate",()=>ih],343103);var iw=e.i(343103);class iD{constructor(e,t,r={}){if("number"!=typeof t||t<=0)throw Error("invalid target chunk size");this._reader=e,this._targetSize=t,this._decoders=[iw,nF,nK,...r.decoders||[]]}async *cars(){let e,t=await this._reader.getRoots();if(1!==t.length)throw Error(`unexpected number of roots: ${t.length}`);for await(let r of this._cars(t[0]))e=r.channel,r.out&&(yield r.out);if(!e)throw Error("missing CAR writer channel");e.writer.close(),yield e.out}async _get(e){let t=await this._reader.get(e);if(!t)throw Error(`missing block for ${e}`);let{bytes:r}=t,n=this._decoders.find(t=>t.code===e.code);if(!n)throw Error(`missing decoder for ${e.code}`);return new nO({cid:e,bytes:r,value:n.decode(r)})}async *_cars(e,t=[],r){let n=await this._get(e);if((r=r||Object.assign(nx.create(e),{size:0})).size>0&&r.size+n.bytes.byteLength>=this._targetSize){r.writer.close();let{out:e}=r;r=iv(t),yield{channel:r,out:e}}for(let[,e]of(t=t.concat(n),r.size+=n.bytes.byteLength,r.writer.put(n),n.links()))for await(let n of this._cars(e,t,r))r=n.channel,yield n;if(!r)throw Error("missing CAR writer channel");yield{channel:r}}static async fromIterable(e,t,r){return new iD(await ni.fromIterable(e),t,r)}static async fromBlob(e,t,r){let n=await e.arrayBuffer();return new iD(await ni.fromBytes(new Uint8Array(n)),t,r)}}function iv(e){let t=Object.assign(nx.create(e[0].cid),{size:e.reduce((e,t)=>e+t.bytes.byteLength,0)});for(let r of e)t.writer.put(r);return t}var i_=e.i(337023),iE=e.i(638121),ix=e.i(717688);let iS=e.i(935589).default;var iC=e.i(254799);let iT=nT({name:"sha2-256",code:18,encode:e=>et(iC.default.createHash("sha256").update(e).digest())}),iA=nT({name:"sha2-512",code:19,encode:e=>et(iC.default.createHash("sha512").update(e).digest())});e.s(["sha256",0,iT,"sha512",0,iA],406446);var nk=nC,ik=e.i(284327);function iP(e){let t=[,,,,];for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}nT({name:"murmur3-32",code:35,encode:e=>iP(ik.default.x86.hash32(e))});let ij=nT({name:"murmur3-128",code:34,encode:e=>nk.fromHex(ik.default.x64.hash128(e))}),iR={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:iT,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn:async function(e){return(await ij.encode(e)).slice(0,8).reverse()},hamtHashCode:34,hamtBucketBits:8},iB=(e={})=>iS.bind({ignoreUndefined:!0})(iR,e);var iO=e.i(643988),iI=e.i(429194);let iz=iI.default.Reader,iL=iI.default.Writer,iU=iI.default.util,iN=iI.default.roots["ipfs-unixfs"]||(iI.default.roots["ipfs-unixfs"]={}),iF=iN.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=iU.newBuffer([]),e.prototype.filesize=iU.Long?iU.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=iU.emptyArray,e.prototype.hashType=iU.Long?iU.Long.fromBits(0,0,!0):0,e.prototype.fanout=iU.Long?iU.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=iL.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&iN.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof iz||(e=iz.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new iN.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),(7&i)==2)for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=iN.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw iU.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof iN.Data)return e;var t=new iN.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?iU.base64.decode(e.Data,t.Data=iU.newBuffer(iU.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(iU.Long?(t.filesize=iU.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new iU.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)iU.Long?(t.blocksizes[r]=iU.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new iU.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(iU.Long?(t.hashType=iU.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new iU.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(iU.Long?(t.fanout=iU.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new iU.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=iN.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=iU.newBuffer(r.Data))),iU.Long){var n=new iU.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(iU.Long){var n=new iU.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(iU.Long){var n=new iU.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?iN.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?iU.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?iU.Long.prototype.toString.call(e.filesize):t.longs===Number?new iU.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?iU.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new iU.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?iU.Long.prototype.toString.call(e.hashType):t.longs===Number?new iU.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?iU.Long.prototype.toString.call(e.fanout):t.longs===Number?new iU.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=iN.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,iI.default.util.toJSONOptions)},e.DataType=function(){let e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})();iN.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=iU.Long?iU.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=iL.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof iz||(e=iz.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new iN.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw iU.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof iN.UnixTime)return e;var t=new iN.UnixTime;return null!=e.Seconds&&(iU.Long?(t.Seconds=iU.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new iU.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(iU.Long){var n=new iU.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?iU.Long.prototype.toString.call(e.Seconds):t.longs===Number?new iU.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,iI.default.util.toJSONOptions)},e})(),iN.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=iL.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof iz||(e=iz.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new iN.Metadata;e.pos<r;){var i=e.uint32();i>>>3==1?n.MimeType=e.string():e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof iN.Metadata)return e;var t=new iN.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,iI.default.util.toJSONOptions)},e})();let iq=iF,iM=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],i$=["directory","hamt-sharded-directory"],iW=parseInt("0644",8),iH=parseInt("0755",8);function iV(e){if(null!=e)return"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function iG(e){let t;if(null!=e){if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-1e3*n)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>0x3b9ac9ff))throw(0,iO.default)(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}class iJ{static unmarshal(e){let t=iq.decode(e),r=iq.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),n=new iJ({type:iM[r.Type],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime?{secs:r.mtime.Seconds,nsecs:r.mtime.FractionalNanoseconds}:void 0});return n._originalMode=r.mode||0,n}constructor(e={type:"file"}){const{type:t,data:r,blockSizes:n,hashType:i,fanout:o,mtime:a,mode:s}=e;if(t&&!iM.includes(t))throw(0,iO.default)(Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=r,this.hashType=i,this.fanout=o,this.blockSizes=n||[],this._originalMode=0,this.mode=iV(s),a&&(this.mtime=iG(a),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?iH:iW;let t=iV(e);void 0!==t&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return!!(this.type&&i$.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(t=>{e+=t}),this.data&&(e+=this.data.length),e}marshal(){let e,t,r;switch(this.type){case"raw":e=iq.DataType.Raw;break;case"directory":e=iq.DataType.Directory;break;case"file":e=iq.DataType.File;break;case"metadata":e=iq.DataType.Metadata;break;case"symlink":e=iq.DataType.Symlink;break;case"hamt-sharded-directory":e=iq.DataType.HAMTShard;break;default:throw(0,iO.default)(Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let n=this.data;if(this.data&&this.data.length||(n=void 0),null!=this.mode&&((t=0xfffff000&this._originalMode|(iV(this.mode)||0))!==iW||this.isDirectory()||(t=void 0),t===iH&&this.isDirectory()&&(t=void 0)),null!=this.mtime){let e=iG(this.mtime);e&&0===(r={Seconds:e.secs,FractionalNanoseconds:e.nsecs}).FractionalNanoseconds&&delete r.FractionalNanoseconds}let i={Type:e,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r};return iq.encode(i).finish()}}var iK=iw;let iX=async(e,t,r)=>{r.codec||(r.codec=iK),r.hasher||(r.hasher=iT),void 0===r.cidVersion&&(r.cidVersion=1),r.codec===iK&&r.hasher!==iT&&(r.cidVersion=1);let n=await r.hasher.digest(e),i=ej.create(r.cidVersion,r.codec.code,n);return r.onlyHash||await t.put(i,e,{signal:r.signal}),i},iQ=async(e,t,r)=>{let n=new iJ({type:"directory",mtime:e.mtime,mode:e.mode}),i=ib(ic({Data:n.marshal()}));return{cid:await iX(i,t,r),path:e.path,unixfs:n,size:i.length}};var iY=iO,iZ=ix,i0=iw,i1=e.i(80051);let i8=async function(e,t){return t(await (0,i1.default)(e))};var i3=e.i(533369);async function i2(e,t,r){let n=[];for await(let i of(0,i3.default)(e,r.maxChildrenPerNode))n.push(await t(i));return n.length>1?i2(n,t,r):n[0]}let i4=function(e,t,r){return i2(e,t,r)};var i6=i3;let i5=async function(e,t,r){let n=new i9(r.layerRepeat),i=0,o=1,a=n;for await(let s of(0,i6.default)(e,r.maxChildrenPerNode))a.isFull()&&(a!==n&&n.addChild(await a.reduce(t)),i&&i%r.layerRepeat==0&&o++,a=new i7(o,r.layerRepeat,i),i++),a.append(s);return a&&a!==n&&n.addChild(await a.reduce(t)),n.reduce(t)};class i7{constructor(e,t,r=0){this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=r,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;let e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}_addNextNodeToParent(e){this.parent=e;let t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let r=[];return e.children.length&&(r=await Promise.all(e.children.filter(e=>e.data).map(e=>this._reduce(e,t)))),t((e.data||[]).concat(r))}_findParent(e,t){let r=e.parent;if(r&&0!==r.depth)return r.children.length!==r.maxChildren&&r.maxChildren?r:this._findParent(r,t)}}class i9 extends i7{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}var oe=iw,ot=nF;let or=async function*(e,t,r){for await(let n of e.content)yield async()=>{let i;r.progress(n.length,e.path);let o={codec:oe,cidVersion:r.cidVersion,hasher:r.hasher,onlyHash:r.onlyHash};return r.rawLeaves?(o.codec=ot,o.cidVersion=1):(i=new iJ({type:r.leafType,data:n}),n=oe.encode({Data:i.marshal(),Links:[]})),{cid:await iX(n,t,o),unixfs:i,size:n.length}}},on={flat:i8,balanced:i4,trickle:i5};async function*oi(e,t,r){let n,i,o=-1;for await(let a of(i="function"==typeof r.bufferImporter?r.bufferImporter:or,(0,iZ.default)(i(e,t,r),r.blockWriteConcurrency))){if(0==++o){n=a;continue}1===o&&n&&(yield n,n=null),yield a}n&&(n.single=!0,yield n)}let oo=(e,t,r)=>async function(n){if(1===n.length&&n[0].single&&r.reduceSingleLeafToSelf){let i=n[0];if(void 0!==e.mtime||void 0!==e.mode){let n=await t.get(i.cid);i.unixfs=new iJ({type:"file",mtime:e.mtime,mode:e.mode,data:n}),n=ib(ic({Data:i.unixfs.marshal()})),i.cid=await iX(n,t,{...r,codec:i0,hasher:r.hasher,cidVersion:r.cidVersion}),i.size=n.length}return{cid:i.cid,path:e.path,unixfs:i.unixfs,size:i.size}}let i=new iJ({type:"file",mtime:e.mtime,mode:e.mode}),o=n.filter(e=>!!(e.cid.code===nL&&e.size||e.unixfs&&!e.unixfs.data&&e.unixfs.fileSize())||!!(e.unixfs&&e.unixfs.data&&e.unixfs.data.length)).map(e=>(e.cid.code===nL?i.addBlockSize(e.size):e.unixfs&&e.unixfs.data?i.addBlockSize(e.unixfs.data.length):i.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0),{Name:"",Tsize:e.size,Hash:e.cid})),a={Data:i.marshal(),Links:o},s=ib(ic(a));return{cid:await iX(s,t,r),path:e.path,unixfs:i,size:s.length+a.Links.reduce((e,t)=>e+t.Tsize,0)}},oa=function(e,t,r){let n=on[r.strategy];if(!n)throw(0,iY.default)(Error(`Unknown importer build strategy name: ${r.strategy}`),"ERR_BAD_STRATEGY");return n(oi(e,t,r),oo(e,t,r),r)};var os=iO,ou=e.i(109047),ol=e.i(91109),oc=iO;let of=async function*(e,t){let r,n,i;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)i=t.avgChunkSize,r=t.minChunkSize,n=t.maxChunkSize;else if(t.avgChunkSize)r=(i=t.avgChunkSize)/3,n=i+i/2;else throw(0,oc.default)(Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(r<16)throw(0,oc.default)(Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");for await(let o of(n<r&&(n=r),i<r&&(i=r),oh(e,{min:r,max:n,bits:Math.floor(Math.log2(i)),window:t.window,polynomial:t.polynomial})))yield o};async function*oh(e,t){let r=await (0,ol.create)(t.bits,t.min,t.max,t.window),n=new ou.default;for await(let t of e){n.append(t);let e=r.fingerprint(t);for(let t=0;t<e.length;t++){let r=e[t],i=n.slice(0,r);n.consume(r),yield i}}n.length&&(yield n.slice(0))}var od=ou;let op=async function*(e,t){let r=new od.default,n=0,i=!1,o=t.maxChunkSize;for await(let t of e)for(r.append(t),n+=t.length;n>=o;)if(yield r.slice(0,o),i=!0,o===r.length)r=new od.default,n=0;else{let e=new od.default;e.append(r.shallowSlice(o)),r=e,n-=o}(!i||n)&&(yield r.slice(0,n))};var oy=iO;let om=ey({prefix:"\0",name:"identity",encode:e=>ei(e),decode:e=>en(e)});e.s(["identity",0,om],788189);var ob=e.i(788189);let og=ew({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});e.s(["base2",0,og],870439);var ow=e.i(870439);let oD=ew({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});e.s(["base8",0,oD],506853);var ov=e.i(506853);let o_=em({prefix:"9",name:"base10",alphabet:"0123456789"});e.s(["base10",0,o_],266447);var oE=e.i(266447);let ox=ew({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),oS=ew({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});e.s(["base16",0,ox,"base16upper",0,oS],947882);var oC=e.i(947882),oT=e.i(162001);let oA=em({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ok=em({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});e.s(["base36",0,oA,"base36upper",0,ok],578292);var oP=e.i(578292),oj=e.i(98538);let oR=ew({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),oB=ew({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),oO=ew({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oI=ew({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});e.s(["base64",0,oR,"base64pad",0,oB,"base64url",0,oO,"base64urlpad",0,oI],210220);var oz=e.i(210220);let oL=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),oU=oL.reduce((e,t,r)=>(e[r]=t,e),[]),oN=oL.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),oF=ey({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=oU[t],"")},decode:function(e){let t=[];for(let r of e){let e=oN[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});e.s(["base256emoji",0,oF],118816);var oq=e.i(118816),oM=e.i(406446);let o$=0,oW=et,oH=e=>eo(o$,oW(e)),oV={code:o$,name:"identity",encode:oW,digest:oH};e.s(["identity",0,oV],924114);var oG=e.i(924114);let oJ=new TextEncoder,oK=new TextDecoder,oX="json",oQ=512,oY=e=>oJ.encode(JSON.stringify(e)),oZ=e=>JSON.parse(oK.decode(e));e.s(["code",0,oQ,"decode",0,oZ,"encode",0,oY,"name",0,oX],581587),e.i(581587);var nk=nC;let o0={...ob,...ow,...ov,...oE,...oC,...oT,...oP,...oj,...oz,...oq};function o1(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function o8(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?o1(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function o3(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...oM,...oG});let o2=o3("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),o4=o3("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=o8((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),o6={utf8:o2,"utf-8":o2,hex:o0.base16,latin1:o4,ascii:o4,binary:o4,...o0};function o5(e,t="utf8"){let r=o6[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?o1(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}let o7=async function*(e){for await(let t of e){if(void 0===t.length)throw(0,oy.default)(Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof t||t instanceof String)yield o5(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else if(t instanceof Uint8Array)yield t;else throw(0,oy.default)(Error("Content was invalid"),"ERR_INVALID_CONTENT")}};function o9(e){return Symbol.iterator in e}function ae(e){return Symbol.asyncIterator in e}function at(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(o9(e))return async function*(){yield*e}();if(ae(e))return e}catch{}throw(0,os.default)(Error("Content was invalid"),"ERR_INVALID_CONTENT")}let ar=async function*(e,t,r){for await(let n of e)if(n.path&&("./"===n.path.substring(0,2)&&(r.wrapWithDirectory=!0),n.path=n.path.split("/").filter(e=>e&&"."!==e).join("/")),n.content){let e,i;e="function"==typeof r.chunker?r.chunker:"rabin"===r.chunker?of:op,i="function"==typeof r.chunkValidator?r.chunkValidator:o7;let o={path:n.path,mtime:n.mtime,mode:n.mode,content:e(i(at(n.content),r),r)};yield()=>oa(o,t,r)}else if(n.path){let e={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>iQ(e,t,r)}else throw Error("Import candidate must have content or path or both")};class an{constructor(e,t){this.options=t||{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime,this.cid=void 0,this.size=void 0}async put(e,t){}get(e){return Promise.resolve(this)}async *eachChildSeries(){}async *flush(e){}}let ai=an;class ao extends ai{constructor(e,t){super(e,t),this._children={}}async put(e,t){this.cid=void 0,this.size=void 0,this._children[e]=t}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async *eachChildSeries(){let e=Object.keys(this._children);for(let t=0;t<e.length;t++){let r=e[t];yield{key:r,child:this._children[r]}}}async *flush(e){let t=Object.keys(this._children),r=[];for(let n=0;n<t.length;n++){let i=this._children[t[n]];if(i instanceof ai)for await(let t of i.flush(e))i=t,yield i;null!=i.size&&i.cid&&r.push({Name:t[n],Tsize:i.size,Hash:i.cid})}let n=new iJ({type:"directory",mtime:this.mtime,mode:this.mode}),i={Data:n.marshal(),Links:r},o=ib(ic(i)),a=await iX(o,e,this.options),s=o.length+i.Links.reduce((e,t)=>e+(null==t.Tsize?0:t.Tsize),0);this.cid=a,this.size=s,yield{cid:a,unixfs:n,path:this.path,size:s}}}let aa=ao;var as=e.i(477766);class au extends ai{constructor(e,t){super(e,t),this._bucket=(0,as.createHAMT)({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async *eachChildSeries(){for await(let{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async *flush(e){for await(let t of ac(this._bucket,e,this,this.options))yield{...t,path:this.path}}}let al=au;async function*ac(e,t,r,n){let i=e._children,o=[],a=0;for(let e=0;e<i.length;e++){let r=i.get(e);if(!r)continue;let s=e.toString(16).toUpperCase().padStart(2,"0");if(r instanceof as.Bucket){let e;for await(let i of(await ac(r,t,null,n)))e=i;if(!e)throw Error("Could not flush sharded directory, no subshard found");o.push({Name:s,Tsize:e.size,Hash:e.cid}),a+=e.size}else if("function"==typeof r.value.flush){let e;for await(let n of r.value.flush(t))e=n,yield e;let n=s+r.key;o.push({Name:n,Tsize:e.size,Hash:e.cid}),a+=e.size}else{let e=r.value;if(!e.cid)continue;let t=s+r.key,n=e.size;o.push({Name:t,Tsize:n,Hash:e.cid}),a+=n}}let s=new iJ({type:"hamt-sharded-directory",data:Uint8Array.from(i.bitField().reverse()),fanout:e.tableSize(),hashType:n.hamtHashCode,mtime:r&&r.mtime,mode:r&&r.mode}),u=ib(ic({Data:s.marshal(),Links:o})),l=await iX(u,t,n),c=u.length+a;yield{cid:l,unixfs:s,size:c}}async function af(e,t,r,n){let i=t;t instanceof aa&&t.directChildrenCount()>=r&&(i=await ah(t,n));let o=i.parent;if(o){if(i!==t){if(e&&(e.parent=i),!i.parentKey)throw Error("No parent key found");await o.put(i.parentKey,i)}return af(i,o,r,n)}return i}async function ah(e,t){let r=new al({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(let{key:t,child:n}of e.eachChildSeries())await r.put(t,n);return r}let ad=af,ap=(e="")=>(e.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean);async function ay(e,t,r){let n=ap(e.path||""),i=n.length-1,o=t,a="";for(let s=0;s<n.length;s++){let u=n[s];a+=`${a?"/":""}${u}`;let l=s===i;if(o.dirty=!0,o.cid=void 0,o.size=void 0,l)await o.put(u,e),t=await ad(null,o,r.shardSplitThreshold,r);else{let e=await o.get(u);e&&e instanceof ai||(e=new aa({root:!1,dir:!0,parent:o,parentKey:u,path:a,dirty:!0,flat:!0,mtime:e&&e.unixfs&&e.unixfs.mtime,mode:e&&e.unixfs&&e.unixfs.mode},r)),await o.put(u,e),o=e}}return t}async function*am(e,t){if(!(e instanceof ai)){e&&e.unixfs&&e.unixfs.isDirectory()&&(yield e);return}yield*e.flush(t)}let ab=async function*(e,t,r){let n=new aa({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(let t of e)t&&(n=await ay(t,n,r),t.unixfs&&t.unixfs.isDirectory()||(yield t));if(r.wrapWithDirectory)yield*am(n,t);else for await(let e of n.eachChildSeries())e&&(yield*am(e.child,t))};async function*ag(e,t,r={}){let n,i,o,a=iB(r);for await(let s of(n="function"==typeof r.dagBuilder?r.dagBuilder:ar,i="function"==typeof r.treeBuilder?r.treeBuilder:ab,o=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e],i((0,ix.default)(n(o,t,a),a.fileImportConcurrency),t,a)))yield{cid:s.cid,path:s.path,unixfs:s.unixfs,size:s.size}}var aw=iO,aD=e.i(816461),av=e.i(682744),a_=e.i(598242),aE=i1,ax=e.i(480652);function aS(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function aC(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function aT(e){return"object"==typeof e&&(e.path||e.content)}let aA=e=>e&&"function"==typeof e.getReader;async function*ak(e){yield e}async function aP(e){if(aS(e))return ak(aj(e));if("string"==typeof e||e instanceof String)return ak(aj(e.toString()));if(aC(e))return(0,av.default)(e);if(aA(e)&&(e=(0,aD.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=(0,a_.default)(e),{value:r,done:n}=await t.peek();if(n)return ak(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return ak(Uint8Array.from(await (0,aE.default)(t)));if(aS(r)||"string"==typeof r||r instanceof String)return(0,ax.default)(t,aj)}throw(0,aw.default)(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function aj(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):o5(e.toString())}var aR=iO,aB=aD,aO=a_;async function*aI(e,t){if(null==e)throw(0,aR.default)(Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"==typeof e||e instanceof String)return void(yield az(e.toString(),t));if(aS(e)||aC(e))return void(yield az(e,t));if(aA(e)&&(e=(0,aB.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=(0,aO.default)(e),{value:n,done:i}=await r.peek();if(i)return void(yield{content:[]});if(r.push(n),Number.isInteger(n)||aS(n)||"string"==typeof n||n instanceof String)return void(yield az(r,t));throw(0,aR.default)(Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(aT(e))return void(yield az(e,t));throw(0,aR.default)(Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function az(e,t){let{path:r,mode:n,mtime:i,content:o}=e,a={path:r||"",mode:iV(n),mtime:iG(i)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function aL(e){return aI(e,aP)}var aU=iO,aN=aD,aF=a_,aq=ax;async function*aM(e,t){if("string"==typeof e||e instanceof String||aS(e)||aC(e)||e._readableState)throw(0,aU.default)(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(aA(e)&&(e=(0,aN.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=(0,aF.default)(e),{value:n,done:i}=await r.peek();if(i)return void(yield*[]);if(r.push(n),Number.isInteger(n))throw(0,aU.default)(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState)return void(yield*(0,aq.default)(r,e=>a$({content:e},t)));if(aS(n))return void(yield a$({content:r},t));if(aT(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||aA(n)||aC(n))return void(yield*(0,aq.default)(r,e=>a$(e,t)))}if(aT(e))throw(0,aU.default)(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw(0,aU.default)(Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function a$(e,t){let{path:r,mode:n,mtime:i,content:o}=e,a={path:r||"",mode:iV(n),mtime:iG(i)};return o?a.content=await t(o):r||(a.content=await t(e)),a}function aW(e){return aM(e,aP)}function aH(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function aV(e){return!!e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function aG(e){return"string"==typeof e||e instanceof String||aH(e)||aV(e)||"_readableState"in e}function aJ(e){return aG(e)?aL(e):aW(e)}var aK=iO;function aX(e){return e=e||Error("Not Found"),(0,aK.default)(e,"ERR_NOT_FOUND")}function aQ(e){return e=e||Error("Aborted"),(0,aK.default)(e,"ERR_ABORTED")}e.s(["abortedError",()=>aQ,"notFoundError",()=>aX],728102);var aY=e.i(728102),aZ=e.i(874645),a0=e.i(103527),a1=e.i(792541),a8=i1;let a3=(e,t)=>(async function*(){let r=await (0,a8.default)(e);yield*r.sort(t)})();class a2{open(){return Promise.reject(Error(".open is not implemented"))}close(){return Promise.reject(Error(".close is not implemented"))}put(e,t,r){return Promise.reject(Error(".put is not implemented"))}get(e,t){return Promise.reject(Error(".get is not implemented"))}has(e,t){return Promise.reject(Error(".has is not implemented"))}delete(e,t){return Promise.reject(Error(".delete is not implemented"))}async *putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async *getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async *deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(t,r){e.push({key:t,value:r})},delete(e){t.push(e)},commit:async r=>{await (0,aZ.default)(this.putMany(e,r)),e=[],await (0,aZ.default)(this.deleteMany(t,r)),t=[]}}}async *_all(e,t){throw Error("._all is not implemented")}async *_allKeys(e,t){throw Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(null!=e.prefix&&(r=(0,a0.default)(r,t=>t.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((e,t)=>(0,a0.default)(e,t),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((e,t)=>a3(e,t),r)),null!=e.offset){let t=0;r=(0,a0.default)(r,()=>t++>=(e.offset||0))}return null!=e.limit&&(r=(0,a1.default)(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(null!=e.prefix&&(r=(0,a0.default)(r,t=>t.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((e,t)=>(0,a0.default)(e,t),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((e,t)=>a3(e,t),r)),null!=e.offset){let t=0;r=(0,a0.default)(r,()=>t++>=e.offset)}return null!=e.limit&&(r=(0,a1.default)(r,e.limit)),r}}({...aY});class a4 extends a2{constructor(){super(),this.store=new Map}async *blocks(){for(let[e,t]of this.store.entries())yield{cid:ej.parse(e),bytes:t}}put(e,t){return this.store.set(e.toString(),t),Promise.resolve()}get(e){let t=this.store.get(e.toString());if(!t)throw Error(`block with cid ${e.toString()} no found`);return Promise.resolve(t)}has(e){return Promise.resolve(this.store.has(e.toString()))}close(){return this.store.clear(),Promise.resolve()}}let a6={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:iT,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function a5({input:e,blockstore:t,hasher:r,maxChunkSize:n,maxChildrenPerNode:i,wrapWithDirectory:o,rawLeaves:a}){let s;if(!e||Array.isArray(e)&&!e.length)throw Error("missing input file(s)");let u=t||new a4,l=await (0,i_.default)((0,iE.default)(aJ(e),e=>ag(e,u,{...a6,hasher:r||a6.hasher,maxChunkSize:n||a6.maxChunkSize,maxChildrenPerNode:i||a6.maxChildrenPerNode,wrapWithDirectory:!1!==o&&a6.wrapWithDirectory,rawLeaves:null==a?a6.rawLeaves:a})));if(!l||!l.cid)throw Error("given input could not be parsed correctly");let c=l.cid,{writer:f,out:h}=await nx.create([c]),d=h[Symbol.asyncIterator](),p=async()=>{for await(let e of u.blocks())await f.put(e);await f.close(),t||await u.close()};return{root:c,out:{[Symbol.asyncIterator](){if(null!=s)throw Error("Multiple iterator not supported");return s=p(),{async next(){let e=await d.next();return e.done&&await s,e}}}}}}var a7=e.i(309305),a9=nK,se=e.i(921517),st=e.i(524836),sr=e.i(406461),sn=C;let si={ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomdeleted:"application/atomdeleted+xml",atomsvc:"application/atomsvc+xml",dwd:"application/atsc-dwd+xml",held:"application/atsc-held+xml",rsat:"application/atsc-rsat+xml",bdoc:"application/bdoc",xcs:"application/calendar+xml",ccxml:"application/ccxml+xml",cdfx:"application/cdfx+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cu:"application/cu-seeme",mpd:"application/dash+xml",davmount:"application/davmount+xml",dbk:"application/docbook+xml",dssc:"application/dssc+der",xdssc:"application/dssc+xml",es:"application/ecmascript",ecma:"application/ecmascript",emma:"application/emma+xml",emotionml:"application/emotionml+xml",epub:"application/epub+zip",exi:"application/exi",fdt:"application/fdt+xml",pfr:"application/font-tdpfr",geojson:"application/geo+json",gml:"application/gml+xml",gpx:"application/gpx+xml",gxf:"application/gxf",gz:"application/gzip",hjson:"application/hjson",stk:"application/hyperstudio",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",its:"application/its+xml",jar:"application/java-archive",war:"application/java-archive",ear:"application/java-archive",ser:"application/java-serialized-object",class:"application/java-vm",js:"application/javascript",mjs:"application/javascript",json:"application/json",map:"application/json",json5:"application/json5",jsonml:"application/jsonml+json",jsonld:"application/ld+json",lgr:"application/lgr+xml",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mads:"application/mads+xml",webmanifest:"application/manifest+json",mrc:"application/marc",mrcx:"application/marcxml+xml",ma:"application/mathematica",nb:"application/mathematica",mb:"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",metalink:"application/metalink+xml",meta4:"application/metalink4+xml",mets:"application/mets+xml",maei:"application/mmt-aei+xml",musd:"application/mmt-usd+xml",mods:"application/mods+xml",m21:"application/mp21",mp21:"application/mp21",mp4s:"application/mp4",m4p:"application/mp4",doc:"application/msword",dot:"application/msword",mxf:"application/mxf",nq:"application/n-quads",nt:"application/n-triples",cjs:"application/node",bin:"application/octet-stream",dms:"application/octet-stream",lrf:"application/octet-stream",mar:"application/octet-stream",so:"application/octet-stream",dist:"application/octet-stream",distz:"application/octet-stream",pkg:"application/octet-stream",bpk:"application/octet-stream",dump:"application/octet-stream",elc:"application/octet-stream",deploy:"application/octet-stream",exe:"application/octet-stream",dll:"application/octet-stream",deb:"application/octet-stream",dmg:"application/octet-stream",iso:"application/octet-stream",img:"application/octet-stream",msi:"application/octet-stream",msp:"application/octet-stream",msm:"application/octet-stream",buffer:"application/octet-stream",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg",omdoc:"application/omdoc+xml",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",oxps:"application/oxps",relo:"application/p2p-overlay+xml",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted",asc:"application/pgp-signature",sig:"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10",p7m:"application/pkcs7-mime",p7c:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",ac:"application/pkix-attr-cert",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",provx:"application/provenance+xml",cww:"application/prs.cww",pskcxml:"application/pskc+xml",raml:"application/raml+yaml",rdf:"application/rdf+xml",owl:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",rapd:"application/route-apd+xml",sls:"application/route-s-tsid+xml",rusd:"application/route-usd+xml",gbr:"application/rpki-ghostbusters",mft:"application/rpki-manifest",roa:"application/rpki-roa",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",senmlx:"application/senml+xml",sensmlx:"application/sensml+xml",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml",siv:"application/sieve",sieve:"application/sieve",smi:"application/smil+xml",smil:"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",sru:"application/sru+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",swidtag:"application/swid+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",tfi:"application/thraud+xml",tsd:"application/timestamped-data",toml:"application/toml",trig:"application/trig",ttml:"application/ttml+xml",ubj:"application/ubjson",rsheet:"application/urc-ressheet+xml",td:"application/urc-targetdesc+xml",vxml:"application/voicexml+xml",wasm:"application/wasm",wgt:"application/widget",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",xaml:"application/xaml+xml",xav:"application/xcap-att+xml",xca:"application/xcap-caps+xml",xdf:"application/xcap-diff+xml",xel:"application/xcap-el+xml",xns:"application/xcap-ns+xml",xenc:"application/xenc+xml",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xlf:"application/xliff+xml",xml:"application/xml",xsl:"application/xml",xsd:"application/xml",rng:"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xpl:"application/xproc+xml",xslt:"application/xml",xspf:"application/xspf+xml",mxml:"application/xv+xml",xhvml:"application/xv+xml",xvml:"application/xv+xml",xvm:"application/xv+xml",yang:"application/yang",yin:"application/yin+xml",zip:"application/zip","3gpp":"video/3gpp",adp:"audio/adpcm",amr:"audio/amr",au:"audio/basic",snd:"audio/basic",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",rmi:"audio/midi",mxmf:"audio/mobile-xmf",mp3:"audio/mpeg",m4a:"audio/mp4",mp4a:"audio/mp4",mpga:"audio/mpeg",mp2:"audio/mpeg",mp2a:"audio/mpeg",m2a:"audio/mpeg",m3a:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",spx:"audio/ogg",opus:"audio/ogg",s3m:"audio/s3m",sil:"audio/silk",wav:"audio/wav",weba:"audio/webm",xm:"audio/xm",ttc:"font/collection",otf:"font/otf",ttf:"font/ttf",woff:"font/woff",woff2:"font/woff2",exr:"image/aces",apng:"image/apng",avif:"image/avif",bmp:"image/bmp",cgm:"image/cgm",drle:"image/dicom-rle",emf:"image/emf",fits:"image/fits",g3:"image/g3fax",gif:"image/gif",heic:"image/heic",heics:"image/heic-sequence",heif:"image/heif",heifs:"image/heif-sequence",hej2:"image/hej2k",hsj2:"image/hsj2",ief:"image/ief",jls:"image/jls",jp2:"image/jp2",jpg2:"image/jp2",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",jph:"image/jph",jhc:"image/jphc",jpm:"image/jpm",jpx:"image/jpx",jpf:"image/jpx",jxr:"image/jxr",jxra:"image/jxra",jxrs:"image/jxrs",jxs:"image/jxs",jxsc:"image/jxsc",jxsi:"image/jxsi",jxss:"image/jxss",ktx:"image/ktx",ktx2:"image/ktx2",png:"image/png",btif:"image/prs.btif",pti:"image/prs.pti",sgi:"image/sgi",svg:"image/svg+xml",svgz:"image/svg+xml",t38:"image/t38",tif:"image/tiff",tiff:"image/tiff",tfx:"image/tiff-fx",webp:"image/webp",wmf:"image/wmf","disposition-notification":"message/disposition-notification",u8msg:"message/global",u8dsn:"message/global-delivery-status",u8mdn:"message/global-disposition-notification",u8hdr:"message/global-headers",eml:"message/rfc822",mime:"message/rfc822","3mf":"model/3mf",gltf:"model/gltf+json",glb:"model/gltf-binary",igs:"model/iges",iges:"model/iges",msh:"model/mesh",mesh:"model/mesh",silo:"model/mesh",mtl:"model/mtl",obj:"model/obj",stpz:"model/step+zip",stpxz:"model/step-xml+zip",stl:"model/stl",wrl:"model/vrml",vrml:"model/vrml",x3db:"model/x3d+fastinfoset",x3dbz:"model/x3d+binary",x3dv:"model/x3d-vrml",x3dvz:"model/x3d+vrml",x3d:"model/x3d+xml",x3dz:"model/x3d+xml",appcache:"text/cache-manifest",manifest:"text/cache-manifest",ics:"text/calendar",ifb:"text/calendar",coffee:"text/coffeescript",litcoffee:"text/coffeescript",css:"text/css",csv:"text/csv",html:"text/html",htm:"text/html",shtml:"text/html",jade:"text/jade",jsx:"text/jsx",less:"text/less",markdown:"text/markdown",md:"text/markdown",mml:"text/mathml",mdx:"text/mdx",n3:"text/n3",txt:"text/plain",text:"text/plain",conf:"text/plain",def:"text/plain",list:"text/plain",log:"text/plain",in:"text/plain",ini:"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext",sgml:"text/sgml",sgm:"text/sgml",shex:"text/shex",slim:"text/slim",slm:"text/slim",spdx:"text/spdx",stylus:"text/stylus",styl:"text/stylus",tsv:"text/tab-separated-values",t:"text/troff",tr:"text/troff",roff:"text/troff",man:"text/troff",me:"text/troff",ms:"text/troff",ttl:"text/turtle",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",vtt:"text/vtt",yaml:"text/yaml",yml:"text/yaml","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",m4s:"video/iso.segment",jpgv:"video/jpeg",jpgm:"image/jpm",mj2:"video/mj2",mjp2:"video/mj2",ts:"video/mp2t",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg",ogv:"video/ogg",qt:"video/quicktime",mov:"video/quicktime",webm:"video/webm"};function so(e){let t=(""+e).trim().toLowerCase(),r=t.lastIndexOf(".");return si[!~r?t:t.substring(++r)]}var sa=e.i(341902),ss=e.i(500874),su=nS,sl=T;let sc=TextEncoder,sf=TextDecoder,{ReadableStream:sh,ReadableStreamDefaultReader:sd,ReadableStreamBYOBReader:sp,ReadableStreamBYOBRequest:sy,ReadableByteStreamController:sm,ReadableStreamDefaultController:sb,TransformStream:sg,TransformStreamDefaultController:sw,WritableStream:sD,WritableStreamDefaultWriter:sv,WritableStreamDefaultController:s_,ByteLengthQueuingStrategy:sE,CountQueuingStrategy:sx,TextEncoderStream:sS,TextDecoderStream:sC}=e.i(221023).default,sT=class e{constructor(e=[],t={}){const r=[];let n=0;for(const t of e)if("string"==typeof t){const e=new sc().encode(t);r.push(e),n+=e.byteLength}else if(t instanceof sT)n+=t.size,r.push(...t._parts);else if(t instanceof ArrayBuffer)r.push(new Uint8Array(t)),n+=t.byteLength;else if(t instanceof Uint8Array)r.push(t),n+=t.byteLength;else if(ArrayBuffer.isView(t)){const{buffer:e,byteOffset:i,byteLength:o}=t;r.push(new Uint8Array(e,i,o)),n+=o}else{const e=new sc().encode(String(t));r.push(e),n+=e.byteLength}this._size=n,this._type=sj(t.type),this._parts=r,Object.defineProperties(this,{_size:{enumerable:!1},_type:{enumerable:!1},_parts:{enumerable:!1}})}get type(){return this._type}get size(){return this._size}slice(t=0,r=this.size,n=""){let{size:i,_parts:o}=this,a=t<0?Math.max(i+t,0):Math.min(t,i),s=r<0?Math.max(i+r,0):Math.min(r,i),u=Math.max(s-a,0),l=new e([],{type:n});if(0===u)return l;let c=0,f=[];for(let e of o){let{byteLength:t}=e;if(a>0&&t<=a)a-=t,s-=t;else{let r=e.subarray(a,Math.min(t,s));if(f.push(r),c+=r.byteLength,a=0,c>=u)break}}return l._parts=f,l._size=c,l}async arrayBuffer(){let e=new ArrayBuffer(this.size),t=new Uint8Array(e),r=0;for(let e of this._parts)t.set(e,r),r+=e.byteLength;return e}async text(){let e=new sf,t="";for(let r of this._parts)t+=e.decode(r);return t}stream(){return new sk(this._parts)}toString(){return"[object Blob]"}get[Symbol.toStringTag](){return"Blob"}},sA=sT;class sk extends sh{constructor(e){super(new sP(e.values()),{type:"bytes"}),this._chunks=e}async *[Symbol.asyncIterator](e){let t=this.getReader();yield*this._chunks,t.releaseLock()}}class sP{constructor(e){this.chunks=e}start(e){this.work(e),this.isWorking=!1,this.isCancelled=!1}async work(e){let{chunks:t}=this;for(this.isWorking=!0;!this.isCancelled&&(e.desiredSize||0)>0;){let r=null;try{r=t.next()}catch(t){e.error(t);break}r&&(r.done||this.isCancelled?e.close():e.enqueue(r.value))}this.isWorking=!1}pull(e){this.isWorking||this.work(e)}cancel(){this.isCancelled=!0}}let sj=(e="")=>{let t=String(e).toLowerCase();return/[^\u0020-\u007E]/.test(t)?"":t},sR=globalThis.Blob||sA;class sB extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class sO extends sB{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}var sI=iC;function sz(e){let t=unescape(encodeURIComponent(e));return Uint8Array.from(t,(e,r)=>t.charCodeAt(r))}function sL(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}function sU(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function sN(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function sF(e){return e instanceof Uint8Array?t=>e[t]:e}function sq(e,t,r,n,i){let o=sF(e),a=sF(r);for(let e=0;e<i;++e)if(o(t+e)!==a(n+e))return!1;return!0}function sM(e){let t=Array(256).fill(e.length);if(e.length>1)for(let r=0;r<e.length-1;r++)t[e[r]]=e.length-1-r;return t}let s$=Symbol("Match");class sW{constructor(e){this._lookbehind=new Uint8Array,"string"==typeof e?this._needle=e=sz(e):this._needle=e,this._lastChar=e[e.length-1],this._occ=sM(e)}feed(e){let t,r=0,n=[];for(;r!==e.length;)[r,...t]=this._feed(e,r),n.push(...t);return n}end(){let e=this._lookbehind;return this._lookbehind=new Uint8Array,e}_feed(e,t){let r=[],n=-this._lookbehind.length;if(n<0){for(;n<0&&n<=e.length-this._needle.length;){let t=this._charAt(e,n+this._needle.length-1);if(t===this._lastChar&&this._memcmp(e,n,this._needle.length-1))return n>-this._lookbehind.length&&r.push(this._lookbehind.slice(0,this._lookbehind.length+n)),r.push(s$),this._lookbehind=new Uint8Array,[n+this._needle.length,...r];n+=this._occ[t]}if(n<0)for(;n<0&&!this._memcmp(e,n,e.length-n);)n++;if(n>=0)r.push(this._lookbehind),this._lookbehind=new Uint8Array;else{let t=this._lookbehind.length+n;return t>0&&(r.push(this._lookbehind.slice(0,t)),this._lookbehind=this._lookbehind.slice(t)),this._lookbehind=Uint8Array.from(Array(this._lookbehind.length+e.length),(t,r)=>this._charAt(e,r-this._lookbehind.length)),[e.length,...r]}}for(n+=t;n<=e.length-this._needle.length;){let i=e[n+this._needle.length-1];if(i===this._lastChar&&e[n]===this._needle[0]&&sq(this._needle,0,e,n,this._needle.length-1))return n>t&&r.push(e.slice(t,n)),r.push(s$),[n+this._needle.length,...r];n+=this._occ[i]}if(n<e.length){for(;n<e.length&&(e[n]!==this._needle[0]||!sq(e,n,this._needle,0,e.length-n));)++n;n<e.length&&(this._lookbehind=e.slice(n))}return n>0&&r.push(e.slice(t,n<e.length?n:e.length)),[e.length,...r]}_charAt(e,t){return t<0?this._lookbehind[this._lookbehind.length+t]:e[t]}_memcmp(e,t,r){return sq(this._charAt.bind(this,e),t,this._needle,0,r)}}class sH{constructor(e,t){this._readableStream=t,this._search=new sW(e)}async *[Symbol.asyncIterator](){let e=this._readableStream.getReader();try{for(;;){let t=await e.read();if(t.done)break;yield*this._search.feed(t.value)}let t=this._search.end();t.length&&(yield t)}finally{e.releaseLock()}}}Symbol("End of Queue");let sV=Function.prototype.apply.bind(sU,void 0),sG=sz("--"),sJ=sz("\r\n");function sK(e){let t=e.split(";").map(e=>e.trim());if("form-data"!==t.shift())throw Error('malformed content-disposition header: missing "form-data" in `'+JSON.stringify(t)+"`");let r={};for(let n of t){let t=n.split("=",2);if(2!==t.length)throw Error("malformed content-disposition header: key-value pair not found - "+n+" in `"+e+"`");let[i,o]=t;if('"'===o[0]&&'"'===o[o.length-1])r[i]=o.slice(1,-1).replace(/\\"/g,'"');else if('"'!==o[0]&&'"'!==o[o.length-1])r[i]=o;else if('"'===o[0]&&'"'!==o[o.length-1]||'"'!==o[0]&&'"'===o[o.length-1])throw Error("malformed content-disposition header: mismatched quotations in `"+e+"`")}if(!r.name)throw Error("malformed content-disposition header: missing field name in `"+e+"`");return r}function sX(e){let t,r=[],n=!1;for(;void 0!==(t=e.shift());){let e=t.indexOf(":");if(-1===e)throw Error("malformed multipart-form header: missing colon");let i=t.slice(0,e).trim().toLowerCase(),o=t.slice(e+1).trim();switch(i){case"content-disposition":n=!0,r.push(...Object.entries(sK(o)));break;case"content-type":r.push(["contentType",o])}}if(!n)throw Error("malformed multipart-form header: missing content-disposition");return Object.fromEntries(r)}async function sQ(e,t){let r=!0,n=!1,i=[[]],o=new sW(sJ);for(;;){let a,s=await e.next();if(s.done)throw Error("malformed multipart-form data: unexpected end of stream");if(r&&s.value!==s$&&sN(s.value.slice(0,2),sG))return[void 0,new Uint8Array];if(s.value!==s$)a=s.value;else if(n)throw Error("malformed multipart-form data: unexpected boundary");else a=t;if(!a.length)continue;r&&(r=!1);let u=o.feed(a);for(let[e,t]of u.entries()){let r=t===s$;if(r||t.length){if(n&&r)return u.push(o.end()),[i.filter(e=>e.length).map(sV).map(sL),sU(...u.slice(e+1).map(e=>e===s$?sJ:e))];(n=r)?i.push([]):i[i.length-1].push(t)}}}}async function*sY(e,t){let r=sU(sG,sz(t)),n=new sH(r,e)[Symbol.asyncIterator]();for(;;){let e=await n.next();if(e.done)return;if(e.value===s$)break}let i=new sW(sJ);for(;;){let[e,t]=await sQ(n,r);if(!e)return;async function o(){let e=await n.next();if(e.done)throw Error("malformed multipart-form data: unexpected end of stream");return e}let u=!1;function a(e){let t=[];for(let r of i.feed(e))u&&t.push(sJ),(u=r===s$)||t.push(r);return sU(...t)}let l=!1;async function s(){let e,t=await o();if(t.value!==s$)e=t.value;else{if(u)return l=!0,{value:i.end()};e=sJ}return{value:a(e)}}let c=[{value:a(t)}];for(yield{...sX(e),data:{[Symbol.asyncIterator](){return this},async next(){for(;;){let e=c.shift();if(!e)break;if(e.value.length>0)return e}for(;;){if(l)return{done:l,value:void 0};let e=await s();if(e.value.length>0)return e}}}};!l;)c.push(await s())}}async function*sZ(e,t){for await(let r of sY(e,t)){let e=[];for await(let t of r.data)e.push(t);yield{...r,data:sU(...e)}}}class s0{constructor(e){if(this._entries=[],Object.defineProperty(this,"_entries",{enumerable:!1}),s1(e))for(const t of e.elements)if(s5(t))for(const e of t.options)e.selected&&this.append(t.name,e.value);else s7(t)&&(t.checked||!["radio","checkbox"].includes(t.type))&&t.name&&this.append(t.name,t.value)}get[Symbol.toStringTag](){return"FormData"}append(e,t=s6(TypeError("FormData.append: requires at least 2 arguments")),r){this._entries.push([e,s8(t,r)])}delete(e=s6(TypeError("FormData.delete: requires string argument"))){let t=this._entries,r=0;for(;r<t.length;){let[n]=t[r];n===e?t.splice(r,1):r++}}get(e=s6(TypeError("FormData.get: requires string argument"))){for(let[t,r]of this._entries)if(t===e)return r;return null}getAll(e=s6(TypeError("FormData.getAll: requires string argument"))){let t=[];for(let[r,n]of this._entries)r===e&&t.push(n);return t}has(e=s6(TypeError("FormData.has: requires string argument"))){for(let[t]of this._entries)if(t===e)return!0;return!1}set(e,t=s6(TypeError("FormData.set: requires at least 2 arguments")),r){let n=0,{_entries:i}=this,o=s8(t,r),a=!1;for(;n<i.length;){let t=i[n];t[0]===e?a?i.splice(n,1):(a=!0,t[1]=o,n++):n++}a||i.push([e,o])}entries(){return this._entries.values()}*keys(){for(let[e]of this._entries)yield e}*values(){for(let[e,t]of this._entries)yield t}[Symbol.iterator](){return this._entries.values()}forEach(e,t){for(let[r,n]of this._entries)e.call(t,n,r,this)}}let s1=e=>"[object HTMLFormElement]"===Object.prototype.toString.call(e),s8=(e,t)=>{if(s3(e))return null!=t?new s4([e],t,e):e;if(s2(e))return new s4([e],null!=t?t:"blob");if(null!=t&&""!=t)throw TypeError("filename is only supported when value is Blob or File");return`${e}`},s3=e=>"[object File]"===Object.prototype.toString.call(e)&&"string"==typeof e.name,s2=e=>"[object Blob]"===Object.prototype.toString.call(e),s4=class{constructor([e],t,{lastModified:r=Date.now()}={}){this.blob=e,this.name=t,this.lastModified=r}get webkitRelativePath(){return""}get size(){return this.blob.size}get type(){return this.blob.type}slice(e,t,r){return this.blob.slice(e,t,r)}stream(){return this.blob.stream()}text(){return this.blob.text()}arrayBuffer(){return this.blob.arrayBuffer()}get[Symbol.toStringTag](){return"File"}},s6=e=>{throw e};function s5(e){return"SELECT"===e.tagName}function s7(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}let s9="function"==typeof globalThis.FormData?globalThis.FormData:s0;class ue extends sR{constructor(e,t=ut(TypeError("File constructor requires name argument")),r={}){super(e,r),this._name=t,this._lastModified=r.lastModified||Date.now()}get name(){return this._name}get webkitRelativePath(){return""}get lastModified(){return this._lastModified}get[Symbol.toStringTag](){return"File"}}let ut=e=>{throw e},ur="function"==typeof globalThis.File?globalThis.File:ue;var un=nS;let ui=Symbol.toStringTag,uo=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[ui],ua=e=>"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[ui]);function us(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.delete&&"function"==typeof e.keys&&"function"==typeof e.values&&"function"==typeof e.entries&&"function"==typeof e.constructor&&"FormData"===e[ui]}let uu=e=>e instanceof un.default==!0&&"function"==typeof e.getBoundary&&"function"==typeof e.hasKnownLength&&"function"==typeof e.getLengthSync,ul=e=>"object"==typeof e&&("AbortSignal"===e[ui]||"EventTarget"===e[ui]),uc=e=>"object"==typeof e&&"function"==typeof e.getReader&&"function"==typeof e.cancel&&"function"==typeof e.tee,uf=e=>e&&Symbol.iterator in e,uh="\r\n",ud="-".repeat(2),up=Buffer.byteLength(uh),uy=e=>`${ud}${e}${ud}${uh.repeat(2)}`;function um(e,t,r){let n="";if(n+=`${ud}${e}${uh}Content-Disposition: form-data; name="${t}"`,ua(r)){let{name:e="blob",type:t}=r;n+=`; filename="${e}"${uh}Content-Type: ${t||"application/octet-stream"}`}return`${n}${uh.repeat(2)}`}let ub=()=>(0,sI.randomBytes)(8).toString("hex");async function*ug(e,t){let r=new TextEncoder;for(let[n,i]of e)yield r.encode(um(t,n,i)),ua(i)?yield*i.stream():yield r.encode(i),yield r.encode(uh);yield r.encode(uy(t))}function uw(e,t){let r=0;for(let[n,i]of e)r+=Buffer.byteLength(um(t,n,i)),ua(i)?r+=i.size:r+=Buffer.byteLength(String(i)),r+=up;return r+Buffer.byteLength(uy(t))}let uD=async e=>{let{body:t,headers:r}=e,n=r?.get("Content-Type")||"";if(n.startsWith("application/x-www-form-urlencoded")&&null!=t){let t=new s9;return new URLSearchParams(await e.text()).forEach((e,r)=>t.append(r,e)),t}let[i,o]=n.split(/\s*;\s*boundary=/);if("multipart/form-data"===i&&null!=o&&null!=t){let e=new s9;for await(let{name:r,data:n,filename:i,contentType:a}of sZ(t,o))"string"==typeof i?e.append(r,new ur([n],i,{type:a})):void 0!==i?e.append(r,new ur([],"",{type:a})):e.append(r,new TextDecoder().decode(n),i);return e}throw TypeError("Could not parse content as FormData.")};var uv=T;let u_=new uv.TextEncoder,uE=new uv.TextDecoder,ux=e=>u_.encode(e),uS=e=>uE.decode(e),{readableHighWaterMark:uC}=new su.default.Readable,uT=Symbol("Body internals");class uA{constructor(e,{size:t=0}={}){const r={body:null,type:null,size:null,boundary:null,disturbed:!1,error:null};if(this[uT]=r,null===e)r.body=null,r.size=0;else if(uo(e)){const t=ux(e.toString());r.body=uL(t),r.size=t.byteLength,r.type="application/x-www-form-urlencoded;charset=UTF-8"}else if(ua(e))r.size=e.size,r.type=e.type||null,r.body=e.stream();else if(e instanceof Uint8Array)r.body=uL(e),r.size=e.byteLength;else if(sl.types.isAnyArrayBuffer(e)){const t=new Uint8Array(e);r.body=uL(t),r.size=t.byteLength}else if(ArrayBuffer.isView(e)){const t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.body=uL(t),r.size=t.byteLength}else if(uc(e))r.body=e;else if(us(e)){const t=`NodeFetchFormDataBoundary${ub()}`;r.type=`multipart/form-data; boundary=${t}`,r.size=uw(e,t),r.body=uU(ug(e,t))}else if(uu(e))r.type=`multipart/form-data; boundary=${e.getBoundary()}`,r.size=e.hasKnownLength()?e.getLengthSync():null,r.body=uF(e);else if(e instanceof su.default)r.body=uF(e);else{const t=ux(String(e));r.type="text/plain;charset=UTF-8",r.size=t.byteLength,r.body=uL(t)}this.size=t}get headers(){throw TypeError("'get headers' called on an object that does not implements interface.")}get body(){return this[uT].body}get bodyUsed(){return this[uT].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await uk(this);return e.slice(t,t+r)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[uT].body&&this[uT].type||"";return new sR([await uk(this)],{type:e})}async json(){return JSON.parse(await this.text())}async text(){return uS(await uk(this))}async formData(){return uD(this)}}async function uk(e){let t=e[uT];if(t.disturbed)throw TypeError(`body used already for: ${e.url}`);if(t.disturbed=!0,t.error)throw t.error;let{body:r}=t;if(null===r)return new Uint8Array(0);let[n,i,o]=e.size>0?[new Uint8Array(e.size),[],e.size]:[null,[],1/0],a=0,s=uI(r);try{for await(let t of s){let r=t instanceof Uint8Array?t:Buffer.from(t);if(a+r.byteLength>o){let t=new sO(`content size at ${e.url} over limit: ${o}`,"max-size");throw s.throw(t),t}n?n.set(r,a):i.push(r),a+=r.byteLength}if(!n)return uz(new Uint8Array(a),i);if(!(a<n.byteLength))return n;throw new sO(`Premature close of server response while trying to fetch ${e.url}`,"premature-close")}catch(t){if(t instanceof sB)throw t;if(t&&"AbortError"===t.name)throw t;{let r=t;throw new sO(`Invalid response body while trying to fetch ${e.url}: ${r.message}`,"system",r)}}}Object.defineProperties(uA.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},formData:{enumerable:!0}});let uP=e=>{let{body:t}=e;if(e.bodyUsed)throw Error("cannot clone body after it is used");if(!t)return null;let[r,n]=t.tee();return e[uT].body=r,n},uj=e=>e[uT].type,uR=e=>e[uT].size,uB=(e,{body:t})=>{null===t?e.end():su.default.Readable.from(uI(t)).pipe(e)};class uO{constructor(e){this.stream=e,this.reader=null}[Symbol.asyncIterator](){return this}getReader(){if(this.reader)return this.reader;let e=this.stream.getReader();return this.reader=e,e}next(){return this.getReader().read()}async return(){return this.reader&&await this.reader.cancel(),{done:!0,value:void 0}}async throw(e){return await this.getReader().cancel(e),{done:!0,value:void 0}}}let uI=e=>new uO(e),uz=(e,t)=>{let r=0;for(let n of t)e.set(n,r),r+=n.byteLength;return e},uL=e=>new sh({start(t){t.enqueue(e),t.close()}}),uU=e=>new sh(new uN(e));class uN{constructor(e){this.source=e[Symbol.asyncIterator]()}async pull(e){try{for(;e.desiredSize;){let t=await this.source.next();if(t.done){e.close();break}e.enqueue(t.value)}}catch(t){e.error(t)}}cancel(e){e&&"function"==typeof this.source.throw?this.source.throw(e):"function"==typeof this.source.return&&this.source.return()}}let uF=e=>{let t=new uq(e);return new sh(t,t)};class uq{constructor(e){this.highWaterMark=e.readableHighWaterMark||uC,this.accumalatedSize=0,this.stream=e,this.enqueue=this.enqueue.bind(this),this.error=this.error.bind(this),this.close=this.close.bind(this)}size(e){return e?.byteLength||0}start(e){this.controller=e,this.stream.on("data",this.enqueue),this.stream.once("error",this.error),this.stream.once("end",this.close),this.stream.once("close",this.close)}pull(){this.resume()}cancel(e){this.stream.destroy&&this.stream.destroy(e),this.stream.off("data",this.enqueue),this.stream.off("error",this.error),this.stream.off("end",this.close),this.stream.off("close",this.close)}enqueue(e){if(this.controller)try{let t=e instanceof Uint8Array?e:Buffer.from(e),r=(this.controller.desiredSize||0)-t.byteLength;this.controller.enqueue(t),r<=0&&this.pause()}catch{this.controller.error(Error("Could not create Buffer, chunk must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object")),this.cancel()}}pause(){this.stream.pause&&this.stream.pause()}resume(){this.stream.readable&&this.stream.resume&&this.stream.resume()}close(){this.controller&&(this.controller.close(),delete this.controller)}error(e){this.controller&&(this.controller.error(e),delete this.controller)}}var uM=T;let u$=se.default,uW="function"==typeof u$.validateHeaderName?u$.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},uH="function"==typeof u$.validateHeaderValue?u$.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let t=TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class uV extends URLSearchParams{constructor(e){let t=[];if(e instanceof uV)for(const[r,n]of Object.entries(e.raw()))t.push(...n.map(e=>[r,e]));else if(null==e);else if(uf(e))t=[...e].map(e=>{if("object"!=typeof e||uM.types.isBoxedPrimitive(e))throw TypeError("Each header pair must be an iterable object");return[...e]}).map(e=>{if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");return[...e]});else if("object"==typeof e&&null!==e)t.push(...Object.entries(e));else throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return super(t=t.length>0?t.map(([e,t])=>(uW(e),uH(e,String(t)),[String(e).toLowerCase(),String(t)])):[]),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(e,n)=>(uW(e),uH(e,String(n)),URLSearchParams.prototype[t].call(r,String(e).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return e=>(uW(e),URLSearchParams.prototype[t].call(r,String(e).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(let r of this.keys())if("set-cookie"===r.toLowerCase()){let n=this.getAll(r);for(;n.length>0;)Reflect.apply(e,t,[n.shift(),r,this])}else Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(let e of this.keys())if("set-cookie"===e.toLowerCase()){let t=this.getAll(e);for(;t.length>0;)yield t.shift()}else yield this.get(e)}*entries(){for(let e of this.keys())if("set-cookie"===e.toLowerCase()){let t=this.getAll(e);for(;t.length>0;)yield[e,t.shift()]}else yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let r=this.getAll(t);return"host"===t?e[t]=r[0]:e[t]=r.length>1?r:r[0],e},{})}}function uG(e=[]){return new uV(e.reduce((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e),[]).filter(([e,t])=>{try{return uW(e),uH(e,String(t)),!0}catch{return!1}}))}Object.defineProperties(uV.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));let uJ=new Set([301,302,303,307,308]),uK=e=>uJ.has(e),uX=Symbol("Response internals");class uQ extends uA{constructor(e=null,t={}){super(e,t);const r=t.status||200,n=new uV(t.headers);if(null!==e&&!n.has("Content-Type")){const e=uj(this);e&&n.append("Content-Type",e)}this[uX]={url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter||0,highWaterMark:t.highWaterMark}}get type(){return"default"}get url(){return this[uX].url||""}get status(){return this[uX].status}get ok(){return this[uX].status>=200&&this[uX].status<300}get redirected(){return this[uX].counter>0}get statusText(){return this[uX].statusText}get headers(){return this[uX].headers}get highWaterMark(){return this[uX].highWaterMark}clone(){return new uQ(uP(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,size:this.size})}static redirect(e,t=302){if(!uK(t))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new uQ(null,{headers:{location:new URL(e).toString()},status:t})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(uQ.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var uY=e.i(792509),uZ=e.i(337282);let u0=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""},u1=Symbol("Request internals"),u8=new Set(["CONNECT","TRACE","TRACK"]),u3=new Set(["DELETE","GET","HEAD","OPTIONS","POST","PUT"]),u2=e=>"object"==typeof e&&"object"==typeof e[u1];class u4 extends uA{constructor(e,t={}){let r,n;u2(e)?(r=new URL(e.url),n=e):(r=new URL(e),n={});let i=t.method||n.method||"GET";if(u8.has(i.toUpperCase()))throw TypeError(`Failed to construct 'Request': '${i}' HTTP method is unsupported.`);u3.has(i.toUpperCase())&&(i=i.toUpperCase());const o=null!=t.body?t.body:u2(e)&&null!==e.body?uP(e):null;if(null!=o&&("GET"===i||"HEAD"===i))throw TypeError("Request with GET/HEAD method cannot have body");super(o,{size:t.size||n.size||0});const a=n,s=new uV(t.headers||a.headers||{});if(null!==o&&!s.has("Content-Type")){const e=uj(this);e&&s.append("Content-Type",e)}let u="signal"in t?t.signal:u2(a)?a.signal:null;if(null!=u&&!ul(u))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");u||(u=new("undefined"!=typeof AbortController?AbortController:uZ.AbortController)().signal),this[u1]={method:i,redirect:t.redirect||a.redirect||"follow",headers:s,credentials:t.credentials||"same-origin",parsedURL:r,signal:u||null},this.keepalive,this.follow=void 0===t.follow?void 0===a.follow?20:a.follow:t.follow,this.compress=void 0===t.compress?void 0===a.compress||a.compress:t.compress,this.counter=t.counter||a.counter||0,this.agent=t.agent||a.agent,this.highWaterMark=t.highWaterMark||a.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||a.insecureHTTPParser||!1}get cache(){return"default"}get credentials(){return this[u1].credentials}get destination(){return""}get integrity(){return""}get mode(){return"cors"}get referrer(){return""}get referrerPolicy(){return""}get method(){return this[u1].method}get url(){return(0,uY.format)(this[u1].parsedURL)}get headers(){return this[u1].headers}get redirect(){return this[u1].redirect}get signal(){return this[u1].signal}clone(){return new u4(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(u4.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});let u6=e=>{let{parsedURL:t}=e[u1],r=new uV(e[u1].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){let t=uR(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate,br");let{agent:i}=e;"function"==typeof i&&(i=i(t)),r.has("Connection")||i||r.set("Connection","close");let o=u0(t);return{path:t.pathname+o,pathname:t.pathname,hostname:t.hostname,protocol:t.protocol,port:t.port,hash:t.hash,search:t.search,query:t.query,href:t.href,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:i}};class u5 extends sB{constructor(e,t="aborted"){super(e,t)}}var u7=nS;let u9=new Set(["data:","http:","https:","file:"]);async function le(e,t={}){return new Promise((r,n)=>{let i=new u4(e,t),o=u6(i);if(!u9.has(o.protocol))throw TypeError(`node-fetch cannot load ${e}. URL scheme "${o.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===o.protocol){let e=(0,sa.default)(i.url.toString());r(new uQ(e,{headers:{"Content-Type":e.typeFull}}));return}if("file:"===o.protocol)return void r(new uQ(sn.default.createReadStream(new URL(i.url)),{headers:{"Content-Type":so(i.url)||"application/octet-stream"}}));let a=("https:"===o.protocol?st.default:se.default).request,{signal:s}=i,u=null,l=null,c=()=>{let e=new u5("The operation was aborted.");n(e),i.body&&i.body.cancel(e),l&&l.emit("error",e)};if(s&&s.aborted)return void c();let f=()=>{c(),d()},h=a(o);s&&s.addEventListener("abort",f);let d=()=>{h.abort(),s&&s.removeEventListener("abort",f)};h.on("error",e=>{n(new sO(`request to ${i.url} failed, reason: ${e.message}`,"system",e)),d()}),lt(h,e=>{s&&s.aborted||l?.emit("error",e)}),14>parseInt(process.version.substring(1))&&h.on("socket",e=>{e.prependListener("close",t=>{let r=e.listenerCount("data")>0;if(u&&r&&!t&&!(s&&s.aborted)){let e=Object.assign(Error("Premature close"),{code:"ERR_STREAM_PREMATURE_CLOSE"});l?.emit("error",e)}})}),h.on("response",e=>{l=e,h.setTimeout(0);let o=uG(l.rawHeaders);if(uK(Number(l.statusCode))){let e=o.get("Location"),a=null===e?null:new URL(e,i.url);switch(i.redirect){case"error":n(new sO(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),d();return;case"manual":null!==a&&o.set("Location",a.toString());break;case"follow":{if(null===a)break;if(i.counter>=i.follow){n(new sO(`maximum redirect reached at: ${i.url}`,"max-redirect")),d();return}let e={headers:new uV(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:t.body,signal:s,size:i.size},o=e.body instanceof sh||e.body instanceof u7.Readable;if(303!==l.statusCode&&o){n(new sO("Cannot follow redirect with body being a readable stream","unsupported-redirect")),d();return}(303===l.statusCode||(301===l.statusCode||302===l.statusCode)&&"POST"===i.method)&&(e.method="GET",e.body=void 0,e.headers.delete("content-length")),le(new u4(a.href,e)).then(r,n),d();return}default:return n(TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}s&&l.once("end",()=>{s.removeEventListener("abort",f)});let a=(0,u7.pipeline)(l,new u7.PassThrough,n);process.version<"v12.10"&&l.on("aborted",f);let c={url:i.url,status:l.statusCode,statusText:l.statusMessage,headers:o,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},p=o.get("Content-Encoding");if(!i.compress||"HEAD"===i.method||null===p||204===l.statusCode||304===l.statusCode)return void r(u=new uQ(a,c));let y={flush:sr.default.Z_SYNC_FLUSH,finishFlush:sr.default.Z_SYNC_FLUSH};"gzip"===p||"x-gzip"===p?r(u=new uQ(uU(a=(0,u7.pipeline)(a,sr.default.createGunzip(y),n)),c)):"deflate"===p||"x-deflate"===p?(0,u7.pipeline)(l,new u7.PassThrough,n).once("data",e=>{r(u=new uQ(uU(a=(15&e[0])==8?(0,u7.pipeline)(a,sr.default.createInflate(),n):(0,u7.pipeline)(a,sr.default.createInflateRaw(),n)),c))}):"br"===p?r(u=new uQ(uU(a=(0,u7.pipeline)(a,sr.default.createBrotliDecompress(),n)),c)):r(u=new uQ(uU(a),c))}),uB(h,i)})}function lt(e,t){let r,n=ss.Buffer.from("0\r\n\r\n"),i=!1,o=!1;e.on("response",e=>{let{headers:t}=e;i="chunked"===t["transfer-encoding"]&&!t["content-length"]}),e.on("socket",a=>{let s=()=>{i&&!o&&t(Object.assign(Error("Premature close"),{code:"ERR_STREAM_PREMATURE_CLOSE"}))},u=e=>{(o=0===ss.Buffer.compare(e.slice(-5),n))||!r||(o=0===ss.Buffer.compare(r.slice(-3),n.slice(0,3))&&0===ss.Buffer.compare(e.slice(-2),n.slice(3))),r=e};a.prependListener("close",s),a.on("data",u);let l=()=>{a.removeListener("close",s),a.removeListener("data",u)};e.on("close",l),e.on("abort",l)})}let lr="function"==typeof globalThis.fetch?globalThis.fetch.bind(globalThis):le;var ln=C,li=e.i(446786);class lo extends a2{constructor(){super(),this.path=`${li.default.tmpdir()}/${parseInt(String(1e9*Math.random()),10).toString()+Date.now()}`,this._opened=!1}async _open(){this._opening?await this._opening:(this._opening=ln.default.promises.mkdir(this.path),await this._opening,this._opened=!0)}async put(e,t){this._opened||await this._open();let r=e.toString(),n=`${this.path}/${r}`;await ln.default.promises.writeFile(n,t)}async get(e){this._opened||await this._open();let t=e.toString(),r=`${this.path}/${t}`;return await ln.default.promises.readFile(r)}async has(e){this._opened||await this._open();let t=e.toString(),r=`${this.path}/${t}`;try{return await ln.default.promises.access(r),!0}catch(e){return!1}}async *blocks(){for(let e of(this._opened||await this._open(),await ln.default.promises.readdir(this.path))){let t=`${this.path}/${e}`,r=await ln.default.promises.readFile(t);yield{cid:ej.parse(e),bytes:r}}}async close(){this._opened&&await ln.default.promises.rm(this.path,{recursive:!0}),this._opened=!1}}let la=new URL("https://nftstorage.link/"),ls=(e,t={})=>{let r=t.gateway||la;return"ipfs:"===(e=new URL(String(e))).protocol?new URL(`/ipfs/${e.href.slice(7)}`,r):e};class lu{constructor(e,t,r){this._version=e,this._roots=t,this._blockstore=r}get version(){return this._version}get blockstore(){return this._blockstore}async getRoots(){return this._roots}has(e){return this._blockstore.has(e)}async get(e){let t=await this._blockstore.get(e);return{cid:e,bytes:t}}blocks(){return this._blockstore.blocks()}async *cids(){for await(let e of this.blocks())yield e.cid}}class ll{constructor(e,t,r){this.ipnft=e,this.url=t,this.data=r,Object.defineProperties(this,{ipnft:{enumerable:!0,writable:!1},url:{enumerable:!0,writable:!1},data:{enumerable:!1,writable:!1}})}embed(){return ll.embed(this)}static embed({data:e}){return lc(e,{gateway:la})}static async encode(e){let t=new lo,[r,n]=lD(e),i=JSON.parse(JSON.stringify(n)),o=JSON.parse(JSON.stringify(n));for(let[e,n]of r.entries()){let r,a=n.name||"blob";r=parseInt(globalThis.process?.versions?.node)>18?new Uint8Array(await n.arrayBuffer()):n.stream();let{root:s}=await a5({input:[{path:a,content:r}],blockstore:t,wrapWithDirectory:!0}),u=new URL(`ipfs://${s}/${a}`),l=e.split(".");lS(i,l,u),lS(o,l,s)}let{root:a}=await a5({input:[{path:"metadata.json",content:JSON.stringify(i)}],blockstore:t,wrapWithDirectory:!1}),s=await nI({value:{...o,"metadata.json":a,type:"nft"},codec:a9,hasher:iT});return await t.put(s.cid,s.bytes),{cid:s.cid,token:new ll(s.cid.toString(),`ipfs://${s.cid}/metadata.json`,i),car:new lu(1,[s.cid],t)}}}let lc=(e,t)=>lv(e,lh,lp,t),lf=({ipnft:e,url:t,data:r},n)=>new ll(e,t,lv(r,lm,ld,n)),lh=e=>e instanceof URL,ld=(e,t)=>[e,new URL(t)],lp=(e,t)=>[e,ls(t,e)],ly=e=>"object"==typeof e&&null!=e,lm=(e,t,r)=>"string"==typeof e&&t.has(r.join(".")),lb=e=>{let[t,r]=l_(e,lw,lg,new Map,[]),n=new s9;for(let[e,r]of t.entries())n.set(e,r);return n.set("meta",JSON.stringify(r)),n},lg=(e,t,r)=>(e.set(r.join("."),t),[e,void 0]),lw=e=>e instanceof sR,lD=e=>l_(e,lw,lg,new Map,[]),lv=(e,t,r,n)=>{let[,i]=l_(e,t,r,n,[]);return i},l_=(e,t,r,n,i)=>t(e,n,i)?r(n,e,i):Array.isArray(e)?lx(e,t,r,n,i):ly(e)?lE(e,t,r,n,i):[n,e],lE=(e,t,r,n,i)=>{let o=n,a={};for(let[n,s]of Object.entries(e)){let[e,u]=l_(s,t,r,o,[...i,n]);a[n]=u,o=e}return[o,a]},lx=(e,t,r,n,i)=>{let o=[],a=n;for(let[n,s]of e.entries()){let[e,u]=l_(s,t,r,a,[...i,n]);o[n]=u,a=e}return[a,o]},lS=(e,t,r)=>{let n=t.length-1,i=e;for(let[e,o]of t.entries())e===n?i[o]=r:i=i[o]};e.s(["Token",()=>ll,"decode",0,lf,"embed",0,lc,"encode",0,lb,"mapWith",0,lv],32616),e.i(32616);var lC=iE;let lT=5,lA=3,lk=0x3200000,lP=30,lj=1e4;function lR(){let e=(0,a7.default)(lP,lj);return()=>e(()=>{})}let lB=lR();class lO{constructor({token:e,did:t,endpoint:r=new URL("https://api.nft.storage"),rateLimiter:n}){this.token=e,this.endpoint=r,this.rateLimiter=n||lR(),this.did=t}static auth({token:e,did:t}){if(!e)throw Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"nft.storage/js",...t?{"x-agent-did":t}:{}}}static async storeBlob(e,t,r){let n,i=new lo;try{let{cid:o,car:a}=await lO.encodeBlob(t,{blockstore:i});await lO.storeCar(e,a,r),n=o.toString()}finally{await i.close()}return n}static async storeCar({endpoint:e,rateLimiter:t=lB,...r},n,{onStoredChunk:i,maxRetries:o,maxChunkSize:a,decoders:s,signal:u}={}){let l,c=new URL("upload/",e),f={...lO.auth(r),"Content-Type":"application/car"},h=a||lk,d=n instanceof sR?await iD.fromBlob(n,h,{decoders:s}):new iD(n,h,{decoders:s});for await(let e of x(lA,async function(e){let r=[];for await(let t of e)r.push(t);let n=new sR(r,{type:"application/car"}),a=n;parseInt(globalThis.process?.versions?.node)>18&&(a=await a.arrayBuffer());let s=await (0,S.default)(async()=>{let e;await t();try{e=await lr(c.toString(),{method:"POST",headers:f,body:a,signal:u})}catch(e){throw u&&u.aborted?new S.AbortError(e):e}if(429===e.status)throw Error("rate limited");let r=await e.json();if(!r.ok){if(401===e.status)throw new S.AbortError(r.error.message);throw Error(r.error.message)}return r.value.cid},{retries:null==o?lT:o});return i&&i(n.size),s})(d.cars()))l=e;return l}static async storeDirectory(e,t,r){let n,i=new lo;try{let{cid:o,car:a}=await lO.encodeDirectory(t,{blockstore:i});await lO.storeCar(e,a,r),n=o.toString()}finally{await i.close()}return n}static async store(e,t,r){let{token:n,car:i}=await lO.encodeNFT(t);return await lO.storeCar(e,i,r),n}static async status({endpoint:e,rateLimiter:t=lB,...r},n,i){let o=new URL(`${n}/`,e);await t();let a=await lr(o.toString(),{method:"GET",headers:lO.auth(r),signal:i&&i.signal});if(429===a.status)throw Error("rate limited");let s=await a.json();if(s.ok)return{cid:s.value.cid,deals:lL(s.value.deals),size:s.value.size,pin:lU(s.value.pin),created:new Date(s.value.created)};throw Error(s.error.message)}static async check({endpoint:e,rateLimiter:t=lB},r,n){let i=new URL(`check/${r}/`,e);await t();let o=await lr(i.toString(),{signal:n&&n.signal});if(429===o.status)throw Error("rate limited");let a=await o.json();if(a.ok)return{cid:a.value.cid,deals:lL(a.value.deals),pin:a.value.pin};throw Error(a.error.message)}static async delete({endpoint:e,rateLimiter:t=lB,...r},n,i){let o=new URL(`${n}/`,e);await t();let a=await lr(o.toString(),{method:"DELETE",headers:lO.auth(r),signal:i&&i.signal});if(429===a.status)throw Error("rate limited");let s=await a.json();if(!s.ok)throw Error(s.error.message)}static async encodeNFT(e){return lI(e),ll.encode(e)}static async encodeBlob(e,{blockstore:t}={}){if(0===e.size)throw Error("Content size is 0, make sure to provide some content");return lz([lN("blob",e)],{blockstore:t,wrapWithDirectory:!1})}static async encodeDirectory(e,{blockstore:t}={}){let r=0,n=(0,lC.default)(e,async function*(e){for await(let t of e)yield lN(t.name,t),r+=t.size}),i=await lz(n,{blockstore:t,wrapWithDirectory:!0});if(0===r)throw Error("Total size of files should exceed 0, make sure to provide some content");return i}storeBlob(e,t){return lO.storeBlob(this,e,t)}storeCar(e,t){return lO.storeCar(this,e,t)}storeDirectory(e,t){return lO.storeDirectory(this,e,t)}status(e,t){return lO.status(this,e,t)}delete(e,t){return lO.delete(this,e,t)}check(e,t){return lO.check(this,e,t)}store(e,t){return lO.store(this,e,t)}}let lI=({name:e,description:t,image:r,decimals:n})=>{if("string"!=typeof e)throw TypeError("string property `name` identifying the asset is required");if("string"!=typeof t)throw TypeError("string property `description` describing asset is required");if(r instanceof sR)r.type.startsWith("image/")||console.warn(`According to ERC721 Metadata JSON Schema 'image' must have 'image/*' mime type.

For better interoperability we would highly recommend storing content with different mime type under 'properties' namespace e.g. \`properties: { video: file }\` and using 'image' field for storing a preview image for it instead.

For more context please see ERC-721 specification https://eips.ethereum.org/EIPS/eip-721`);else throw TypeError("property `image` must be a Blob or File object");if(void 0!==n&&"number"!=typeof n)throw TypeError("property `decimals` must be an integer value")},lz=async(e,{blockstore:t,wrapWithDirectory:r}={})=>{t=t||new lo;let{root:n}=await a5({input:e,blockstore:t,wrapWithDirectory:r}),i=new lu(1,[n],t);return{cid:n,car:i}},lL=e=>e.map(e=>{let{dealActivation:t,dealExpiration:r,lastChanged:n}={dealExpiration:null,dealActivation:null,...e};return{...e,lastChanged:new Date(n),...t&&{dealActivation:new Date(t)},...r&&{dealExpiration:new Date(r)}}}),lU=e=>({...e,created:new Date(e.created)});function lN(e,t){let r;return{path:e,get content(){return r=r||t.stream()}}}let lF=null;function lq(){if(!lF){let e=process.env.NEXT_PUBLIC_NFT_STORAGE_TOKEN;if(!e)throw Error("NEXT_PUBLIC_NFT_STORAGE_TOKEN environment variable is not set");lF=new lO({token:e})}return lF}async function lM(e){try{let t=lq(),r=await t.store(e);if("string"==typeof r)return r;if(r?.url)return String(r.url);if(r?.cid)return String(r.cid?.toString?.()??r.cid);return JSON.stringify(r)}catch(e){throw console.error("Error storing NFT metadata:",e),Error(`Failed to store NFT metadata: ${e instanceof Error?e.message:"Unknown error"}`)}}function l$(e){return`ipfs://${e}/metadata.json`}async function lW(e){try{let t,r,n,i,o,a=await (0,w.createClient)(),{data:{user:s}}=await a.auth.getUser();if(!s)return D.NextResponse.json({error:"Unauthorized"},{status:401});if((e.headers.get("content-type")||"").includes("multipart/form-data")){let a=await e.formData();t=a.get("name")?String(a.get("name")):void 0,r=a.get("description")?String(a.get("description")):void 0;let s=a.get("attributes");n=s?JSON.parse(String(s)):[],i=a.get("listingId")?String(a.get("listingId")):void 0;let u=a.get("image");u&&(o=u)}else{let a=await e.json();t=a?.name,r=a?.description,n=a?.attributes||[],i=a?.listingId,o=a?.image}if(!t||!r||!o)return D.NextResponse.json({error:"Missing required fields: name, description, image"},{status:400});let u=2097152;if(o&&"number"==typeof o.size){let e=o;if(e.size>u)return D.NextResponse.json({error:"File too large. Max size is 2 MB."},{status:400});if(!e.type||!e.type.startsWith("image/"))return D.NextResponse.json({error:"Invalid file type. Only images are allowed."},{status:400})}let l={name:t,description:r,image:o,external_url:`${process.env.NEXT_PUBLIC_APP_URL||"https://albashsolutions.com"}/nft/${i}`,attributes:n||[]},c=await lM(l),f=l$(c),{data:h,error:d}=await a.from("nft_mint_records").insert({user_id:s.id,listing_id:i,ipfs_url:c,token_uri:f,metadata:l,status:"pending"}).select().single();return d&&console.error("Database error:",d),D.NextResponse.json({success:!0,ipfsUrl:c,tokenURI:f,metadata:l,mintRecordId:h?.id})}catch(e){return console.error("NFT minting error:",e),D.NextResponse.json({error:"Failed to mint NFT",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function lH(e){try{let t=await (0,w.createClient)(),{data:{user:r}}=await t.auth.getUser();if(!r)return D.NextResponse.json({error:"Unauthorized"},{status:401});let{searchParams:n}=new URL(e.url),i=n.get("listingId"),o=t.from("nft_mint_records").select("*").eq("user_id",r.id);i&&(o=o.eq("listing_id",i));let{data:a,error:s}=await o.order("created_at",{ascending:!1});if(s)throw s;return D.NextResponse.json({data:a})}catch(e){return console.error("Error fetching NFT records:",e),D.NextResponse.json({error:"Failed to fetch NFT records"},{status:500})}}e.s(["GET",()=>lH,"POST",()=>lW],421488);var lV=e.i(421488);let lG="",lJ=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/nft/mint/route",pathname:"/api/nft/mint",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/nft/mint/route.ts",nextConfigOutput:lG,userland:lV}),{workAsyncStorage:lK,workUnitAsyncStorage:lX,serverHooks:lQ}=lJ;function lY(){return(0,n.patchFetch)({workAsyncStorage:lK,workUnitAsyncStorage:lX})}async function lZ(e,t,n){lJ.isDev&&(0,i.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let w="/api/nft/mint/route";w=w.replace(/\/index$/,"")||"/";let D=!1,v=await lJ.prepare(e,t,{srcPage:w,multiZoneDraftMode:D});if(!v)return t.statusCode=400,t.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:_,params:E,nextConfig:x,parsedUrl:S,isDraftMode:C,prerenderManifest:T,routerServerContext:A,isOnDemandRevalidate:k,revalidateOnlyGenerated:P,resolvedPathname:j,clientReferenceManifest:R,serverActionsManifest:B}=v,O=(0,u.normalizeAppPath)(w),I=!!(T.dynamicRoutes[O]||T.routes[j]),z=async()=>((null==A?void 0:A.render404)?await A.render404(e,t,S,!1):t.end("This page could not be found"),null);if(I&&!C){let e=!!T.routes[j],t=T.dynamicRoutes[O];if(t&&!1===t.fallback&&!e){if(x.experimental.adapterPath)return await z();throw new b.NoFallbackError}}let L=null;!I||lJ.isDev||C||(L="/index"===(L=j)?"/":L);let U=!0===lJ.isDev||!I,N=I&&!U;B&&R&&(0,a.setReferenceManifestsSingleton)({page:w,clientReferenceManifest:R,serverActionsManifest:B,serverModuleMap:(0,s.createServerModuleMap)({serverActionsManifest:B})});let F=e.method||"GET",q=(0,o.getTracer)(),M=q.getActiveScopeSpan(),$={params:E,prerenderManifest:T,renderOpts:{experimental:{authInterrupts:!!x.experimental.authInterrupts},cacheComponents:!!x.cacheComponents,supportsDynamicResponse:U,incrementalCache:(0,i.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:x.cacheLife,waitUntil:n.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n)=>lJ.onRequestError(e,t,n,A)},sharedContext:{buildId:_}},W=new l.NodeNextRequest(e),H=new l.NodeNextResponse(t),V=c.NextRequestAdapter.fromNodeNextRequest(W,(0,c.signalFromNodeResponse)(t));try{let a=async e=>lJ.handle(V,$).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=q.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==f.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${F} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${F} ${w}`)}),s=!!(0,i.getRequestMeta)(e,"minimalMode"),u=async i=>{var o,u;let l=async({previousCacheEntry:r})=>{try{if(!s&&k&&P&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let o=await a(i);e.fetchMetrics=$.renderOpts.fetchMetrics;let u=$.renderOpts.pendingWaitUntil;u&&n.waitUntil&&(n.waitUntil(u),u=void 0);let l=$.renderOpts.collectedTags;if(!I)return await (0,d.sendResponse)(W,H,o,$.renderOpts.pendingWaitUntil),null;{let e=await o.blob(),t=(0,p.toNodeOutgoingHttpHeaders)(o.headers);l&&(t[m.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==$.renderOpts.collectedRevalidate&&!($.renderOpts.collectedRevalidate>=m.INFINITE_CACHE)&&$.renderOpts.collectedRevalidate,n=void 0===$.renderOpts.collectedExpire||$.renderOpts.collectedExpire>=m.INFINITE_CACHE?void 0:$.renderOpts.collectedExpire;return{value:{kind:g.CachedRouteKind.APP_ROUTE,status:o.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==r?void 0:r.isStale)&&await lJ.onRequestError(e,t,{routerKind:"App Router",routePath:w,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:N,isOnDemandRevalidate:k})},A),t}},c=await lJ.handleResponse({req:e,nextConfig:x,cacheKey:L,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:T,isRoutePPREnabled:!1,isOnDemandRevalidate:k,revalidateOnlyGenerated:P,responseGenerator:l,waitUntil:n.waitUntil,isMinimalMode:s});if(!I)return null;if((null==c||null==(o=c.value)?void 0:o.kind)!==g.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(u=c.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",k?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),C&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let f=(0,p.fromNodeOutgoingHttpHeaders)(c.value.headers);return s&&I||f.delete(m.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||t.getHeader("Cache-Control")||f.get("Cache-Control")||f.set("Cache-Control",(0,y.getCacheControlHeader)(c.cacheControl)),await (0,d.sendResponse)(W,H,new Response(c.value.body,{headers:f,status:c.value.status||200})),null};M?await u(M):await q.withPropagatedContext(e.headers,()=>q.trace(f.BaseServerSpan.handleRequest,{spanName:`${F} ${w}`,kind:o.SpanKind.SERVER,attributes:{"http.method":F,"http.target":e.url}},u))}catch(t){if(t instanceof b.NoFallbackError||await lJ.onRequestError(e,t,{routerKind:"App Router",routePath:O,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:N,isOnDemandRevalidate:k})}),I)throw t;return await (0,d.sendResponse)(W,H,new Response(null,{status:500})),null}}e.s(["handler",()=>lZ,"patchFetch",()=>lY,"routeModule",()=>lJ,"serverHooks",()=>lQ,"workAsyncStorage",()=>lK,"workUnitAsyncStorage",()=>lX],237441)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4024f810._.js.map