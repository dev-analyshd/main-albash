{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ALBASH%20SOLUTION/Downloads/main%20albash/components/dashboard/status-poller.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Loader2 } from \"lucide-react\"\r\n\r\ninterface StatusPollerProps {\r\n  isPending: boolean\r\n}\r\n\r\n// Polls verification status to keep dashboard in sync without manual refresh\r\nexport function StatusPoller({ isPending }: StatusPollerProps) {\r\n  const router = useRouter()\r\n  const [polling, setPolling] = useState(isPending)\r\n\r\n  useEffect(() => {\r\n    if (!isPending) return\r\n    setPolling(true)\r\n\r\n    const interval = setInterval(async () => {\r\n      try {\r\n        const res = await fetch(\"/api/verification\", { cache: \"no-store\" })\r\n        if (!res.ok) return\r\n        const data = await res.json()\r\n        const latest = data?.data?.[0]\r\n        const status = latest?.status\r\n        if (status === \"approved\" || status === \"rejected\") {\r\n          setPolling(false)\r\n          router.refresh()\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Status poll error:\", err)\r\n      }\r\n    }, 8000) // 8s interval for light load\r\n\r\n    return () => clearInterval(interval)\r\n  }, [isPending, router])\r\n\r\n  if (!polling) return null\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2 text-xs text-muted-foreground mt-2\">\r\n      <Badge variant=\"outline\" className=\"flex items-center gap-2\">\r\n        <Loader2 className=\"h-3 w-3 animate-spin\" />\r\n        Live status updates\r\n      </Badge>\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAYO,SAAS,aAAa,EAAE,SAAS,EAAqB;;IAC3D,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,IAAI,CAAC,WAAW;YAChB,WAAW;YAEX,MAAM,WAAW;mDAAY;oBAC3B,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,qBAAqB;4BAAE,OAAO;wBAAW;wBACjE,IAAI,CAAC,IAAI,EAAE,EAAE;wBACb,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,MAAM,SAAS,MAAM,MAAM,CAAC,EAAE;wBAC9B,MAAM,SAAS,QAAQ;wBACvB,IAAI,WAAW,cAAc,WAAW,YAAY;4BAClD,WAAW;4BACX,OAAO,OAAO;wBAChB;oBACF,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,sBAAsB;oBACtC;gBACF;kDAAG,MAAM,6BAA6B;;YAEtC;0CAAO,IAAM,cAAc;;QAC7B;iCAAG;QAAC;QAAW;KAAO;IAEtB,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,sIAAK;YAAC,SAAQ;YAAU,WAAU;;8BACjC,6LAAC,+NAAO;oBAAC,WAAU;;;;;;gBAAyB;;;;;;;;;;;;AAKpD;GArCgB;;QACC,kJAAS;;;KADV"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/loader-circle.js","sources":["file:///c:/Users/ALBASH%20SOLUTION/Downloads/main%20albash/node_modules/lucide-react/src/icons/loader-circle.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAe,gLAAA,EAAiB,cAAgB,CAAA,CAAA,CAAA;IACpD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA+B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC7D,CAAA,CAAA"}}]
}