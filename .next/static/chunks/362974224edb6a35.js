(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,269638,e=>{"use strict";var s=e.i(406321);e.s(["CheckCircle",()=>s.default])},970065,e=>{"use strict";var s=e.i(843476),a=e.i(647163);function t({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function r({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>r,"CardHeader",()=>l,"CardTitle",()=>i])},406321,e=>{"use strict";let s=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>s])},184762,e=>{"use strict";var s=e.i(843476),a=e.i(647163);function t({className:e,...t}){return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}e.s(["Textarea",()=>t])},361653,e=>{"use strict";let s=(0,e.i(475254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["default",()=>s])},63209,e=>{"use strict";var s=e.i(361653);e.s(["AlertCircle",()=>s.default])},949411,e=>{"use strict";let s=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["default",()=>s])},503116,e=>{"use strict";var s=e.i(949411);e.s(["Clock",()=>s.default])},798031,e=>{"use strict";let s=(0,e.i(475254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["default",()=>s])},373884,e=>{"use strict";var s=e.i(798031);e.s(["XCircle",()=>s.default])},323123,e=>{"use strict";let s=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["default",()=>s])},25652,e=>{"use strict";var s=e.i(323123);e.s(["TrendingUp",()=>s.default])},778917,546467,e=>{"use strict";let s=(0,e.i(475254).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["default",()=>s],546467),e.s(["ExternalLink",()=>s],778917)},335653,e=>{"use strict";let s=(0,e.i(475254).default)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);e.s(["default",()=>s])},718126,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(846932),l=e.i(503116),i=e.i(269638),r=e.i(373884),n=e.i(63209),d=e.i(178583),c=e.i(778917),o=e.i(686311),x=e.i(25652),m=e.i(335653),m=m,u=e.i(555436),p=e.i(167881),h=e.i(970065),j=e.i(994179),g=e.i(184762),f=e.i(23750),v=e.i(630374),N=e.i(63270),y=e.i(62870),b=e.i(920755),C=e.i(618566);let w={pending:"bg-yellow-100 text-yellow-700",in_review:"bg-blue-100 text-blue-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",needs_update:"bg-orange-100 text-orange-700"};function k({applications:e,stats:k,verifierId:S}){let _=(0,C.useRouter)();(0,b.createClient)();let[A,T]=(0,a.useState)(null),[I,D]=(0,a.useState)(""),[R,L]=(0,a.useState)(!1),[U,q]=(0,a.useState)(""),[z,B]=(0,a.useState)("all"),[V,M]=(0,a.useState)("pending"),P=e.filter(e=>{let s=(e.form_data?.title||"").toString().toLowerCase().includes(U.toLowerCase())||e.profiles?.full_name?.toLowerCase().includes(U.toLowerCase())||e.profiles?.email.toLowerCase().includes(U.toLowerCase()),a="all"===z||e.verification_type===z,t="all"===V||"active"===V?["pending","in_review"].includes(e.status):e.status===V;return s&&a&&t}),F=async e=>{if(A){L(!0);try{let s=await fetch("/api/admin/verification",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:A.id,status:e,feedback:I||void 0,rejection_reason:I||void 0})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to update verification request")}_.refresh(),T(null),D("")}catch(e){console.error("Error updating application:",e)}finally{L(!1)}}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Verification Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Review and process pending verification applications"})]}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,s.jsx)(h.Card,{children:(0,s.jsxs)(h.CardContent,{className:"flex items-center gap-4 p-6",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-yellow-100",children:(0,s.jsx)(l.Clock,{className:"h-6 w-6 text-yellow-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending Review"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:k.pending})]})]})}),(0,s.jsx)(h.Card,{children:(0,s.jsxs)(h.CardContent,{className:"flex items-center gap-4 p-6",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-green-100",children:(0,s.jsx)(i.CheckCircle,{className:"h-6 w-6 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Approved Today"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:k.approvedToday})]})]})}),(0,s.jsx)(h.Card,{children:(0,s.jsxs)(h.CardContent,{className:"flex items-center gap-4 p-6",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-blue-100",children:(0,s.jsx)(x.TrendingUp,{className:"h-6 w-6 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Processed"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:k.totalProcessed})]})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(f.Input,{placeholder:"Search by name or email...",className:"pl-10",value:U,onChange:e=>q(e.target.value)})]}),(0,s.jsxs)(y.Select,{value:V,onValueChange:M,children:[(0,s.jsx)(y.SelectTrigger,{className:"w-40",children:(0,s.jsx)(y.SelectValue,{placeholder:"Filter by status"})}),(0,s.jsxs)(y.SelectContent,{children:[(0,s.jsx)(y.SelectItem,{value:"active",children:"Active (Pending & In Review)"}),(0,s.jsx)(y.SelectItem,{value:"pending",children:"Pending"}),(0,s.jsx)(y.SelectItem,{value:"in_review",children:"In Review"}),(0,s.jsx)(y.SelectItem,{value:"approved",children:"Approved"}),(0,s.jsx)(y.SelectItem,{value:"rejected",children:"Rejected"}),(0,s.jsx)(y.SelectItem,{value:"all",children:"All"})]})]}),(0,s.jsxs)(y.Select,{value:z,onValueChange:B,children:[(0,s.jsx)(y.SelectTrigger,{className:"w-40",children:(0,s.jsx)(y.SelectValue,{placeholder:"Filter by type"})}),(0,s.jsxs)(y.SelectContent,{children:[(0,s.jsx)(y.SelectItem,{value:"all",children:"All Types"}),(0,s.jsx)(y.SelectItem,{value:"builder",children:"Builder"}),(0,s.jsx)(y.SelectItem,{value:"institution",children:"Institution"}),(0,s.jsx)(y.SelectItem,{value:"business",children:"Business"}),(0,s.jsx)(y.SelectItem,{value:"company",children:"Company"}),(0,s.jsx)(y.SelectItem,{value:"organization",children:"Organization"})]})]})]}),(0,s.jsxs)(h.Card,{children:[(0,s.jsxs)(h.CardHeader,{children:[(0,s.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.default,{className:"h-5 w-5"}),"Verification Queue"]}),(0,s.jsxs)(h.CardDescription,{children:[P.length," applications pending review"]})]}),(0,s.jsx)(h.CardContent,{children:0===P.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(i.CheckCircle,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:"All caught up!"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No applications pending review"})]}):(0,s.jsx)("div",{className:"space-y-4",children:P.map((e,a)=>(0,s.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"flex items-start justify-between gap-4 p-4 border rounded-lg hover:border-primary transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,s.jsxs)(N.Avatar,{className:"h-10 w-10",children:[(0,s.jsx)(N.AvatarImage,{src:e.profiles?.avatar_url||void 0}),(0,s.jsx)(N.AvatarFallback,{children:e.profiles?.full_name?.charAt(0)||"U"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h3",{className:"font-semibold truncate",children:e.form_data?.title||"Verification Request"}),(0,s.jsx)(j.Badge,{className:w[e.status],children:e.status.replace("_"," ")})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:e.profiles?.full_name||"Unknown User"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.form_data?.description||"No description provided"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(l.Clock,{className:"h-3 w-3"}),new Date(e.submitted_at).toLocaleDateString()]}),(0,s.jsx)("span",{className:"capitalize",children:e.verification_type})]})]})]}),(0,s.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>T(e),className:"bg-transparent",children:"Review"})]},e.id))})})]}),(0,s.jsx)(v.Dialog,{open:!!A,onOpenChange:()=>T(null),children:(0,s.jsxs)(v.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(v.DialogHeader,{children:[(0,s.jsx)(v.DialogTitle,{children:"Review Application"}),(0,s.jsx)(v.DialogDescription,{children:"Review the application details and take action"})]}),A&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-secondary/30 rounded-xl",children:[(0,s.jsxs)(N.Avatar,{className:"h-12 w-12",children:[(0,s.jsx)(N.AvatarImage,{src:A.profiles?.avatar_url||void 0}),(0,s.jsx)(N.AvatarFallback,{children:A.profiles?.full_name?.charAt(0)||"U"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:A.profiles?.full_name||"Unknown User"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:A.profiles?.email})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:A.form_data?.title||"Verification Request"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:A.form_data?.description||"No description provided"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Type:"})," ",(0,s.jsx)("span",{className:"capitalize",children:A.verification_type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Submitted:"})," ",new Date(A.submitted_at).toLocaleDateString()]})]}),A.documents&&A.documents.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:"Attached Documents:"}),(0,s.jsx)("div",{className:"space-y-2",children:A.documents.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-secondary/30 rounded-lg px-3 py-2",children:[(0,s.jsx)(d.FileText,{className:"h-4 w-4 text-primary"}),(0,s.jsx)("span",{className:"flex-1 truncate",children:e.name||`Document ${a+1}`}),(0,s.jsx)(p.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,s.jsx)(c.ExternalLink,{className:"h-3 w-3"})})]},a))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(o.MessageSquare,{className:"h-4 w-4"}),"Feedback / Notes"]}),(0,s.jsx)(g.Textarea,{placeholder:"Add feedback for the applicant...",rows:3,value:I,onChange:e=>D(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsxs)(p.Button,{variant:"outline",onClick:()=>F("needs_update"),disabled:R,className:"gap-2 bg-transparent",children:[(0,s.jsx)(n.AlertCircle,{className:"h-4 w-4"}),"Request Update"]}),(0,s.jsxs)(p.Button,{variant:"destructive",onClick:()=>F("rejected"),disabled:R,className:"gap-2",children:[(0,s.jsx)(r.XCircle,{className:"h-4 w-4"}),"Reject"]}),(0,s.jsxs)(p.Button,{onClick:()=>F("approved"),disabled:R,className:"gap-2",children:[(0,s.jsx)(i.CheckCircle,{className:"h-4 w-4"}),"Approve"]})]})]})]})})]})}e.s(["VerifierDashboard",()=>k],718126)}]);