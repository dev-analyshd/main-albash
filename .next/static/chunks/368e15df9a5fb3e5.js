(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,678745,e=>{"use strict";let t=(0,e.i(475254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t])},269638,e=>{"use strict";var t=e.i(406321);e.s(["CheckCircle",()=>t.default])},970065,e=>{"use strict";var t=e.i(843476),a=e.i(647163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>r])},406321,e=>{"use strict";let t=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>t])},361653,e=>{"use strict";let t=(0,e.i(475254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["default",()=>t])},63209,e=>{"use strict";var t=e.i(361653);e.s(["AlertCircle",()=>t.default])},612329,e=>{"use strict";let t=(0,e.i(475254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["default",()=>t])},727612,e=>{"use strict";var t=e.i(612329);e.s(["Trash2",()=>t.default])},643531,e=>{"use strict";var t=e.i(678745);e.s(["Check",()=>t.default])},879664,e=>{"use strict";let t=(0,e.i(475254).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["default",()=>t])},952571,e=>{"use strict";var t=e.i(879664);e.s(["Info",()=>t.default])},835902,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(846932),i=e.i(245423),r=e.i(269638),l=e.i(63209),n=e.i(952571),c=e.i(870273),d=e.i(252754),o=e.i(178583),x=e.i(761911),m=e.i(643531),u=e.i(727612),h=e.i(239616),f=e.i(970065),p=e.i(167881),g=e.i(920755),y=e.i(618566),j=e.i(647163);let N={verification:r.CheckCircle,alert:l.AlertCircle,info:n.Info,reputation:c.Star,wallet:d.Wallet,application:o.FileText,community:x.Users},v={verification:"text-green-600 bg-green-100",alert:"text-red-600 bg-red-100",info:"text-blue-600 bg-blue-100",reputation:"text-yellow-600 bg-yellow-100",wallet:"text-purple-600 bg-purple-100",application:"text-orange-600 bg-orange-100",community:"text-cyan-600 bg-cyan-100"};function C({notifications:e}){(0,y.useRouter)();let r=(0,g.createClient)(),[l,n]=(0,a.useState)(e),[c,d]=(0,a.useState)("all"),o=l.filter(e=>!e.read).length,x=l.filter(e=>"all"===c||("unread"===c?!e.read:e.type===c)),C=async e=>{await r.from("notifications").update({read:!0}).eq("id",e),n(l.map(t=>t.id===e?{...t,read:!0}:t))},w=async()=>{await r.from("notifications").update({read:!0}).eq("read",!1),n(l.map(e=>({...e,read:!0})))},k=async e=>{await r.from("notifications").delete().eq("id",e),n(l.filter(t=>t.id!==e))},b=async()=>{await r.from("notifications").delete().neq("id",""),n([])};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(i.Bell,{className:"h-8 w-8"}),"Notifications"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:o>0?`You have ${o} unread notifications`:"You're all caught up!"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[o>0&&(0,t.jsxs)(p.Button,{variant:"outline",onClick:w,className:"gap-2 bg-transparent",children:[(0,t.jsx)(m.Check,{className:"h-4 w-4"}),"Mark all read"]}),l.length>0&&(0,t.jsxs)(p.Button,{variant:"outline",onClick:b,className:"gap-2 bg-transparent text-destructive",children:[(0,t.jsx)(u.Trash2,{className:"h-4 w-4"}),"Clear all"]}),(0,t.jsx)(p.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(h.Settings,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-4",children:[(0,t.jsx)(f.Card,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>d("all"),children:(0,t.jsxs)(f.CardContent,{className:"p-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"All"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:l.length})]})}),(0,t.jsx)(f.Card,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>d("unread"),children:(0,t.jsxs)(f.CardContent,{className:"p-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Unread"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary",children:o})]})}),(0,t.jsx)(f.Card,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>d("verification"),children:(0,t.jsxs)(f.CardContent,{className:"p-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Verification"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:l.filter(e=>"verification"===e.type).length})]})}),(0,t.jsx)(f.Card,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>d("wallet"),children:(0,t.jsxs)(f.CardContent,{className:"p-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Wallet"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:l.filter(e=>"wallet"===e.type).length})]})})]}),(0,t.jsxs)(f.Card,{children:[(0,t.jsx)(f.CardHeader,{children:(0,t.jsx)(f.CardTitle,{children:"Recent Notifications"})}),(0,t.jsx)(f.CardContent,{children:0===x.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i.Bell,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"No notifications"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"all"===c?"You don't have any notifications yet":"No notifications in this category"})]}):(0,t.jsx)("div",{className:"space-y-2",children:x.map((e,a)=>{let r,l,n,c,d,o=N[e.type]||i.Bell,x=v[e.type]||"text-gray-600 bg-gray-100";return(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.03*a},className:(0,j.cn)("flex items-start gap-4 p-4 rounded-lg transition-colors group",e.read?"bg-transparent":"bg-primary/5"),children:[(0,t.jsx)("div",{className:(0,j.cn)("p-2 rounded-lg shrink-0",x),children:(0,t.jsx)(o,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:(0,j.cn)("font-medium",!e.read&&"text-foreground"),children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.message})]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:(r=new Date(e.created_at),n=Math.floor((l=new Date().getTime()-r.getTime())/6e4),c=Math.floor(l/36e5),d=Math.floor(l/864e5),n<60?`${n}m ago`:c<24?`${c}h ago`:d<7?`${d}d ago`:r.toLocaleDateString())})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[!e.read&&(0,t.jsxs)(p.Button,{variant:"ghost",size:"sm",onClick:()=>C(e.id),className:"h-7 text-xs",children:[(0,t.jsx)(m.Check,{className:"h-3 w-3 mr-1"}),"Mark as read"]}),(0,t.jsxs)(p.Button,{variant:"ghost",size:"sm",onClick:()=>k(e.id),className:"h-7 text-xs text-destructive opacity-0 group-hover:opacity-100",children:[(0,t.jsx)(u.Trash2,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]}),!e.read&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-2"})]},e.id)})})})]})]})}e.s(["NotificationsPage",()=>C])}]);