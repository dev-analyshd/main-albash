(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,998296,e=>{"use strict";let t;var r=e.i(843476),i=e.i(271645),n=e.i(267597),a=e.i(618566),s=e.i(920755),l=e.i(970065),c=e.i(167881),o=e.i(23750),d=e.i(10708),u=e.i(184762),p=e.i(62870),h=e.i(319036),f=e.i(625959),m=e.i(871689),g=e.i(569074),x=e.i(37727),y=e.i(531278),j=e.i(98919),v=e.i(561659),b=e.i(252754),w=e.i(187378),_=e.i(915505),N=e.i(781947),C=e.i(522016),S=e.i(802239);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],211671);var T=Object.prototype.hasOwnProperty;let k=new WeakMap,E=()=>{},O=E(),R=Object,L=e=>e===O,V=(e,t)=>({...e,...t}),I={},A={},D="undefined",P=typeof window!=D,F=typeof document!=D,U=P&&"Deno"in window,q=(e,t)=>{let r=k.get(e);return[()=>!L(t)&&e.get(t)||I,i=>{if(!L(t)){let n=e.get(t);t in A||(A[t]=n),r[5](t,V(n,i),n||I)}},r[6],()=>!L(t)&&t in A?A[t]:!L(t)&&e.get(t)||I]},M=!0,[$,z]=P&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[E,E],W={initFocus:e=>(F&&document.addEventListener("visibilitychange",e),$("focus",e),()=>{F&&document.removeEventListener("visibilitychange",e),z("focus",e)}),initReconnect:e=>{let t=()=>{M=!0,e()},r=()=>{M=!1};return $("online",t),$("offline",r),()=>{z("online",t),z("offline",r)}}},B=!i.default.useId,H=!P||U,J=H?i.useEffect:i.useLayoutEffect,G="undefined"!=typeof navigator&&navigator.connection,K=!H&&G&&(["slow-2g","2g"].includes(G.effectiveType)||G.saveData),X=new WeakMap,Y=(e,t)=>e===`[object ${t}]`,Q=0,Z=e=>{let t,r,i=typeof e,n=R.prototype.toString.call(e),a=Y(n,"Date"),s=Y(n,"RegExp"),l=Y(n,"Object");if(R(e)!==e||a||s)t=a?e.toJSON():"symbol"==i?e.toString():"string"==i?JSON.stringify(e):""+e;else{if(t=X.get(e))return t;if(t=++Q+"~",X.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=Z(e[r])+",";X.set(e,t)}if(l){t="#";let i=R.keys(e).sort();for(;!L(r=i.pop());)L(e[r])||(t+=r+":"+Z(e[r])+",");X.set(e,t)}}return t},ee=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?Z(e):"",t]},et=0,er=()=>++et;async function ei(...e){let[t,r,i,n]=e,a=V({populateCache:!0,throwOnError:!0},"boolean"==typeof n?{revalidate:n}:n||{}),s=a.populateCache,l=a.rollbackOnError,c=a.optimisticData,o=a.throwOnError;if("function"==typeof r){let e=[];for(let i of t.keys())!/^\$(inf|sub)\$/.test(i)&&r(t.get(i)._k)&&e.push(i);return Promise.all(e.map(d))}return d(r);async function d(r){let n,[d]=ee(r);if(!d)return;let[u,p]=q(t,d),[h,f,m,g]=k.get(t),x=()=>{let e=h[d];return("function"==typeof a.revalidate?a.revalidate(u().data,r):!1!==a.revalidate)&&(delete m[d],delete g[d],e&&e[0])?e[0](2).then(()=>u().data):u().data};if(e.length<3)return x();let y=i,j=!1,v=er();f[d]=[v,0];let b=!L(c),w=u(),_=w.data,N=w._c,C=L(N)?_:N;if(b&&p({data:c="function"==typeof c?c(C,_):c,_c:C}),"function"==typeof y)try{y=y(C)}catch(e){n=e,j=!0}if(y&&"function"==typeof y.then){let e;if(y=await y.catch(e=>{n=e,j=!0}),v!==f[d][0]){if(j)throw n;return y}j&&b&&(e=n,"function"==typeof l?l(e):!1!==l)&&(s=!0,p({data:C,_c:O}))}if(s&&!j&&("function"==typeof s?p({data:s(y,C),error:O,_c:O}):p({data:y,error:O,_c:O})),f[d][1]=er(),Promise.resolve(x()).then(()=>{p({_c:O})}),j){if(o)throw n;return}return y}}let en=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},ea=(e,t)=>{if(!k.has(e)){let r=V(W,t),i=Object.create(null),n=ei.bind(O,e),a=E,s=Object.create(null),l=(e,t)=>{let r=s[e]||[];return s[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},c=(t,r,i)=>{e.set(t,r);let n=s[t];if(n)for(let e of n)e(r,i)},o=()=>{if(!k.has(e)&&(k.set(e,[i,Object.create(null),Object.create(null),Object.create(null),n,c,l]),!H)){let t=r.initFocus(setTimeout.bind(O,en.bind(O,i,0))),n=r.initReconnect(setTimeout.bind(O,en.bind(O,i,1)));a=()=>{t&&t(),n&&n(),k.delete(e)}}};return o(),[e,n,o,a]}return[e,k.get(e)[4]]},[es,el]=ea(new Map),ec=V({onLoadingSlow:E,onSuccess:E,onError:E,onErrorRetry:(e,t,r,i,n)=>{let a=r.errorRetryCount,s=n.retryCount,l=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;(L(a)||!(s>a))&&setTimeout(i,l,n)},onDiscarded:E,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:K?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:K?5e3:3e3,compare:function e(t,r){var i,n;if(t===r)return!0;if(t&&r&&(i=t.constructor)===r.constructor){if(i===Date)return t.getTime()===r.getTime();if(i===RegExp)return t.toString()===r.toString();if(i===Array){if((n=t.length)===r.length)for(;n--&&e(t[n],r[n]););return -1===n}if(!i||"object"==typeof t){for(i in n=0,t)if(T.call(t,i)&&++n&&!T.call(r,i)||!(i in r)||!e(t[i],r[i]))return!1;return Object.keys(r).length===n}}return t!=t&&r!=r},isPaused:()=>!1,cache:es,mutate:el,fallback:{}},{isOnline:()=>M,isVisible:()=>{let e=F&&document.visibilityState;return L(e)||"hidden"!==e}}),eo=(e,t)=>{let r=V(e,t);if(t){let{use:i,fallback:n}=e,{use:a,fallback:s}=t;i&&a&&(r.use=i.concat(a)),n&&s&&(r.fallback=V(n,s))}return r},ed=(0,i.createContext)({});var eu=e.i(211671);let ep=P&&window.__SWR_DEVTOOLS_USE__,eh=(ep?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,i)=>{let n=r&&((...e)=>{let[i]=ee(t),[,,,n]=k.get(es);if(i.startsWith("$inf$"))return r(...e);let a=n[i];return L(a)?r(...e):(delete n[i],a)});return e(t,n,i)});ep&&(window.__SWR_DEVTOOLS_REACT__=i.default);let ef=()=>{},em=ef(),eg=(new WeakMap,i.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),ex={dedupe:!0},ey=Promise.resolve(O);R.defineProperty(e=>{let{value:t}=e,r=(0,i.useContext)(ed),n="function"==typeof t,a=(0,i.useMemo)(()=>n?t(r):t,[n,r,t]),s=(0,i.useMemo)(()=>n?a:eo(r,a),[n,r,a]),l=a&&a.provider,c=(0,i.useRef)(O);l&&!c.current&&(c.current=ea(l(s.cache||es),a));let o=c.current;return o&&(s.cache=o[0],s.mutate=o[1]),J(()=>{if(o)return o[2]&&o[2](),o[3]},[]),(0,i.createElement)(ed.Provider,V(e,{value:s}))},"defaultValue",{value:ec});let ej=(t=(e,t,r)=>{let{cache:n,compare:a,suspense:s,fallbackData:l,revalidateOnMount:c,revalidateIfStale:o,refreshInterval:d,refreshWhenHidden:u,refreshWhenOffline:p,keepPreviousData:h,strictServerPrefetchWarning:f}=r,[m,g,x,y]=k.get(n),[j,v]=ee(e),b=(0,i.useRef)(!1),w=(0,i.useRef)(!1),_=(0,i.useRef)(j),N=(0,i.useRef)(t),C=(0,i.useRef)(r),T=()=>C.current.isVisible()&&C.current.isOnline(),[R,I,A,F]=q(n,j),U=(0,i.useRef)({}).current,M=L(l)?L(r.fallback)?O:r.fallback[j]:l,$=(e,t)=>{for(let r in U)if("data"===r){if(!a(e[r],t[r])&&(!L(e[r])||!a(et,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},z=(0,i.useMemo)(()=>{let e=!!j&&!!t&&(L(c)?!C.current.isPaused()&&!s&&!1!==o:c),r=t=>{let r=V(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},i=R(),n=F(),a=r(i),l=i===n?a:r(n),d=a;return[()=>{let e=r(R());return $(e,d)?(d.data=e.data,d.isLoading=e.isLoading,d.isValidating=e.isValidating,d.error=e.error,d):(d=e,e)},()=>l]},[n,j]),W=(0,S.useSyncExternalStore)((0,i.useCallback)(e=>A(j,(t,r)=>{$(r,t)||e()}),[n,j]),z[0],z[1]),G=!b.current,K=m[j]&&m[j].length>0,X=W.data,Y=L(X)?M&&"function"==typeof M.then?eg(M):M:X,Q=W.error,Z=(0,i.useRef)(Y),et=h?L(X)?L(Z.current)?Y:Z.current:X:Y,en=j&&L(Y),ea=!H&&(0,S.useSyncExternalStore)(()=>E,()=>!1,()=>!0);f&&ea&&!s&&en&&console.warn(`Missing pre-initiated data for serialized key "${j}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let es=(!K||!!L(Q))&&(G&&!L(c)?c:!C.current.isPaused()&&(s?!L(Y)&&o:L(Y)||o)),el=!!(j&&t&&G&&es),ec=L(W.isValidating)?el:W.isValidating,eo=L(W.isLoading)?el:W.isLoading,ed=(0,i.useCallback)(async e=>{let t,i,n=N.current;if(!j||!n||w.current||C.current.isPaused())return!1;let s=!0,l=e||{},c=!x[j]||!l.dedupe,o=()=>B?!w.current&&j===_.current&&b.current:j===_.current,d={isValidating:!1,isLoading:!1},u=()=>{I(d)},p=()=>{let e=x[j];e&&e[1]===i&&delete x[j]},h={isValidating:!0};L(R().data)&&(h.isLoading=!0);try{if(c&&(I(h),r.loadingTimeout&&L(R().data)&&setTimeout(()=>{s&&o()&&C.current.onLoadingSlow(j,r)},r.loadingTimeout),x[j]=[n(v),er()]),[t,i]=x[j],t=await t,c&&setTimeout(p,r.dedupingInterval),!x[j]||x[j][1]!==i)return c&&o()&&C.current.onDiscarded(j),!1;d.error=O;let e=g[j];if(!L(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return u(),c&&o()&&C.current.onDiscarded(j),!1;let l=R().data;d.data=a(l,t)?l:t,c&&o()&&C.current.onSuccess(t,j,r)}catch(r){p();let e=C.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(d.error=r,c&&o())&&(e.onError(r,j,e),(!0===t||"function"==typeof t&&t(r))&&(!C.current.revalidateOnFocus||!C.current.revalidateOnReconnect||T())&&e.onErrorRetry(r,j,e,e=>{let t=m[j];t&&t[0]&&t[0](eu.ERROR_REVALIDATE_EVENT,e)},{retryCount:(l.retryCount||0)+1,dedupe:!0}))}return s=!1,u(),!0},[j,n]),ep=(0,i.useCallback)((...e)=>ei(n,_.current,...e),[]);if(J(()=>{N.current=t,C.current=r,L(X)||(Z.current=X)}),J(()=>{var e;let t;if(!j)return;let r=ed.bind(O,ex),i=0;C.current.revalidateOnFocus&&(i=Date.now()+C.current.focusThrottleInterval);let n=(e=(e,t={})=>{if(e==eu.FOCUS_EVENT){let e=Date.now();C.current.revalidateOnFocus&&e>i&&T()&&(i=e+C.current.focusThrottleInterval,r())}else if(e==eu.RECONNECT_EVENT)C.current.revalidateOnReconnect&&T()&&r();else if(e==eu.MUTATE_EVENT)return ed();else if(e==eu.ERROR_REVALIDATE_EVENT)return ed(t)},(t=m[j]||(m[j]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});if(w.current=!1,_.current=j,b.current=!0,I({_k:v}),es&&!x[j])if(L(Y)||H)r();else P&&typeof window.requestAnimationFrame!=D?window.requestAnimationFrame(r):setTimeout(r,1);return()=>{w.current=!0,n()}},[j]),J(()=>{let e;function t(){let t="function"==typeof d?d(R().data):d;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!R().error&&(u||C.current.isVisible())&&(p||C.current.isOnline())?ed(ex).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[d,u,p,j]),(0,i.useDebugValue)(et),s){if(!B&&H&&en)throw Error("Fallback data is required when using Suspense in SSR.");en&&(N.current=t,C.current=r,w.current=!1);let e=y[j];if(eg(!L(e)&&en?ep(e):ey),!L(Q)&&en)throw Q;let i=en?ed(ex):ey;!L(et)&&en&&(i.status="fulfilled",i.value=!0),eg(i)}return{mutate:ep,get data(){return U.data=!0,et},get error(){return U.error=!0,Q},get isValidating(){return U.isValidating=!0,ec},get isLoading(){return U.isLoading=!0,eo}}},function(...e){let r,n=(r=(0,i.useContext)(ed),(0,i.useMemo)(()=>V(ec,r),[r])),[a,s,l]="function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],c=eo(n,l),o=t,{use:d}=c,u=(d||[]).concat(eh);for(let e=u.length;e--;)o=u[e](o);return o(a,s||c.fetcher||null,c)}),ev=e=>fetch(e).then(e=>e.json()),eb=[{value:"physical",label:"Physical Product",description:"Tangible goods like crafts, food, clothing"},{value:"digital",label:"Digital Product",description:"Software, designs, documents, courses"},{value:"service",label:"Service",description:"Professional services, consulting, freelance work"},{value:"idea",label:"Idea / Innovation",description:"Business ideas, patents, concepts"},{value:"talent",label:"Talent / Skill",description:"Offer your skills and expertise"},{value:"tokenized",label:"Tokenized Asset",description:"NFT or blockchain-verified asset"}],ew=[{id:"card",label:"Card Payment",icon:v.CreditCard,description:"Visa, Mastercard (via Paystack/Stripe)"},{id:"bank",label:"Bank Transfer",icon:w.Banknote,description:"Direct bank transfer (NGN/USD)"},{id:"crypto",label:"Cryptocurrency",icon:b.Wallet,description:"ETH, USDT, and other tokens"}];function e_(){let e=(0,a.useRouter)(),t=(0,s.createClient)(),{account:v,connectWallet:b,mintNFT:w,isConnected:S}=(0,n.useWeb3)(),[T,k]=(0,i.useState)(!1),[E,O]=(0,i.useState)([]),[R,L]=(0,i.useState)([]),[V,I]=(0,i.useState)(["card","bank"]),[A,D]=(0,i.useState)({title:"",description:"",price:"",currency:"NGN",category_id:"",listing_type:"physical",is_tokenized:!1,swap_enabled:!1,accepted_swap_types:[],valuation_method:"fixed",minimum_reputation:0,swap_verification_required:!0}),{data:P}=ej("/api/categories",ev),F=async e=>{let t=e.target.files;if(!t)return;let r=Array.from(t).slice(0,5),i=r.map(e=>URL.createObjectURL(e));O(e=>[...e,...i].slice(0,5)),L(e=>[...e,...r].slice(0,5))},U=async e=>{let r=[];for(let i of R)try{let n=i.name.split(".").pop(),a=`${e}/listings/${Date.now()}-${Math.random().toString(36).substring(7)}.${n}`,{data:s,error:l}=await t.storage.from("listings").upload(a,i,{upsert:!0});if(l){console.warn("Image upload error:",l);continue}let{data:{publicUrl:c}}=t.storage.from("listings").getPublicUrl(a);r.push(c)}catch(e){console.warn("Image upload failed:",e);continue}return r},q=async r=>{r.preventDefault(),k(!0);try{let{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Not authenticated");let i=[];R.length>0&&(i=await U(r.id));let n={title:A.title,description:A.description,price:A.price?Number.parseFloat(A.price):null,category_id:A.category_id||null,listing_type:A.listing_type,is_tokenized:A.is_tokenized,images:i.length>0?i:[],payment_methods:V,currency:A.currency,swap_enabled:A.swap_enabled,accepted_swap_types:A.accepted_swap_types.length>0?A.accepted_swap_types:null,valuation_method:A.swap_enabled?A.valuation_method:null,minimum_reputation:A.minimum_reputation||0,swap_verification_required:A.swap_verification_required},a=await fetch("/api/listings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to create listing")}let{data:s}=await a.json();if(A.is_tokenized&&R.length>0)try{S||await b();let e=R[0],r=new FormData;r.append("name",A.title||s.title||"Listing NFT"),r.append("description",A.description||s.description||""),r.append("attributes",JSON.stringify([{trait_type:"Creator",value:v||s.user_id},{trait_type:"Price",value:String(s.price||A.price||"0")}])),r.append("listingId",s.id),r.append("image",e);let i=await new Promise((e,t)=>{let i=new XMLHttpRequest;i.open("POST","/api/nft/mint"),i.onload=()=>{if(i.status>=200&&i.status<300)try{e(JSON.parse(i.responseText))}catch(t){e({success:!0})}else t(Error(`Upload failed: ${i.statusText}`))},i.onerror=()=>t(Error("Network error during upload")),i.send(r)});if(i&&i.tokenURI){let e=A.price||String(s.price||"0"),r=await w(i.tokenURI,e),n=await r.wait();try{await fetch("/api/nft/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mintRecordId:i.mintRecordId,transactionHash:n.transactionHash||r.hash,contractAddress:n.to||i.contractAddress||null,tokenId:n.events?.[0]?.args?.tokenId?.toString?.()||null,status:"minted"})})}catch(e){console.warn("Failed to confirm mint record:",e)}try{await t.from("listings").update({token_uri:i.tokenURI,token_id:n.events?.[0]?.args?.tokenId?.toString?.()||null,token_contract_address:n.to||i.contractAddress||null}).eq("id",s.id)}catch(e){console.warn("Failed to update listing with token info:",e)}}}catch(e){console.error("Automatic tokenization failed:",e)}e.push("/dashboard/listings?created=true"),e.refresh()}catch(r){let e="An error occurred while creating your listing";if(r instanceof Error)e=r.message||e;else if(r?.message)e=r.message;else if(r?.error_description)e=r.error_description;else if(r?.details)e="string"==typeof r.details?r.details:JSON.stringify(r.details);else if(r?.hint)e=r.hint;else if("string"==typeof r)e=r;else if(r&&"object"==typeof r)try{let t=JSON.stringify(r);t&&"{}"!==t&&(e=`Error: ${t}`)}catch{}let t={message:e};r?.code&&(t.code=r.code),r?.details&&"string"==typeof r.details&&(t.details=r.details),r?.hint&&(t.hint=r.hint),r?.name&&(t.name=r.name),console.error("Error creating listing:",t),alert(e)}finally{k(!1)}};return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(C.default,{href:"/dashboard/listings",children:(0,r.jsx)(c.Button,{variant:"ghost",size:"icon",children:(0,r.jsx)(m.ArrowLeft,{className:"h-5 w-5"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Create New Listing"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"Add a product, service, or asset to the marketplace"})]})]}),(0,r.jsxs)(N.Alert,{children:[(0,r.jsx)(j.Shield,{className:"h-4 w-4"}),(0,r.jsx)(N.AlertTitle,{children:"Verification Required"}),(0,r.jsx)(N.AlertDescription,{children:"All listings go through our verification process before becoming public. This ensures quality and trust for all users."})]}),(0,r.jsx)("form",{onSubmit:q,children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(l.Card,{children:[(0,r.jsxs)(l.CardHeader,{children:[(0,r.jsx)(l.CardTitle,{children:"Images"}),(0,r.jsx)(l.CardDescription,{children:"Add up to 5 images for your listing (first image is the cover)"})]}),(0,r.jsx)(l.CardContent,{children:(0,r.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[E.map((e,t)=>(0,r.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-muted",children:[(0,r.jsx)("img",{src:e||"/placeholder.svg",alt:"",className:"object-cover w-full h-full"}),(0,r.jsx)("button",{type:"button",onClick:()=>{O(e=>e.filter((e,r)=>r!==t)),L(e=>e.filter((e,r)=>r!==t))},className:"absolute top-1 right-1 p-1 rounded-full bg-background/80 hover:bg-background",children:(0,r.jsx)(x.X,{className:"h-3 w-3"})}),0===t&&(0,r.jsx)("span",{className:"absolute bottom-1 left-1 text-xs bg-primary text-primary-foreground px-1.5 py-0.5 rounded",children:"Cover"})]},t)),E.length<5&&(0,r.jsxs)("label",{className:"aspect-square rounded-lg border-2 border-dashed flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors",children:[(0,r.jsx)(g.Upload,{className:"h-6 w-6 text-muted-foreground"}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:"Upload"}),(0,r.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:F})]})]})})]}),(0,r.jsxs)(l.Card,{children:[(0,r.jsxs)(l.CardHeader,{children:[(0,r.jsx)(l.CardTitle,{children:"Listing Type"}),(0,r.jsx)(l.CardDescription,{children:"What are you listing?"})]}),(0,r.jsx)(l.CardContent,{children:(0,r.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:eb.map(e=>(0,r.jsxs)("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${A.listing_type===e.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>D({...A,listing_type:e.value}),children:[(0,r.jsx)("p",{className:"font-medium",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.value))})})]}),(0,r.jsxs)(l.Card,{children:[(0,r.jsx)(l.CardHeader,{children:(0,r.jsx)(l.CardTitle,{children:"Basic Information"})}),(0,r.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{htmlFor:"title",children:"Title"}),(0,r.jsx)(o.Input,{id:"title",placeholder:"Enter a clear, descriptive title",value:A.title,onChange:e=>D({...A,title:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{htmlFor:"description",children:"Description"}),(0,r.jsx)(u.Textarea,{id:"description",placeholder:"Describe your listing in detail. Include features, specifications, and any relevant information...",rows:6,value:A.description,onChange:e=>D({...A,description:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{htmlFor:"price",children:"Price"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(p.Select,{value:A.currency,onValueChange:e=>D({...A,currency:e}),children:[(0,r.jsx)(p.SelectTrigger,{className:"w-24",children:(0,r.jsx)(p.SelectValue,{})}),(0,r.jsxs)(p.SelectContent,{children:[(0,r.jsx)(p.SelectItem,{value:"NGN",children:"NGN"}),(0,r.jsx)(p.SelectItem,{value:"USD",children:"USD"})]})]}),(0,r.jsx)(o.Input,{id:"price",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:A.price,onChange:e=>D({...A,price:e.target.value}),className:"flex-1"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{htmlFor:"category",children:"Category"}),(0,r.jsxs)(p.Select,{value:A.category_id,onValueChange:e=>D({...A,category_id:e}),children:[(0,r.jsx)(p.SelectTrigger,{children:(0,r.jsx)(p.SelectValue,{placeholder:"Select category"})}),(0,r.jsx)(p.SelectContent,{children:P?.map(e=>(0,r.jsx)(p.SelectItem,{value:e.id,children:e.name},e.id))})]})]})]})]})]}),(0,r.jsxs)(l.Card,{children:[(0,r.jsxs)(l.CardHeader,{children:[(0,r.jsx)(l.CardTitle,{children:"Payment Methods"}),(0,r.jsx)(l.CardDescription,{children:"Select which payment methods you accept"})]}),(0,r.jsx)(l.CardContent,{children:(0,r.jsx)("div",{className:"space-y-3",children:ew.map(e=>(0,r.jsxs)("div",{className:`flex items-center gap-4 p-4 rounded-lg border cursor-pointer transition-colors ${V.includes(e.id)?"border-primary bg-primary/5":"border-border"}`,onClick:()=>{var t;return t=e.id,void I(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},children:[(0,r.jsx)(f.Checkbox,{checked:V.includes(e.id)}),(0,r.jsx)(e.icon,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},e.id))})})]}),(0,r.jsxs)(l.Card,{children:[(0,r.jsxs)(l.CardHeader,{children:[(0,r.jsx)(l.CardTitle,{children:"Blockchain Options"}),(0,r.jsx)(l.CardDescription,{children:"Mint your listing as an NFT for additional security and ownership proof"})]}),(0,r.jsx)(l.CardContent,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Enable NFT Tokenization"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your listing will be minted as an NFT on the blockchain"})]}),(0,r.jsx)(h.Switch,{checked:A.is_tokenized,onCheckedChange:e=>D({...A,is_tokenized:e})})]})})]}),(0,r.jsxs)(l.Card,{children:[(0,r.jsxs)(l.CardHeader,{children:[(0,r.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(_.ArrowLeftRight,{className:"h-5 w-5"}),"Swap Options"]}),(0,r.jsx)(l.CardDescription,{children:"Allow users to swap value instead of just buying"})]}),(0,r.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Enable Swaps"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow users to propose swaps for this listing"})]}),(0,r.jsx)(h.Switch,{checked:A.swap_enabled,onCheckedChange:e=>D({...A,swap_enabled:e})})]}),A.swap_enabled&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-2 pt-4 border-t",children:[(0,r.jsx)(d.Label,{children:"Accepted Swap Types"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Select what types of items you'll accept in swaps"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["idea","talent","skill","product","service","asset","nft","equity"].map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.Checkbox,{checked:A.accepted_swap_types.includes(e),onCheckedChange:t=>{t?D({...A,accepted_swap_types:[...A.accepted_swap_types,e]}):D({...A,accepted_swap_types:A.accepted_swap_types.filter(t=>t!==e)})}}),(0,r.jsx)(d.Label,{className:"text-sm font-normal capitalize",children:e})]},e))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{children:"Valuation Method"}),(0,r.jsxs)(p.Select,{value:A.valuation_method,onValueChange:e=>D({...A,valuation_method:e}),children:[(0,r.jsx)(p.SelectTrigger,{children:(0,r.jsx)(p.SelectValue,{})}),(0,r.jsxs)(p.SelectContent,{children:[(0,r.jsx)(p.SelectItem,{value:"fixed",children:"Fixed Price"}),(0,r.jsx)(p.SelectItem,{value:"contract",children:"Contract Based"}),(0,r.jsx)(p.SelectItem,{value:"hybrid",children:"Hybrid"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.Label,{children:"Minimum Reputation (Optional)"}),(0,r.jsx)(o.Input,{type:"number",min:"0",value:A.minimum_reputation,onChange:e=>D({...A,minimum_reputation:parseInt(e.target.value)||0}),placeholder:"0"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minimum reputation score required to propose swaps (leave 0 for no requirement)"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Require Verification"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Only verified users can propose swaps"})]}),(0,r.jsx)(h.Switch,{checked:A.swap_verification_required,onCheckedChange:e=>D({...A,swap_verification_required:e})})]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,r.jsx)(C.default,{href:"/dashboard/listings",children:(0,r.jsx)(c.Button,{type:"button",variant:"outline",children:"Cancel"})}),(0,r.jsxs)(c.Button,{type:"submit",disabled:T,children:[T&&(0,r.jsx)(y.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submit for Verification"]})]})]})})]})}e.s(["default",()=>e_],998296)}]);