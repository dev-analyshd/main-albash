(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,842727,e=>{"use strict";var t=e.i(271645),r=e.i(981140),a=e.i(75830),s=e.i(820783),i=e.i(30030),n=e.i(610772),o=e.i(248425),l=e.i(30207),d=e.i(369340),c=e.i(586318),u=e.i(843476),m="rovingFocusGroup.onEntryFocus",f={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[h,x,v]=(0,a.createCollection)(p),[b,g]=(0,i.createContextScope)(p,[v]),[y,j]=b(p),w=t.forwardRef((e,t)=>(0,u.jsx)(h.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(h.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(C,{...e,ref:t})})}));w.displayName=p;var C=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:i,orientation:n,loop:h=!1,dir:v,currentTabStopId:b,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:j,onEntryFocus:w,preventScrollOnEntryFocus:C=!1,...k}=e,R=t.useRef(null),N=(0,s.useComposedRefs)(a,R),A=(0,c.useDirection)(v),[E,I]=(0,d.useControllableState)({prop:b,defaultProp:g??null,onChange:j,caller:p}),[D,F]=t.useState(!1),L=(0,l.useCallbackRef)(w),P=x(i),T=t.useRef(!1),[B,H]=t.useState(0);return t.useEffect(()=>{let e=R.current;if(e)return e.addEventListener(m,L),()=>e.removeEventListener(m,L)},[L]),(0,u.jsx)(y,{scope:i,orientation:n,dir:A,loop:h,currentTabStopId:E,onItemFocus:t.useCallback(e=>I(e),[I]),onItemShiftTab:t.useCallback(()=>F(!0),[]),onFocusableItemAdd:t.useCallback(()=>H(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>H(e=>e-1),[]),children:(0,u.jsx)(o.Primitive.div,{tabIndex:D||0===B?-1:0,"data-orientation":n,...k,ref:N,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{T.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!T.current;if(e.target===e.currentTarget&&t&&!D){let t=new CustomEvent(m,f);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=P().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===E),...e].filter(Boolean).map(e=>e.ref.current),C)}}T.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>F(!1))})})}),k="RovingFocusGroupItem",R=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,focusable:i=!0,active:l=!1,tabStopId:d,children:c,...m}=e,f=(0,n.useId)(),p=d||f,v=j(k,s),b=v.currentTabStopId===p,g=x(s),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:C}=v;return t.useEffect(()=>{if(i)return y(),()=>w()},[i,y,w]),(0,u.jsx)(h.ItemSlot,{scope:s,id:p,focusable:i,active:l,children:(0,u.jsx)(o.Primitive.span,{tabIndex:b?0:-1,"data-orientation":v.orientation,...m,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{i?v.onItemFocus(p):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>v.onItemFocus(p)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void v.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return N[s]}(e,v.orientation,v.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&s.reverse();let i=s.indexOf(e.currentTarget);s=v.loop?(r=s,a=i+1,r.map((e,t)=>r[(a+t)%r.length])):s.slice(i+1)}setTimeout(()=>S(s))}}),children:"function"==typeof c?c({isCurrentTabStop:b,hasTabStop:null!=C}):c})})});R.displayName=k;var N={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>R,"Root",()=>w,"createRovingFocusGroupScope",()=>g])},717521,e=>{"use strict";let t=(0,e.i(475254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t])},531278,e=>{"use strict";var t=e.i(717521);e.s(["Loader2",()=>t.default])},180127,e=>{"use strict";let t=(0,e.i(475254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["default",()=>t])},871689,e=>{"use strict";var t=e.i(180127);e.s(["ArrowLeft",()=>t.default])},970065,e=>{"use strict";var t=e.i(843476),r=e.i(647163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>n,"CardHeader",()=>s,"CardTitle",()=>i])},635804,e=>{"use strict";var t=e.i(271645),r=e.i(934620);function a(e){let[a,s]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,a;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;s({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),a}e.s(["useSize",()=>a])},406321,e=>{"use strict";let t=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>t])},269638,e=>{"use strict";var t=e.i(406321);e.s(["CheckCircle",()=>t.default])},603908,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",()=>t])},107233,e=>{"use strict";var t=e.i(603908);e.s(["Plus",()=>t.default])},160434,e=>{"use strict";let t=(0,e.i(475254).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["default",()=>t])},733498,e=>{"use strict";var t=e.i(160434);e.s(["CircleIcon",()=>t.default])},247978,e=>{"use strict";let t=(0,e.i(475254).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["default",()=>t])},561659,e=>{"use strict";var t=e.i(247978);e.s(["CreditCard",()=>t.default])},416540,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(981140),s=e.i(820783),i=e.i(30030),n=e.i(248425),o=e.i(842727),l=e.i(369340),d=e.i(586318),c=e.i(635804),u=e.i(999682),m=e.i(296626),f="Radio",[p,h]=(0,i.createContextScope)(f),[x,v]=p(f),b=r.forwardRef((e,i)=>{let{__scopeRadio:o,name:l,checked:d=!1,required:c,disabled:u,value:m="on",onCheck:f,form:p,...h}=e,[v,b]=r.useState(null),g=(0,s.useComposedRefs)(i,e=>b(e)),y=r.useRef(!1),C=!v||p||!!v.closest("form");return(0,t.jsxs)(x,{scope:o,checked:d,disabled:u,children:[(0,t.jsx)(n.Primitive.button,{type:"button",role:"radio","aria-checked":d,"data-state":w(d),"data-disabled":u?"":void 0,disabled:u,value:m,...h,ref:g,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{d||f?.(),C&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),C&&(0,t.jsx)(j,{control:v,bubbles:!y.current,name:l,value:m,checked:d,required:c,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});b.displayName=f;var g="RadioIndicator",y=r.forwardRef((e,r)=>{let{__scopeRadio:a,forceMount:s,...i}=e,o=v(g,a);return(0,t.jsx)(m.Presence,{present:s||o.checked,children:(0,t.jsx)(n.Primitive.span,{"data-state":w(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:r})})});y.displayName=g;var j=r.forwardRef(({__scopeRadio:e,control:a,checked:i,bubbles:o=!0,...l},d)=>{let m=r.useRef(null),f=(0,s.useComposedRefs)(m,d),p=(0,u.usePrevious)(i),h=(0,c.useSize)(a);return r.useEffect(()=>{let e=m.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==i&&t){let r=new Event("click",{bubbles:o});t.call(e,i),e.dispatchEvent(r)}},[p,i,o]),(0,t.jsx)(n.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:i,...l,tabIndex:-1,ref:f,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}j.displayName="RadioBubbleInput";var C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k="RadioGroup",[R,N]=(0,i.createContextScope)(k,[o.createRovingFocusGroupScope,h]),S=(0,o.createRovingFocusGroupScope)(),A=h(),[E,I]=R(k),D=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,name:s,defaultValue:i,value:c,required:u=!1,disabled:m=!1,orientation:f,dir:p,loop:h=!0,onValueChange:x,...v}=e,b=S(a),g=(0,d.useDirection)(p),[y,j]=(0,l.useControllableState)({prop:c,defaultProp:i??null,onChange:x,caller:k});return(0,t.jsx)(E,{scope:a,name:s,required:u,disabled:m,value:y,onValueChange:j,children:(0,t.jsx)(o.Root,{asChild:!0,...b,orientation:f,dir:g,loop:h,children:(0,t.jsx)(n.Primitive.div,{role:"radiogroup","aria-required":u,"aria-orientation":f,"data-disabled":m?"":void 0,dir:g,...v,ref:r})})})});D.displayName=k;var F="RadioGroupItem",L=r.forwardRef((e,i)=>{let{__scopeRadioGroup:n,disabled:l,...d}=e,c=I(F,n),u=c.disabled||l,m=S(n),f=A(n),p=r.useRef(null),h=(0,s.useComposedRefs)(i,p),x=c.value===d.value,v=r.useRef(!1);return r.useEffect(()=>{let e=e=>{C.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(o.Item,{asChild:!0,...m,focusable:!u,active:x,children:(0,t.jsx)(b,{disabled:u,required:c.required,checked:x,...f,...d,name:c.name,ref:h,onCheck:()=>c.onValueChange(d.value),onKeyDown:(0,a.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(d.onFocus,()=>{v.current&&p.current?.click()})})})});L.displayName=F;var P=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,...s}=e,i=A(a);return(0,t.jsx)(y,{...i,...s,ref:r})});P.displayName="RadioGroupIndicator";var T=e.i(733498),B=e.i(647163);function H({className:e,...r}){return(0,t.jsx)(D,{"data-slot":"radio-group",className:(0,B.cn)("grid gap-3",e),...r})}function G({className:e,...r}){return(0,t.jsx)(L,{"data-slot":"radio-group-item",className:(0,B.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(P,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(T.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}e.s(["RadioGroup",()=>H,"RadioGroupItem",()=>G],416540)},67157,e=>{"use strict";let t=(0,e.i(475254).default)("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);e.s(["default",()=>t])},451031,e=>{"use strict";var t=e.i(67157);e.s(["Bitcoin",()=>t.default])},922125,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(167881),s=e.i(23750),i=e.i(10708),n=e.i(970065),o=e.i(416540),l=e.i(871689),d=e.i(107233),c=e.i(561659),u=e.i(342920),m=e.i(451031),f=e.i(531278),p=e.i(269638),h=e.i(522016),x=e.i(920755),v=e.i(618566);let b=[{id:"card",label:"Credit/Debit Card",icon:c.CreditCard,description:"Visa, Mastercard, etc."},{id:"bank",label:"Bank Transfer",icon:u.Building,description:"Direct bank transfer"},{id:"crypto",label:"Cryptocurrency",icon:m.Bitcoin,description:"BTC, ETH, USDT"}],g=[10,25,50,100,250,500];function y(){let[e,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[y,j]=(0,r.useState)({amount:"",method:"card"}),w=(0,v.useRouter)(),C=(0,x.createClient)(),k=async e=>{e.preventDefault(),c(!0);let{data:{user:t}}=await C.auth.getUser();if(!t)return void w.push("/auth/sign-in");let{data:r}=await C.from("profiles").select("wallet_balance").eq("id",t.id).single(),a=r?.wallet_balance||0,s=Number.parseFloat(y.amount),{error:i}=await C.from("profiles").update({wallet_balance:a+s}).eq("id",t.id);i||(await C.from("transactions").insert({buyer_id:t.id,amount:s,type:"deposit",status:"completed"}),m(!0),setTimeout(()=>w.push("/dashboard/wallet"),2e3)),c(!1)};return u?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)(n.Card,{className:"max-w-md w-full text-center",children:(0,t.jsxs)(n.CardContent,{className:"pt-12 pb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(p.CheckCircle,{className:"h-8 w-8 text-green-600"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Funds Added!"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Your wallet has been topped up. Redirecting..."})]})})}):(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(h.default,{href:"/dashboard/wallet",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-1",children:[(0,t.jsx)(l.ArrowLeft,{className:"h-4 w-4"}),"Back to Wallet"]})}),(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Plus,{className:"h-5 w-5"}),"Add Funds"]}),(0,t.jsx)(n.CardDescription,{children:"Top up your wallet to make purchases"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Label,{children:"Amount (USD)"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2 mb-3",children:g.map(e=>(0,t.jsxs)(a.Button,{type:"button",variant:y.amount===String(e)?"default":"outline",onClick:()=>j({...y,amount:String(e)}),className:y.amount!==String(e)?"bg-transparent":"",children:["$",e]},e))}),(0,t.jsx)(s.Input,{type:"number",min:"1",step:"0.01",placeholder:"Or enter custom amount",value:y.amount,onChange:e=>j({...y,amount:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Label,{children:"Payment Method"}),(0,t.jsx)(o.RadioGroup,{value:y.method,onValueChange:e=>j({...y,method:e}),className:"mt-2 space-y-3",children:b.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)(o.RadioGroupItem,{value:e.id,id:e.id,className:"peer sr-only"}),(0,t.jsxs)(i.Label,{htmlFor:e.id,className:"flex items-center gap-4 p-4 border rounded-lg cursor-pointer peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(e.icon,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})]},e.id))})]}),y.amount&&(0,t.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Deposit Amount"}),(0,t.jsxs)("span",{children:["$",y.amount]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Processing Fee"}),(0,t.jsx)("span",{children:"$0.00"})]}),(0,t.jsxs)("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{children:["$",y.amount]})]})]}),(0,t.jsxs)(a.Button,{type:"submit",className:"w-full",disabled:e||!y.amount,children:[e&&(0,t.jsx)(f.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Processing...":`Add $${y.amount||"0"} to Wallet`]})]})})]})]})}e.s(["default",()=>y])}]);