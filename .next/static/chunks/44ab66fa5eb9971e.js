(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,970065,e=>{"use strict";var t=e.i(843476),r=e.i(647163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>n,"CardHeader",()=>s,"CardTitle",()=>i])},994179,e=>{"use strict";var t=e.i(843476),r=e.i(991918),a=e.i(225913),s=e.i(647163);let i=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,asChild:n=!1,...o}){let l=n?r.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,s.cn)(i({variant:a}),e),...o})}e.s(["Badge",()=>n])},755838,(e,t,r)=>{"use strict";var a=e.r(271645),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useState,n=a.useEffect,o=a.useLayoutEffect,l=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=i({inst:{value:r,getSnapshot:t}}),s=a[0].inst,d=a[1];return o(function(){s.value=r,s.getSnapshot=t,c(s)&&d({inst:s})},[e,r,t]),n(function(){return c(s)&&d({inst:s}),e(function(){c(s)&&d({inst:s})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},802239,(e,t,r)=>{"use strict";t.exports=e.r(755838)},63270,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(30207),s=e.i(934620);e.i(174080);var i=e.i(991918),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=(0,i.createSlot)(`Primitive.${a}`),n=r.forwardRef((e,r)=>{let{asChild:i,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?s:a,{...n,ref:r})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),o=e.i(802239);function l(){return()=>{}}var c="Avatar",[d,u]=function(e,a=[]){let s=[],i=()=>{let t=s.map(e=>r.createContext(e));return function(a){let s=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return i.scopeName=e,[function(a,i){let n=r.createContext(i);n.displayName=a+"Context";let o=s.length;s=[...s,i];let l=a=>{let{scope:s,children:i,...l}=a,c=s?.[e]?.[o]||n,d=r.useMemo(()=>l,Object.values(l));return(0,t.jsx)(c.Provider,{value:d,children:i})};return l.displayName=a+"Provider",[l,function(t,s){let l=s?.[e]?.[o]||n,c=r.useContext(l);if(c)return c;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${a}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=a.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return a.scopeName=t.scopeName,a}(i,...a)]}(c),[m,f]=d(c),p=r.forwardRef((e,a)=>{let{__scopeAvatar:s,...i}=e,[o,l]=r.useState("idle");return(0,t.jsx)(m,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:(0,t.jsx)(n.span,{...i,ref:a})})});p.displayName=c;var x="AvatarImage",g=r.forwardRef((e,i)=>{let{__scopeAvatar:c,src:d,onLoadingStatusChange:u=()=>{},...m}=e,p=f(x,c),g=function(e,{referrerPolicy:t,crossOrigin:a}){let i=(0,o.useSyncExternalStore)(l,()=>!0,()=>!1),n=r.useRef(null),c=i?(n.current||(n.current=new window.Image),n.current):null,[d,u]=r.useState(()=>j(c,e));return(0,s.useLayoutEffect)(()=>{u(j(c,e))},[c,e]),(0,s.useLayoutEffect)(()=>{let e=e=>()=>{u(e)};if(!c)return;let r=e("loaded"),s=e("error");return c.addEventListener("load",r),c.addEventListener("error",s),t&&(c.referrerPolicy=t),"string"==typeof a&&(c.crossOrigin=a),()=>{c.removeEventListener("load",r),c.removeEventListener("error",s)}},[c,a,t]),d}(d,m),v=(0,a.useCallbackRef)(e=>{u(e),p.onImageLoadingStatusChange(e)});return(0,s.useLayoutEffect)(()=>{"idle"!==g&&v(g)},[g,v]),"loaded"===g?(0,t.jsx)(n.img,{...m,ref:i,src:d}):null});g.displayName=x;var v="AvatarFallback",h=r.forwardRef((e,a)=>{let{__scopeAvatar:s,delayMs:i,...o}=e,l=f(v,s),[c,d]=r.useState(void 0===i);return r.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>d(!0),i);return()=>window.clearTimeout(e)}},[i]),c&&"loaded"!==l.imageLoadingStatus?(0,t.jsx)(n.span,{...o,ref:a}):null});function j(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}h.displayName=v;var b=e.i(647163);function w({className:e,...r}){return(0,t.jsx)(p,{"data-slot":"avatar",className:(0,b.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function C({className:e,...r}){return(0,t.jsx)(g,{"data-slot":"avatar-image",className:(0,b.cn)("aspect-square size-full",e),...r})}function y({className:e,...r}){return(0,t.jsx)(h,{"data-slot":"avatar-fallback",className:(0,b.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}e.s(["Avatar",()=>w,"AvatarFallback",()=>y,"AvatarImage",()=>C],63270)},406321,e=>{"use strict";let t=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>t])},269638,e=>{"use strict";var t=e.i(406321);e.s(["CheckCircle",()=>t.default])},842727,e=>{"use strict";var t=e.i(271645),r=e.i(981140),a=e.i(75830),s=e.i(820783),i=e.i(30030),n=e.i(610772),o=e.i(248425),l=e.i(30207),c=e.i(369340),d=e.i(586318),u=e.i(843476),m="rovingFocusGroup.onEntryFocus",f={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[x,g,v]=(0,a.createCollection)(p),[h,j]=(0,i.createContextScope)(p,[v]),[b,w]=h(p),C=t.forwardRef((e,t)=>(0,u.jsx)(x.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(x.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(y,{...e,ref:t})})}));C.displayName=p;var y=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:i,orientation:n,loop:x=!1,dir:v,currentTabStopId:h,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:w,onEntryFocus:C,preventScrollOnEntryFocus:y=!1,...N}=e,_=t.useRef(null),T=(0,s.useComposedRefs)(a,_),k=(0,d.useDirection)(v),[R,A]=(0,c.useControllableState)({prop:h,defaultProp:j??null,onChange:w,caller:p}),[E,D]=t.useState(!1),I=(0,l.useCallbackRef)(C),L=g(i),F=t.useRef(!1),[P,H]=t.useState(0);return t.useEffect(()=>{let e=_.current;if(e)return e.addEventListener(m,I),()=>e.removeEventListener(m,I)},[I]),(0,u.jsx)(b,{scope:i,orientation:n,dir:k,loop:x,currentTabStopId:R,onItemFocus:t.useCallback(e=>A(e),[A]),onItemShiftTab:t.useCallback(()=>D(!0),[]),onFocusableItemAdd:t.useCallback(()=>H(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>H(e=>e-1),[]),children:(0,u.jsx)(o.Primitive.div,{tabIndex:E||0===P?-1:0,"data-orientation":n,...N,ref:T,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!E){let t=new CustomEvent(m,f);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=L().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===R),...e].filter(Boolean).map(e=>e.ref.current),y)}}F.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>D(!1))})})}),N="RovingFocusGroupItem",_=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,focusable:i=!0,active:l=!1,tabStopId:c,children:d,...m}=e,f=(0,n.useId)(),p=c||f,v=w(N,s),h=v.currentTabStopId===p,j=g(s),{onFocusableItemAdd:b,onFocusableItemRemove:C,currentTabStopId:y}=v;return t.useEffect(()=>{if(i)return b(),()=>C()},[i,b,C]),(0,u.jsx)(x.ItemSlot,{scope:s,id:p,focusable:i,active:l,children:(0,u.jsx)(o.Primitive.span,{tabIndex:h?0:-1,"data-orientation":v.orientation,...m,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{i?v.onItemFocus(p):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>v.onItemFocus(p)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void v.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return T[s]}(e,v.orientation,v.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=j().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&s.reverse();let i=s.indexOf(e.currentTarget);s=v.loop?(r=s,a=i+1,r.map((e,t)=>r[(a+t)%r.length])):s.slice(i+1)}setTimeout(()=>S(s))}}),children:"function"==typeof d?d({isCurrentTabStop:h,hasTabStop:null!=y}):d})})});_.displayName=N;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>_,"Root",()=>C,"createRovingFocusGroupScope",()=>j])},127341,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(981140),s=e.i(30030),i=e.i(842727),n=e.i(296626),o=e.i(248425),l=e.i(586318),c=e.i(369340),d=e.i(610772),u="Tabs",[m,f]=(0,s.createContextScope)(u,[i.createRovingFocusGroupScope]),p=(0,i.createRovingFocusGroupScope)(),[x,g]=m(u),v=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:s,onValueChange:i,defaultValue:n,orientation:m="horizontal",dir:f,activationMode:p="automatic",...g}=e,v=(0,l.useDirection)(f),[h,j]=(0,c.useControllableState)({prop:s,onChange:i,defaultProp:n??"",caller:u});return(0,t.jsx)(x,{scope:a,baseId:(0,d.useId)(),value:h,onValueChange:j,orientation:m,dir:v,activationMode:p,children:(0,t.jsx)(o.Primitive.div,{dir:v,"data-orientation":m,...g,ref:r})})});v.displayName=u;var h="TabsList",j=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,l=g(h,a),c=p(a);return(0,t.jsx)(i.Root,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:s,children:(0,t.jsx)(o.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:r})})});j.displayName=h;var b="TabsTrigger",w=r.forwardRef((e,r)=>{let{__scopeTabs:s,value:n,disabled:l=!1,...c}=e,d=g(b,s),u=p(s),m=N(d.baseId,n),f=_(d.baseId,n),x=n===d.value;return(0,t.jsx)(i.Item,{asChild:!0,...u,focusable:!l,active:x,children:(0,t.jsx)(o.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":f,"data-state":x?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...c,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(n)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(n)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||l||!e||d.onValueChange(n)})})})});w.displayName=b;var C="TabsContent",y=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:i,forceMount:l,children:c,...d}=e,u=g(C,s),m=N(u.baseId,i),f=_(u.baseId,i),p=i===u.value,x=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:l||p,children:({present:r})=>(0,t.jsx)(o.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!r,id:f,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:x.current?"0s":void 0},children:r&&c})})});function N(e,t){return`${e}-trigger-${t}`}function _(e,t){return`${e}-content-${t}`}y.displayName=C;var T=e.i(647163);function S({className:e,...r}){return(0,t.jsx)(v,{"data-slot":"tabs",className:(0,T.cn)("flex flex-col gap-2",e),...r})}function k({className:e,...r}){return(0,t.jsx)(j,{"data-slot":"tabs-list",className:(0,T.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...r})}function R({className:e,...r}){return(0,t.jsx)(w,{"data-slot":"tabs-trigger",className:(0,T.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function A({className:e,...r}){return(0,t.jsx)(y,{"data-slot":"tabs-content",className:(0,T.cn)("flex-1 outline-none",e),...r})}e.s(["Tabs",()=>S,"TabsContent",()=>A,"TabsList",()=>k,"TabsTrigger",()=>R],127341)},717521,e=>{"use strict";let t=(0,e.i(475254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t])},531278,e=>{"use strict";var t=e.i(717521);e.s(["Loader2",()=>t.default])},184762,e=>{"use strict";var t=e.i(843476),r=e.i(647163);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},949411,e=>{"use strict";let t=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["default",()=>t])},503116,e=>{"use strict";var t=e.i(949411);e.s(["Clock",()=>t.default])},798031,e=>{"use strict";let t=(0,e.i(475254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["default",()=>t])},373884,e=>{"use strict";var t=e.i(798031);e.s(["XCircle",()=>t.default])},744237,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(618566),s=e.i(915505),i=e.i(269638),n=e.i(373884),o=e.i(503116),l=e.i(284614),c=e.i(531278),d=e.i(167881),u=e.i(970065),m=e.i(994179),f=e.i(63270),p=e.i(127341),x=e.i(630374),g=e.i(184762),v=e.i(920755),h=e.i(522016);function j({swap:e,currentUserId:j}){let b=(0,a.useRouter)();(0,v.createClient)();let[w,C]=(0,r.useState)(!1),[y,N]=(0,r.useState)({type:"",open:!1}),[_,T]=(0,r.useState)(""),S=e.initiator_id===j;S?e.target_user:e.initiator;let k=async t=>{C(!0);try{let r={action:t};"reject"===t&&_&&(r.reason=_);let a=await fetch(`/api/swaps/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to process action")}b.refresh(),N({type:"",open:!1})}catch(e){console.error("Action error:",e),alert(e.message)}finally{C(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(h.default,{href:"/swap-center",children:(0,t.jsx)(d.Button,{variant:"ghost",size:"icon",children:"â†"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Swap Details"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"View and manage swap proposal"})]})]}),(0,t.jsx)(m.Badge,{variant:"outline",className:"pending"===e.status?"bg-yellow-500/10 text-yellow-600":"accepted"===e.status?"bg-green-500/10 text-green-600":"completed"===e.status?"bg-blue-500/10 text-blue-600":"bg-gray-500/10 text-gray-600",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{children:"Swap Overview"})}),(0,t.jsxs)(u.CardContent,{children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(l.User,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"You're Offering"})]}),e.offering_listing?(0,t.jsx)(h.default,{href:`/marketplace/listing/${e.offering_listing.id}`,children:(0,t.jsx)(u.Card,{className:"hover:border-primary/50 transition-colors cursor-pointer",children:(0,t.jsxs)(u.CardContent,{className:"p-4",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.offering_listing.title}),e.offering_listing.images?.[0]&&(0,t.jsx)("img",{src:e.offering_listing.images[0],alt:e.offering_listing.title,className:"w-full h-32 object-cover rounded-lg mt-2"}),e.offering_value&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Value: $",e.offering_value]})]})})}):(0,t.jsxs)("div",{className:"p-4 bg-secondary/30 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium",children:e.offering_description}),e.offering_value&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Value: $",e.offering_value]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(s.ArrowLeftRight,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"You're Requesting"})]}),e.target_listing?(0,t.jsx)(h.default,{href:`/marketplace/listing/${e.target_listing.id}`,children:(0,t.jsx)(u.Card,{className:"hover:border-primary/50 transition-colors cursor-pointer",children:(0,t.jsxs)(u.CardContent,{className:"p-4",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.target_listing.title}),e.target_listing.images?.[0]&&(0,t.jsx)("img",{src:e.target_listing.images[0],alt:e.target_listing.title,className:"w-full h-32 object-cover rounded-lg mt-2"}),e.requesting_value&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Value: $",e.requesting_value]})]})})}):(0,t.jsxs)("div",{className:"p-4 bg-secondary/30 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium",children:e.requesting_description}),e.requesting_value&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Value: $",e.requesting_value]})]})]})]}),e.price_difference&&0!==e.price_difference&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-secondary/30 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Price Difference"}),(0,t.jsxs)("span",{className:`font-semibold ${e.price_difference>0?"text-green-600":"text-red-600"}`,children:[e.price_difference>0?"+":"","$",e.price_difference]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.price_difference>0?"You pay this amount":"You receive this amount"})]})]})]}),(0,t.jsxs)(p.Tabs,{defaultValue:"terms",children:[(0,t.jsxs)(p.TabsList,{children:[(0,t.jsx)(p.TabsTrigger,{value:"terms",children:"Terms"}),(0,t.jsx)(p.TabsTrigger,{value:"parties",children:"Parties"}),(0,t.jsx)(p.TabsTrigger,{value:"timeline",children:"Timeline"})]}),(0,t.jsx)(p.TabsContent,{value:"terms",className:"space-y-4",children:(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{children:"Swap Terms"})}),(0,t.jsxs)(u.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Swap Mode"}),(0,t.jsx)("p",{className:"font-medium",children:e.swap_mode.replace("_"," ")})]}),e.ownership_transfer_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Ownership Transfer"}),(0,t.jsx)("p",{className:"font-medium",children:e.ownership_transfer_type})]}),e.usage_rights&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Usage Rights"}),(0,t.jsx)("p",{className:"font-medium",children:e.usage_rights})]}),e.contract_duration_days&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Contract Duration"}),(0,t.jsxs)("p",{className:"font-medium",children:[e.contract_duration_days," days"]})]})]})]})}),(0,t.jsx)(p.TabsContent,{value:"parties",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{children:"Initiator"})}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(f.Avatar,{className:"h-12 w-12",children:[(0,t.jsx)(f.AvatarImage,{src:e.initiator?.avatar_url||void 0}),(0,t.jsx)(f.AvatarFallback,{children:(e.initiator?.full_name||"U")[0]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e.initiator?.full_name||"User"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.initiator?.reputation_score||0," reputation"]})]})]})})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{children:"Target User"})}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(f.Avatar,{className:"h-12 w-12",children:[(0,t.jsx)(f.AvatarImage,{src:e.target_user?.avatar_url||void 0}),(0,t.jsx)(f.AvatarFallback,{children:(e.target_user?.full_name||"U")[0]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e.target_user?.full_name||"User"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.target_user?.reputation_score||0," reputation"]})]})]})})]})]})}),(0,t.jsx)(p.TabsContent,{value:"timeline",className:"space-y-4",children:(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{children:"Timeline"})}),(0,t.jsxs)(u.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Created"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]})]}),e.accepted_at&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i.CheckCircle,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Accepted"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.accepted_at).toLocaleString()})]})]}),e.completed_at&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i.CheckCircle,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Completed"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.completed_at).toLocaleString()})]})]})]})]})})]}),"pending"===e.status&&!S&&(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsx)(u.CardTitle,{children:"Actions"}),(0,t.jsx)(u.CardDescription,{children:"Accept or reject this swap proposal"})]}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(d.Button,{onClick:()=>k("accept"),disabled:w,className:"flex-1",children:[w?(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(i.CheckCircle,{className:"mr-2 h-4 w-4"}),"Accept Swap"]}),(0,t.jsxs)(d.Button,{variant:"destructive",onClick:()=>N({type:"reject",open:!0}),disabled:w,className:"flex-1",children:[(0,t.jsx)(n.XCircle,{className:"mr-2 h-4 w-4"}),"Reject"]})]})})]}),"accepted"===e.status&&(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsx)(u.CardTitle,{children:"Next Steps"}),(0,t.jsx)(u.CardDescription,{children:"Complete the swap execution"})]}),(0,t.jsx)(u.CardContent,{children:(0,t.jsxs)(d.Button,{onClick:()=>k("complete"),disabled:w,className:"w-full",children:[w?(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(i.CheckCircle,{className:"mr-2 h-4 w-4"}),"Mark as Completed"]})})]}),(0,t.jsx)(x.Dialog,{open:y.open&&"reject"===y.type,onOpenChange:e=>N({type:"",open:e}),children:(0,t.jsxs)(x.DialogContent,{children:[(0,t.jsxs)(x.DialogHeader,{children:[(0,t.jsx)(x.DialogTitle,{children:"Reject Swap Proposal"}),(0,t.jsx)(x.DialogDescription,{children:"Provide a reason for rejecting this swap (optional)"})]}),(0,t.jsx)(g.Textarea,{value:_,onChange:e=>T(e.target.value),placeholder:"Reason for rejection...",rows:4}),(0,t.jsxs)(x.DialogFooter,{children:[(0,t.jsx)(d.Button,{variant:"outline",onClick:()=>N({type:"",open:!1}),children:"Cancel"}),(0,t.jsxs)(d.Button,{variant:"destructive",onClick:()=>k("reject"),disabled:w,children:[w?(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Reject Swap"]})]})]})})]})}e.s(["SwapDetailView",()=>j])}]);